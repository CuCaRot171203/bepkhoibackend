2025-03-25 17:08:28.114 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-25 17:08:28.361 +07:00 [INF] Now listening on: https://localhost:7257
2025-03-25 17:08:28.362 +07:00 [INF] Now listening on: http://localhost:5287
2025-03-25 17:08:28.462 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-25 17:08:28.464 +07:00 [INF] Hosting environment: Development
2025-03-25 17:08:28.464 +07:00 [INF] Content root path: D:\DoAN - update QR\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-03-25 17:08:29.911 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-03-25 17:08:30.119 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 210.8097ms
2025-03-25 17:08:30.142 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-03-25 17:08:30.146 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 3.3433ms
2025-03-25 17:08:30.427 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-03-25 17:08:30.483 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 56.0249ms
2025-03-25 17:08:30.625 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-03-25 17:08:30.669 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 44.1088ms
2025-03-25 17:08:54.371 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7257/api/rooms/create application/json 167
2025-03-25 17:08:54.411 +07:00 [INF] CORS policy execution failed.
2025-03-25 17:08:54.412 +07:00 [INF] Request origin https://localhost:7257 does not have permission to access the resource.
2025-03-25 17:08:55.232 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.RoomController.Create (BepKhoiBackend.API)'
2025-03-25 17:08:55.265 +07:00 [INF] Route matched with {action = "Create", controller = "Room"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(BepKhoiBackend.BusinessObject.dtos.RoomDto.RoomCreateDto) on controller BepKhoiBackend.API.Controllers.RoomController (BepKhoiBackend.API).
2025-03-25 17:09:01.048 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-03-25 17:09:01.937 +07:00 [ERR] An error occurred using the connection to database 'bepkhoi' on server '(local)'.
2025-03-25 17:09:01.981 +07:00 [ERR] An exception occurred in the database while saving changes for context type 'BepKhoiBackend.DataAccess.Models.bepkhoiContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Login failed for user 'sa'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.BeginTransactionAsync(IsolationLevel isolationLevel, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.BeginTransactionAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
ClientConnectionId:a02ab9ee-e68c-4189-b641-65b98d2d6d99
Error Number:18456,State:1,Class:14
Microsoft.Data.SqlClient.SqlException (0x80131904): Login failed for user 'sa'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.BeginTransactionAsync(IsolationLevel isolationLevel, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.BeginTransactionAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
ClientConnectionId:a02ab9ee-e68c-4189-b641-65b98d2d6d99
Error Number:18456,State:1,Class:14
2025-03-25 17:09:01.999 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.RoomController.Create (BepKhoiBackend.API) in 6729.3472ms
2025-03-25 17:09:02.003 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.RoomController.Create (BepKhoiBackend.API)'
2025-03-25 17:09:02.006 +07:00 [ERR] Error: Login failed for user 'sa'.
2025-03-25 17:09:02.012 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7257/api/rooms/create application/json 167 - 500 - application/json 7640.6825ms
2025-03-25 17:09:19.315 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-03-25 17:09:19.318 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 3.1325ms
2025-03-25 17:09:19.616 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-03-25 17:09:19.617 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 0.8069ms
2025-03-25 17:09:19.631 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-03-25 17:09:19.638 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 7.2741ms
2025-03-25 17:09:19.784 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-03-25 17:09:19.809 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 25.0096ms
2025-03-25 17:09:33.852 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7257/api/rooms/create application/json 170
2025-03-25 17:09:33.857 +07:00 [INF] CORS policy execution failed.
2025-03-25 17:09:33.858 +07:00 [INF] Request origin https://localhost:7257 does not have permission to access the resource.
2025-03-25 17:09:33.859 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.RoomController.Create (BepKhoiBackend.API)'
2025-03-25 17:09:33.860 +07:00 [INF] Route matched with {action = "Create", controller = "Room"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(BepKhoiBackend.BusinessObject.dtos.RoomDto.RoomCreateDto) on controller BepKhoiBackend.API.Controllers.RoomController (BepKhoiBackend.API).
2025-03-25 17:09:35.621 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-03-25 17:09:35.883 +07:00 [ERR] Failed executing DbCommand (84ms) [Parameters=[@p0='?' (DbType = Boolean), @p1='?' (DbType = Boolean), @p2='?' (DbType = Int32), @p3='?' (Size = 255), @p4='?' (DbType = Int32), @p5='?' (Size = 100), @p6='?' (Size = 255), @p7='?' (DbType = Int32), @p8='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Room] ([isDelete], [isUse], [Ordinal_number], [Qr_code_url], [Room_area_id], [Room_name], [Room_note], [Seat_number], [Status])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT [Room_id]
FROM [Room]
WHERE @@ROWCOUNT = 1 AND [Room_id] = scope_identity();
2025-03-25 17:09:35.897 +07:00 [ERR] An exception occurred in the database while saving changes for context type 'BepKhoiBackend.DataAccess.Models.bepkhoiContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK__Room__Room_area___25518C17". The conflict occurred in database "bepkhoi1", table "dbo.Room_area", column 'Room_area_id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:4ddcd42b-87e4-4be8-8833-d3a66e1df5ca
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK__Room__Room_area___25518C17". The conflict occurred in database "bepkhoi1", table "dbo.Room_area", column 'Room_area_id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:4ddcd42b-87e4-4be8-8833-d3a66e1df5ca
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-03-25 17:09:35.902 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.RoomController.Create (BepKhoiBackend.API) in 2040.6419ms
2025-03-25 17:09:35.903 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.RoomController.Create (BepKhoiBackend.API)'
2025-03-25 17:09:35.904 +07:00 [ERR] Error: An error occurred while saving the entity changes. See the inner exception for details.
2025-03-25 17:09:35.905 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7257/api/rooms/create application/json 170 - 500 - application/json 2053.3637ms
2025-03-25 17:09:50.226 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7257/api/rooms/create application/json 167
2025-03-25 17:09:50.227 +07:00 [INF] CORS policy execution failed.
2025-03-25 17:09:50.228 +07:00 [INF] Request origin https://localhost:7257 does not have permission to access the resource.
2025-03-25 17:09:50.235 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.RoomController.Create (BepKhoiBackend.API)'
2025-03-25 17:09:50.236 +07:00 [INF] Route matched with {action = "Create", controller = "Room"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(BepKhoiBackend.BusinessObject.dtos.RoomDto.RoomCreateDto) on controller BepKhoiBackend.API.Controllers.RoomController (BepKhoiBackend.API).
2025-03-25 17:09:51.977 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-03-25 17:09:51.989 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Boolean), @p1='?' (DbType = Boolean), @p2='?' (DbType = Int32), @p3='?' (Size = 255), @p4='?' (DbType = Int32), @p5='?' (Size = 100), @p6='?' (Size = 255), @p7='?' (DbType = Int32), @p8='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Room] ([isDelete], [isUse], [Ordinal_number], [Qr_code_url], [Room_area_id], [Room_name], [Room_note], [Seat_number], [Status])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT [Room_id]
FROM [Room]
WHERE @@ROWCOUNT = 1 AND [Room_id] = scope_identity();
2025-03-25 17:09:52.030 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-25 17:09:52.033 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.RoomController.Create (BepKhoiBackend.API) in 1795.7736ms
2025-03-25 17:09:52.034 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.RoomController.Create (BepKhoiBackend.API)'
2025-03-25 17:09:52.034 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7257/api/rooms/create application/json 167 - 200 - application/json;+charset=utf-8 1808.8082ms
2025-03-25 19:26:43.573 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-25 19:26:43.756 +07:00 [INF] Now listening on: https://localhost:7257
2025-03-25 19:26:43.757 +07:00 [INF] Now listening on: http://localhost:5287
2025-03-25 19:26:43.855 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-25 19:26:43.856 +07:00 [INF] Hosting environment: Development
2025-03-25 19:26:43.856 +07:00 [INF] Content root path: D:\DoAN - update QR\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-03-25 19:26:44.072 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-03-25 19:26:44.206 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 136.3382ms
2025-03-25 19:26:44.260 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-03-25 19:26:44.260 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-03-25 19:26:44.263 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 2.9617ms
2025-03-25 19:26:44.292 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 31.4088ms
2025-03-25 19:26:44.634 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-03-25 19:26:44.680 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 45.8057ms
2025-03-25 19:27:04.366 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7257/api/rooms/generate-qr/1 - 0
2025-03-25 19:27:04.409 +07:00 [INF] CORS policy execution failed.
2025-03-25 19:27:04.410 +07:00 [INF] Request origin https://localhost:7257 does not have permission to access the resource.
2025-03-25 19:27:04.436 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.RoomController.GenerateQRCodeForRoom (BepKhoiBackend.API)'
2025-03-25 19:27:04.463 +07:00 [INF] Route matched with {action = "GenerateQRCodeForRoom", controller = "Room"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GenerateQRCodeForRoom(Int32) on controller BepKhoiBackend.API.Controllers.RoomController (BepKhoiBackend.API).
2025-03-25 19:27:05.281 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-03-25 19:27:05.702 +07:00 [INF] Executed DbCommand (41ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Room_id], [r].[isDelete], [r].[isUse], [r].[Ordinal_number], [r].[Qr_code_url], [r].[Room_area_id], [r].[Room_name], [r].[Room_note], [r].[Seat_number], [r].[Status]
FROM [Room] AS [r]
WHERE ([r].[Room_id] = @__id_0) AND ([r].[isDelete] = CAST(0 AS bit))
2025-03-25 19:27:05.822 +07:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-25 19:27:05.832 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.RoomController.GenerateQRCodeForRoom (BepKhoiBackend.API) in 1363.967ms
2025-03-25 19:27:05.833 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.RoomController.GenerateQRCodeForRoom (BepKhoiBackend.API)'
2025-03-25 19:27:05.837 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7257/api/rooms/generate-qr/1 - 0 - 500 - application/json;+charset=utf-8 1471.3060ms
2025-03-25 19:27:12.223 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-03-25 19:27:12.228 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 5.3346ms
2025-03-25 19:27:12.274 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-03-25 19:27:12.276 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 1.8058ms
2025-03-25 19:27:12.533 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-03-25 19:27:12.547 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 14.3362ms
2025-03-25 19:27:12.677 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-03-25 19:27:12.697 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 20.0231ms
2025-03-25 19:27:23.265 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7257/api/rooms/generate-qr/1 - 0
2025-03-25 19:27:23.269 +07:00 [INF] CORS policy execution failed.
2025-03-25 19:27:23.270 +07:00 [INF] Request origin https://localhost:7257 does not have permission to access the resource.
2025-03-25 19:27:23.271 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.RoomController.GenerateQRCodeForRoom (BepKhoiBackend.API)'
2025-03-25 19:27:23.272 +07:00 [INF] Route matched with {action = "GenerateQRCodeForRoom", controller = "Room"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GenerateQRCodeForRoom(Int32) on controller BepKhoiBackend.API.Controllers.RoomController (BepKhoiBackend.API).
2025-03-25 19:27:23.280 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-03-25 19:27:23.285 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Room_id], [r].[isDelete], [r].[isUse], [r].[Ordinal_number], [r].[Qr_code_url], [r].[Room_area_id], [r].[Room_name], [r].[Room_note], [r].[Seat_number], [r].[Status]
FROM [Room] AS [r]
WHERE ([r].[Room_id] = @__id_0) AND ([r].[isDelete] = CAST(0 AS bit))
2025-03-25 19:27:23.290 +07:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-25 19:27:23.291 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.RoomController.GenerateQRCodeForRoom (BepKhoiBackend.API) in 18.1364ms
2025-03-25 19:27:23.292 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.RoomController.GenerateQRCodeForRoom (BepKhoiBackend.API)'
2025-03-25 19:27:23.293 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7257/api/rooms/generate-qr/1 - 0 - 500 - application/json;+charset=utf-8 27.6635ms
2025-03-25 19:28:12.860 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-25 19:28:13.002 +07:00 [INF] Now listening on: https://localhost:7257
2025-03-25 19:28:13.003 +07:00 [INF] Now listening on: http://localhost:5287
2025-03-25 19:28:13.122 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-25 19:28:13.122 +07:00 [INF] Hosting environment: Development
2025-03-25 19:28:13.123 +07:00 [INF] Content root path: D:\DoAN - update QR\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-03-25 19:28:13.604 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-03-25 19:28:13.768 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 166.3235ms
2025-03-25 19:28:13.797 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-03-25 19:28:13.799 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 2.8842ms
2025-03-25 19:28:13.887 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-03-25 19:28:13.924 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 36.8643ms
2025-03-25 19:28:13.969 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-03-25 19:28:14.038 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 68.0515ms
2025-03-25 19:28:22.067 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-03-25 19:28:22.069 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 2.8062ms
2025-03-25 19:28:22.090 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-03-25 19:28:22.093 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-03-25 19:28:22.095 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 2.1584ms
2025-03-25 19:28:22.100 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 9.8099ms
2025-03-25 19:28:22.272 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-03-25 19:28:22.297 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 25.1909ms
2025-03-25 19:28:34.704 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7257/api/rooms/generate-qr/1 - 0
2025-03-25 19:28:34.725 +07:00 [INF] CORS policy execution failed.
2025-03-25 19:28:34.726 +07:00 [INF] Request origin https://localhost:7257 does not have permission to access the resource.
2025-03-25 19:28:34.748 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.RoomController.GenerateQRCodeForRoom (BepKhoiBackend.API)'
2025-03-25 19:28:34.769 +07:00 [INF] Route matched with {action = "GenerateQRCodeForRoom", controller = "Room"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GenerateQRCodeForRoom(Int32) on controller BepKhoiBackend.API.Controllers.RoomController (BepKhoiBackend.API).
2025-03-25 19:28:35.461 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-03-25 19:28:35.864 +07:00 [INF] Executed DbCommand (38ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Room_id], [r].[isDelete], [r].[isUse], [r].[Ordinal_number], [r].[Qr_code_url], [r].[Room_area_id], [r].[Room_name], [r].[Room_note], [r].[Seat_number], [r].[Status]
FROM [Room] AS [r]
WHERE ([r].[Room_id] = @__id_0) AND ([r].[isDelete] = CAST(0 AS bit))
2025-03-25 19:28:40.081 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Room_id], [r].[isDelete], [r].[isUse], [r].[Ordinal_number], [r].[Qr_code_url], [r].[Room_area_id], [r].[Room_name], [r].[Room_note], [r].[Seat_number], [r].[Status]
FROM [Room] AS [r]
WHERE ([r].[Room_id] = @__id_0) AND ([r].[isDelete] = CAST(0 AS bit))
2025-03-25 19:28:40.163 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Boolean), @p2='?' (DbType = Int32), @p3='?' (Size = 255), @p4='?' (DbType = Int32), @p5='?' (Size = 100), @p6='?' (Size = 255), @p7='?' (DbType = Int32), @p8='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Room] SET [isDelete] = @p0, [isUse] = @p1, [Ordinal_number] = @p2, [Qr_code_url] = @p3, [Room_area_id] = @p4, [Room_name] = @p5, [Room_note] = @p6, [Seat_number] = @p7, [Status] = @p8
WHERE [Room_id] = @p9;
SELECT @@ROWCOUNT;
2025-03-25 19:28:40.180 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType7`2[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-25 19:28:40.187 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.RoomController.GenerateQRCodeForRoom (BepKhoiBackend.API) in 5413.513ms
2025-03-25 19:28:40.190 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.RoomController.GenerateQRCodeForRoom (BepKhoiBackend.API)'
2025-03-25 19:28:40.196 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7257/api/rooms/generate-qr/1 - 0 - 200 - application/json;+charset=utf-8 5491.7030ms
2025-03-25 19:30:33.859 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-25 19:30:33.976 +07:00 [INF] Now listening on: https://localhost:7257
2025-03-25 19:30:33.978 +07:00 [INF] Now listening on: http://localhost:5287
2025-03-25 19:30:34.076 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-25 19:30:34.076 +07:00 [INF] Hosting environment: Development
2025-03-25 19:30:34.077 +07:00 [INF] Content root path: D:\DoAN - update QR\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-03-25 19:30:34.136 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-03-25 19:30:34.262 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 128.1207ms
2025-03-25 19:30:34.280 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-03-25 19:30:34.281 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-03-25 19:30:34.283 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 2.1171ms
2025-03-25 19:30:34.307 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 27.5346ms
2025-03-25 19:30:34.628 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-03-25 19:30:34.670 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 41.7992ms
2025-03-25 19:30:43.910 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7257/api/rooms/generate-qr/1 - 0
2025-03-25 19:30:43.932 +07:00 [INF] CORS policy execution failed.
2025-03-25 19:30:43.933 +07:00 [INF] Request origin https://localhost:7257 does not have permission to access the resource.
2025-03-25 19:30:43.955 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.RoomController.GenerateQRCodeForRoom (BepKhoiBackend.API)'
2025-03-25 19:30:43.972 +07:00 [INF] Route matched with {action = "GenerateQRCodeForRoom", controller = "Room"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GenerateQRCodeForRoom(Int32) on controller BepKhoiBackend.API.Controllers.RoomController (BepKhoiBackend.API).
2025-03-25 19:30:44.657 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-03-25 19:30:45.049 +07:00 [INF] Executed DbCommand (40ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Room_id], [r].[isDelete], [r].[isUse], [r].[Ordinal_number], [r].[Qr_code_url], [r].[Room_area_id], [r].[Room_name], [r].[Room_note], [r].[Seat_number], [r].[Status]
FROM [Room] AS [r]
WHERE ([r].[Room_id] = @__id_0) AND ([r].[isDelete] = CAST(0 AS bit))
2025-03-25 19:30:45.123 +07:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-25 19:30:45.131 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.RoomController.GenerateQRCodeForRoom (BepKhoiBackend.API) in 1154.3ms
2025-03-25 19:30:45.132 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.RoomController.GenerateQRCodeForRoom (BepKhoiBackend.API)'
2025-03-25 19:30:45.136 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7257/api/rooms/generate-qr/1 - 0 - 500 - application/json;+charset=utf-8 1226.8127ms
2025-03-25 19:34:28.162 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-25 19:34:28.291 +07:00 [INF] Now listening on: https://localhost:7257
2025-03-25 19:34:28.292 +07:00 [INF] Now listening on: http://localhost:5287
2025-03-25 19:34:28.399 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-25 19:34:28.400 +07:00 [INF] Hosting environment: Development
2025-03-25 19:34:28.400 +07:00 [INF] Content root path: D:\DoAN - update QR\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-03-25 19:34:28.841 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-03-25 19:34:28.962 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 123.0498ms
2025-03-25 19:34:28.978 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-03-25 19:34:28.978 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-03-25 19:34:28.981 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 3.0208ms
2025-03-25 19:34:29.005 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 26.2770ms
2025-03-25 19:34:29.339 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-03-25 19:34:29.372 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 33.2346ms
2025-03-25 19:34:41.787 +07:00 [INF] Request starting HTTP/2 DELETE https://localhost:7257/api/rooms/delete-qr/1 - -
2025-03-25 19:34:41.823 +07:00 [INF] CORS policy execution failed.
2025-03-25 19:34:41.824 +07:00 [INF] Request origin https://localhost:7257 does not have permission to access the resource.
2025-03-25 19:34:41.845 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.RoomController.DeleteQRCode (BepKhoiBackend.API)'
2025-03-25 19:34:41.867 +07:00 [INF] Route matched with {action = "DeleteQRCode", controller = "Room"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteQRCode(Int32) on controller BepKhoiBackend.API.Controllers.RoomController (BepKhoiBackend.API).
2025-03-25 19:34:42.572 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-03-25 19:34:42.992 +07:00 [INF] Executed DbCommand (42ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Room_id], [r].[isDelete], [r].[isUse], [r].[Ordinal_number], [r].[Qr_code_url], [r].[Room_area_id], [r].[Room_name], [r].[Room_note], [r].[Seat_number], [r].[Status]
FROM [Room] AS [r]
WHERE ([r].[Room_id] = @__id_0) AND ([r].[isDelete] = CAST(0 AS bit))
2025-03-25 19:34:44.768 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Boolean), @p2='?' (DbType = Int32), @p3='?' (Size = 255), @p4='?' (DbType = Int32), @p5='?' (Size = 100), @p6='?' (Size = 255), @p7='?' (DbType = Int32), @p8='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Room] SET [isDelete] = @p0, [isUse] = @p1, [Ordinal_number] = @p2, [Qr_code_url] = @p3, [Room_area_id] = @p4, [Room_name] = @p5, [Room_note] = @p6, [Seat_number] = @p7, [Status] = @p8
WHERE [Room_id] = @p9;
SELECT @@ROWCOUNT;
2025-03-25 19:34:44.785 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-25 19:34:44.790 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.RoomController.DeleteQRCode (BepKhoiBackend.API) in 2920.0329ms
2025-03-25 19:34:44.792 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.RoomController.DeleteQRCode (BepKhoiBackend.API)'
2025-03-25 19:34:44.799 +07:00 [INF] Request finished HTTP/2 DELETE https://localhost:7257/api/rooms/delete-qr/1 - - - 200 - application/json;+charset=utf-8 3011.7147ms
2025-03-25 19:35:54.164 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-25 19:35:54.293 +07:00 [INF] Now listening on: https://localhost:7257
2025-03-25 19:35:54.294 +07:00 [INF] Now listening on: http://localhost:5287
2025-03-25 19:35:54.392 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-25 19:35:54.393 +07:00 [INF] Hosting environment: Development
2025-03-25 19:35:54.394 +07:00 [INF] Content root path: D:\DoAN - update QR\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-03-25 19:35:54.466 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-03-25 19:35:54.588 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 125.0549ms
2025-03-25 19:35:54.608 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-03-25 19:35:54.608 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-03-25 19:35:54.611 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 2.7230ms
2025-03-25 19:35:54.632 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 23.7637ms
2025-03-25 19:35:55.041 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-03-25 19:35:55.094 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 53.2883ms
2025-03-25 19:36:06.267 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7257/api/rooms/generate-qr/1 - 0
2025-03-25 19:36:06.295 +07:00 [INF] CORS policy execution failed.
2025-03-25 19:36:06.297 +07:00 [INF] Request origin https://localhost:7257 does not have permission to access the resource.
2025-03-25 19:36:06.321 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.RoomController.GenerateQRCodeForRoom (BepKhoiBackend.API)'
2025-03-25 19:36:06.342 +07:00 [INF] Route matched with {action = "GenerateQRCodeForRoom", controller = "Room"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GenerateQRCodeForRoom(Int32) on controller BepKhoiBackend.API.Controllers.RoomController (BepKhoiBackend.API).
2025-03-25 19:36:07.005 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-03-25 19:36:07.393 +07:00 [INF] Executed DbCommand (40ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Room_id], [r].[isDelete], [r].[isUse], [r].[Ordinal_number], [r].[Qr_code_url], [r].[Room_area_id], [r].[Room_name], [r].[Room_note], [r].[Seat_number], [r].[Status]
FROM [Room] AS [r]
WHERE ([r].[Room_id] = @__id_0) AND ([r].[isDelete] = CAST(0 AS bit))
2025-03-25 19:36:12.283 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Room_id], [r].[isDelete], [r].[isUse], [r].[Ordinal_number], [r].[Qr_code_url], [r].[Room_area_id], [r].[Room_name], [r].[Room_note], [r].[Seat_number], [r].[Status]
FROM [Room] AS [r]
WHERE ([r].[Room_id] = @__id_0) AND ([r].[isDelete] = CAST(0 AS bit))
2025-03-25 19:36:12.362 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Boolean), @p2='?' (DbType = Int32), @p3='?' (Size = 255), @p4='?' (DbType = Int32), @p5='?' (Size = 100), @p6='?' (Size = 255), @p7='?' (DbType = Int32), @p8='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Room] SET [isDelete] = @p0, [isUse] = @p1, [Ordinal_number] = @p2, [Qr_code_url] = @p3, [Room_area_id] = @p4, [Room_name] = @p5, [Room_note] = @p6, [Seat_number] = @p7, [Status] = @p8
WHERE [Room_id] = @p9;
SELECT @@ROWCOUNT;
2025-03-25 19:36:12.382 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType7`2[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-25 19:36:12.388 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.RoomController.GenerateQRCodeForRoom (BepKhoiBackend.API) in 6039.9651ms
2025-03-25 19:36:12.390 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.RoomController.GenerateQRCodeForRoom (BepKhoiBackend.API)'
2025-03-25 19:36:12.395 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7257/api/rooms/generate-qr/1 - 0 - 200 - application/json;+charset=utf-8 6128.0909ms
2025-03-25 19:38:12.243 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-25 19:38:12.369 +07:00 [INF] Now listening on: https://localhost:7257
2025-03-25 19:38:12.370 +07:00 [INF] Now listening on: http://localhost:5287
2025-03-25 19:38:12.470 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-25 19:38:12.471 +07:00 [INF] Hosting environment: Development
2025-03-25 19:38:12.472 +07:00 [INF] Content root path: D:\DoAN - update QR\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-03-25 19:38:12.525 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-03-25 19:38:12.645 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 122.8082ms
2025-03-25 19:38:12.659 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-03-25 19:38:12.659 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-03-25 19:38:12.663 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 3.3840ms
2025-03-25 19:38:12.683 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 23.9079ms
2025-03-25 19:38:13.111 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-03-25 19:38:13.145 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 34.2964ms
2025-03-25 19:38:22.568 +07:00 [INF] Request starting HTTP/2 DELETE https://localhost:7257/api/rooms/delete-qr/1 - -
2025-03-25 19:38:22.591 +07:00 [INF] CORS policy execution failed.
2025-03-25 19:38:22.591 +07:00 [INF] Request origin https://localhost:7257 does not have permission to access the resource.
2025-03-25 19:38:22.617 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.RoomController.DeleteQRCode (BepKhoiBackend.API)'
2025-03-25 19:38:22.638 +07:00 [INF] Route matched with {action = "DeleteQRCode", controller = "Room"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteQRCode(Int32) on controller BepKhoiBackend.API.Controllers.RoomController (BepKhoiBackend.API).
2025-03-25 19:38:23.326 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-03-25 19:38:23.716 +07:00 [INF] Executed DbCommand (39ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Room_id], [r].[isDelete], [r].[isUse], [r].[Ordinal_number], [r].[Qr_code_url], [r].[Room_area_id], [r].[Room_name], [r].[Room_note], [r].[Seat_number], [r].[Status]
FROM [Room] AS [r]
WHERE ([r].[Room_id] = @__id_0) AND ([r].[isDelete] = CAST(0 AS bit))
2025-03-25 19:38:25.557 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Boolean), @p2='?' (DbType = Int32), @p3='?' (Size = 255), @p4='?' (DbType = Int32), @p5='?' (Size = 100), @p6='?' (Size = 255), @p7='?' (DbType = Int32), @p8='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Room] SET [isDelete] = @p0, [isUse] = @p1, [Ordinal_number] = @p2, [Qr_code_url] = @p3, [Room_area_id] = @p4, [Room_name] = @p5, [Room_note] = @p6, [Seat_number] = @p7, [Status] = @p8
WHERE [Room_id] = @p9;
SELECT @@ROWCOUNT;
2025-03-25 19:38:25.580 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-25 19:38:25.589 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.RoomController.DeleteQRCode (BepKhoiBackend.API) in 2945.4923ms
2025-03-25 19:38:25.591 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.RoomController.DeleteQRCode (BepKhoiBackend.API)'
2025-03-25 19:38:25.598 +07:00 [INF] Request finished HTTP/2 DELETE https://localhost:7257/api/rooms/delete-qr/1 - - - 200 - application/json;+charset=utf-8 3029.5634ms
2025-03-25 19:38:31.768 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7257/api/rooms/generate-qr/1 - 0
2025-03-25 19:38:31.772 +07:00 [INF] CORS policy execution failed.
2025-03-25 19:38:31.772 +07:00 [INF] Request origin https://localhost:7257 does not have permission to access the resource.
2025-03-25 19:38:31.774 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.RoomController.GenerateQRCodeForRoom (BepKhoiBackend.API)'
2025-03-25 19:38:31.778 +07:00 [INF] Route matched with {action = "GenerateQRCodeForRoom", controller = "Room"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GenerateQRCodeForRoom(Int32) on controller BepKhoiBackend.API.Controllers.RoomController (BepKhoiBackend.API).
2025-03-25 19:38:31.792 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-03-25 19:38:31.800 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Room_id], [r].[isDelete], [r].[isUse], [r].[Ordinal_number], [r].[Qr_code_url], [r].[Room_area_id], [r].[Room_name], [r].[Room_note], [r].[Seat_number], [r].[Status]
FROM [Room] AS [r]
WHERE ([r].[Room_id] = @__id_0) AND ([r].[isDelete] = CAST(0 AS bit))
2025-03-25 19:38:35.391 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Room_id], [r].[isDelete], [r].[isUse], [r].[Ordinal_number], [r].[Qr_code_url], [r].[Room_area_id], [r].[Room_name], [r].[Room_note], [r].[Seat_number], [r].[Status]
FROM [Room] AS [r]
WHERE ([r].[Room_id] = @__id_0) AND ([r].[isDelete] = CAST(0 AS bit))
2025-03-25 19:38:35.395 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Boolean), @p2='?' (DbType = Int32), @p3='?' (Size = 255), @p4='?' (DbType = Int32), @p5='?' (Size = 100), @p6='?' (Size = 255), @p7='?' (DbType = Int32), @p8='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Room] SET [isDelete] = @p0, [isUse] = @p1, [Ordinal_number] = @p2, [Qr_code_url] = @p3, [Room_area_id] = @p4, [Room_name] = @p5, [Room_note] = @p6, [Seat_number] = @p7, [Status] = @p8
WHERE [Room_id] = @p9;
SELECT @@ROWCOUNT;
2025-03-25 19:38:35.400 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType7`2[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-25 19:38:35.401 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.RoomController.GenerateQRCodeForRoom (BepKhoiBackend.API) in 3620.9733ms
2025-03-25 19:38:35.402 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.RoomController.GenerateQRCodeForRoom (BepKhoiBackend.API)'
2025-03-25 19:38:35.403 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7257/api/rooms/generate-qr/1 - 0 - 200 - application/json;+charset=utf-8 3634.5810ms
2025-03-25 19:46:56.560 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-25 19:46:56.698 +07:00 [INF] Now listening on: https://localhost:7257
2025-03-25 19:46:56.699 +07:00 [INF] Now listening on: http://localhost:5287
2025-03-25 19:46:56.803 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-25 19:46:56.804 +07:00 [INF] Hosting environment: Development
2025-03-25 19:46:56.804 +07:00 [INF] Content root path: D:\DoAN - update QR\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-03-25 19:46:57.251 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-03-25 19:46:57.377 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 128.0798ms
2025-03-25 19:46:57.394 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-03-25 19:46:57.394 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-03-25 19:46:57.397 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 2.6426ms
2025-03-25 19:46:57.423 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 28.3712ms
2025-03-25 19:46:57.727 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-03-25 19:46:57.771 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 43.9829ms
2025-03-25 19:47:07.697 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/rooms/download-qr/1 - -
2025-03-25 19:47:07.741 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.RoomController.DownloadQRCode (BepKhoiBackend.API)'
2025-03-25 19:47:07.761 +07:00 [INF] Route matched with {action = "DownloadQRCode", controller = "Room"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadQRCode(Int32) on controller BepKhoiBackend.API.Controllers.RoomController (BepKhoiBackend.API).
2025-03-25 19:47:08.514 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-03-25 19:47:08.910 +07:00 [INF] Executed DbCommand (40ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Room_id], [r].[isDelete], [r].[isUse], [r].[Ordinal_number], [r].[Qr_code_url], [r].[Room_area_id], [r].[Room_name], [r].[Room_note], [r].[Seat_number], [r].[Status]
FROM [Room] AS [r]
WHERE ([r].[Room_id] = @__id_0) AND ([r].[isDelete] = CAST(0 AS bit))
2025-03-25 19:47:09.893 +07:00 [INF] Executing FileContentResult, sending file with download name 'QRCode_Bn 1.png' ...
2025-03-25 19:47:09.907 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.RoomController.DownloadQRCode (BepKhoiBackend.API) in 2141.4112ms
2025-03-25 19:47:09.908 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.RoomController.DownloadQRCode (BepKhoiBackend.API)'
2025-03-25 19:47:09.912 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/rooms/download-qr/1 - - - 200 1642854 image/bmp 2214.9364ms
2025-03-25 19:50:34.446 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/rooms/1 - -
2025-03-25 19:50:34.468 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.RoomController.GetById (BepKhoiBackend.API)'
2025-03-25 19:50:34.474 +07:00 [INF] Route matched with {action = "GetById", controller = "Room"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(Int32) on controller BepKhoiBackend.API.Controllers.RoomController (BepKhoiBackend.API).
2025-03-25 19:50:34.485 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-03-25 19:50:34.499 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Room_id], [r].[isDelete], [r].[isUse], [r].[Ordinal_number], [r].[Qr_code_url], [r].[Room_area_id], [r].[Room_name], [r].[Room_note], [r].[Seat_number], [r].[Status]
FROM [Room] AS [r]
WHERE ([r].[Room_id] = @__id_0) AND ([r].[isDelete] = CAST(0 AS bit))
2025-03-25 19:50:34.503 +07:00 [INF] Executing OkObjectResult, writing value of type 'BepKhoiBackend.BusinessObject.dtos.RoomDto.RoomDto'.
2025-03-25 19:50:34.509 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.RoomController.GetById (BepKhoiBackend.API) in 32.2718ms
2025-03-25 19:50:34.510 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.RoomController.GetById (BepKhoiBackend.API)'
2025-03-25 19:50:34.511 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/rooms/1 - - - 200 - application/json;+charset=utf-8 65.0582ms
2025-03-25 19:57:34.113 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/rooms/get-all-room-for-pos?limit=10&offset=0 - -
2025-03-25 19:57:34.119 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.RoomController.TestGetRooms (BepKhoiBackend.API)'
2025-03-25 19:57:34.129 +07:00 [INF] Route matched with {action = "TestGetRooms", controller = "Room"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] TestGetRooms(Int32, Int32) on controller BepKhoiBackend.API.Controllers.RoomController (BepKhoiBackend.API).
2025-03-25 19:57:34.180 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-03-25 19:57:34.266 +07:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-03-25 19:57:34.296 +07:00 [INF] Executed DbCommand (17ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Room_id], [t].[isDelete], [t].[isUse], [t].[Ordinal_number], [t].[Qr_code_url], [t].[Room_area_id], [t].[Room_name], [t].[Room_note], [t].[Seat_number], [t].[Status], [t0].[Order_id], [t0].[Amount_due], [t0].[Created_time], [t0].[Customer_id], [t0].[Delivery_information_id], [t0].[Order_note], [t0].[Order_status_id], [t0].[Order_type_id], [t0].[Room_id], [t0].[Shipper_id], [t0].[Total_quantity], [t0].[Order_detail_id], [t0].[Order_id0], [t0].[Price], [t0].[Product_id], [t0].[Product_name], [t0].[Product_note], [t0].[Quantity], [t0].[Status]
FROM (
    SELECT [r].[Room_id], [r].[isDelete], [r].[isUse], [r].[Ordinal_number], [r].[Qr_code_url], [r].[Room_area_id], [r].[Room_name], [r].[Room_note], [r].[Seat_number], [r].[Status]
    FROM [Room] AS [r]
    WHERE COALESCE([r].[isDelete], CAST(0 AS bit)) = CAST(0 AS bit)
    ORDER BY [r].[Room_id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [o].[Order_id], [o].[Amount_due], [o].[Created_time], [o].[Customer_id], [o].[Delivery_information_id], [o].[Order_note], [o].[Order_status_id], [o].[Order_type_id], [o].[Room_id], [o].[Shipper_id], [o].[Total_quantity], [o0].[Order_detail_id], [o0].[Order_id] AS [Order_id0], [o0].[Price], [o0].[Product_id], [o0].[Product_name], [o0].[Product_note], [o0].[Quantity], [o0].[Status]
    FROM [Order] AS [o]
    LEFT JOIN [Order_detail] AS [o0] ON [o].[Order_id] = [o0].[Order_id]
    WHERE [o].[Order_status_id] = 1
) AS [t0] ON [t].[Room_id] = [t0].[Room_id]
ORDER BY [t].[Room_id], [t0].[Order_id]
2025-03-25 19:57:34.306 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BepKhoiBackend.BusinessObject.dtos.RoomDto.RoomDtoPos, BepKhoiBackend.BusinessObject, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-25 19:57:34.315 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.RoomController.TestGetRooms (BepKhoiBackend.API) in 183.7674ms
2025-03-25 19:57:34.316 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.RoomController.TestGetRooms (BepKhoiBackend.API)'
2025-03-25 19:57:34.317 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/rooms/get-all-room-for-pos?limit=10&offset=0 - - - 200 - application/json;+charset=utf-8 204.1293ms
2025-03-25 19:58:53.190 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/rooms/filter-room-pos?roomAreaId=1&isUse=true - -
2025-03-25 19:58:53.191 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.RoomController.FilterRoomPos (BepKhoiBackend.API)'
2025-03-25 19:58:53.193 +07:00 [INF] Route matched with {action = "FilterRoomPos", controller = "Room"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] FilterRoomPos(System.Nullable`1[System.Int32], System.Nullable`1[System.Boolean]) on controller BepKhoiBackend.API.Controllers.RoomController (BepKhoiBackend.API).
2025-03-25 19:58:53.199 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-03-25 19:58:53.210 +07:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-03-25 19:58:53.240 +07:00 [INF] Executed DbCommand (27ms) [Parameters=[@__roolAreaId_Value_0='?' (DbType = Int32), @__isUse_Value_1='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Room_id], [r].[isDelete], [r].[isUse], [r].[Ordinal_number], [r].[Qr_code_url], [r].[Room_area_id], [r].[Room_name], [r].[Room_note], [r].[Seat_number], [r].[Status], [t].[Order_id], [t].[Amount_due], [t].[Created_time], [t].[Customer_id], [t].[Delivery_information_id], [t].[Order_note], [t].[Order_status_id], [t].[Order_type_id], [t].[Room_id], [t].[Shipper_id], [t].[Total_quantity], [t].[Order_detail_id], [t].[Order_id0], [t].[Price], [t].[Product_id], [t].[Product_name], [t].[Product_note], [t].[Quantity], [t].[Status]
FROM [Room] AS [r]
LEFT JOIN (
    SELECT [o].[Order_id], [o].[Amount_due], [o].[Created_time], [o].[Customer_id], [o].[Delivery_information_id], [o].[Order_note], [o].[Order_status_id], [o].[Order_type_id], [o].[Room_id], [o].[Shipper_id], [o].[Total_quantity], [o0].[Order_detail_id], [o0].[Order_id] AS [Order_id0], [o0].[Price], [o0].[Product_id], [o0].[Product_name], [o0].[Product_note], [o0].[Quantity], [o0].[Status]
    FROM [Order] AS [o]
    LEFT JOIN [Order_detail] AS [o0] ON [o].[Order_id] = [o0].[Order_id]
    WHERE [o].[Order_status_id] = 1
) AS [t] ON [r].[Room_id] = [t].[Room_id]
WHERE ((COALESCE([r].[isDelete], CAST(0 AS bit)) = CAST(0 AS bit)) AND ([r].[Room_area_id] = @__roolAreaId_Value_0)) AND ([r].[isUse] = @__isUse_Value_1)
ORDER BY [r].[Room_id], [t].[Order_id]
2025-03-25 19:58:53.242 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BepKhoiBackend.BusinessObject.dtos.RoomDto.RoomDtoPos, BepKhoiBackend.BusinessObject, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-25 19:58:53.243 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.RoomController.FilterRoomPos (BepKhoiBackend.API) in 48.8908ms
2025-03-25 19:58:53.243 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.RoomController.FilterRoomPos (BepKhoiBackend.API)'
2025-03-25 19:58:53.244 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/rooms/filter-room-pos?roomAreaId=1&isUse=true - - - 200 - application/json;+charset=utf-8 54.3548ms
2025-03-25 19:59:38.544 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/rooms/filter-room-pos?roomAreaId=2&isUse=true - -
2025-03-25 19:59:38.545 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.RoomController.FilterRoomPos (BepKhoiBackend.API)'
2025-03-25 19:59:38.545 +07:00 [INF] Route matched with {action = "FilterRoomPos", controller = "Room"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] FilterRoomPos(System.Nullable`1[System.Int32], System.Nullable`1[System.Boolean]) on controller BepKhoiBackend.API.Controllers.RoomController (BepKhoiBackend.API).
2025-03-25 19:59:38.547 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-03-25 19:59:38.568 +07:00 [INF] Executed DbCommand (19ms) [Parameters=[@__roolAreaId_Value_0='?' (DbType = Int32), @__isUse_Value_1='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Room_id], [r].[isDelete], [r].[isUse], [r].[Ordinal_number], [r].[Qr_code_url], [r].[Room_area_id], [r].[Room_name], [r].[Room_note], [r].[Seat_number], [r].[Status], [t].[Order_id], [t].[Amount_due], [t].[Created_time], [t].[Customer_id], [t].[Delivery_information_id], [t].[Order_note], [t].[Order_status_id], [t].[Order_type_id], [t].[Room_id], [t].[Shipper_id], [t].[Total_quantity], [t].[Order_detail_id], [t].[Order_id0], [t].[Price], [t].[Product_id], [t].[Product_name], [t].[Product_note], [t].[Quantity], [t].[Status]
FROM [Room] AS [r]
LEFT JOIN (
    SELECT [o].[Order_id], [o].[Amount_due], [o].[Created_time], [o].[Customer_id], [o].[Delivery_information_id], [o].[Order_note], [o].[Order_status_id], [o].[Order_type_id], [o].[Room_id], [o].[Shipper_id], [o].[Total_quantity], [o0].[Order_detail_id], [o0].[Order_id] AS [Order_id0], [o0].[Price], [o0].[Product_id], [o0].[Product_name], [o0].[Product_note], [o0].[Quantity], [o0].[Status]
    FROM [Order] AS [o]
    LEFT JOIN [Order_detail] AS [o0] ON [o].[Order_id] = [o0].[Order_id]
    WHERE [o].[Order_status_id] = 1
) AS [t] ON [r].[Room_id] = [t].[Room_id]
WHERE ((COALESCE([r].[isDelete], CAST(0 AS bit)) = CAST(0 AS bit)) AND ([r].[Room_area_id] = @__roolAreaId_Value_0)) AND ([r].[isUse] = @__isUse_Value_1)
ORDER BY [r].[Room_id], [t].[Order_id]
2025-03-25 19:59:38.572 +07:00 [INF] Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-25 19:59:38.575 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.RoomController.FilterRoomPos (BepKhoiBackend.API) in 28.3708ms
2025-03-25 19:59:38.575 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.RoomController.FilterRoomPos (BepKhoiBackend.API)'
2025-03-25 19:59:38.577 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/rooms/filter-room-pos?roomAreaId=2&isUse=true - - - 404 - application/json;+charset=utf-8 33.3791ms
2025-03-25 19:59:45.034 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/rooms/filter-room-pos?roomAreaId=1&isUse=true - -
2025-03-25 19:59:45.035 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.RoomController.FilterRoomPos (BepKhoiBackend.API)'
2025-03-25 19:59:45.035 +07:00 [INF] Route matched with {action = "FilterRoomPos", controller = "Room"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] FilterRoomPos(System.Nullable`1[System.Int32], System.Nullable`1[System.Boolean]) on controller BepKhoiBackend.API.Controllers.RoomController (BepKhoiBackend.API).
2025-03-25 19:59:45.037 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-03-25 19:59:45.063 +07:00 [INF] Executed DbCommand (25ms) [Parameters=[@__roolAreaId_Value_0='?' (DbType = Int32), @__isUse_Value_1='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Room_id], [r].[isDelete], [r].[isUse], [r].[Ordinal_number], [r].[Qr_code_url], [r].[Room_area_id], [r].[Room_name], [r].[Room_note], [r].[Seat_number], [r].[Status], [t].[Order_id], [t].[Amount_due], [t].[Created_time], [t].[Customer_id], [t].[Delivery_information_id], [t].[Order_note], [t].[Order_status_id], [t].[Order_type_id], [t].[Room_id], [t].[Shipper_id], [t].[Total_quantity], [t].[Order_detail_id], [t].[Order_id0], [t].[Price], [t].[Product_id], [t].[Product_name], [t].[Product_note], [t].[Quantity], [t].[Status]
FROM [Room] AS [r]
LEFT JOIN (
    SELECT [o].[Order_id], [o].[Amount_due], [o].[Created_time], [o].[Customer_id], [o].[Delivery_information_id], [o].[Order_note], [o].[Order_status_id], [o].[Order_type_id], [o].[Room_id], [o].[Shipper_id], [o].[Total_quantity], [o0].[Order_detail_id], [o0].[Order_id] AS [Order_id0], [o0].[Price], [o0].[Product_id], [o0].[Product_name], [o0].[Product_note], [o0].[Quantity], [o0].[Status]
    FROM [Order] AS [o]
    LEFT JOIN [Order_detail] AS [o0] ON [o].[Order_id] = [o0].[Order_id]
    WHERE [o].[Order_status_id] = 1
) AS [t] ON [r].[Room_id] = [t].[Room_id]
WHERE ((COALESCE([r].[isDelete], CAST(0 AS bit)) = CAST(0 AS bit)) AND ([r].[Room_area_id] = @__roolAreaId_Value_0)) AND ([r].[isUse] = @__isUse_Value_1)
ORDER BY [r].[Room_id], [t].[Order_id]
2025-03-25 19:59:45.066 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BepKhoiBackend.BusinessObject.dtos.RoomDto.RoomDtoPos, BepKhoiBackend.BusinessObject, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-25 19:59:45.067 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.RoomController.FilterRoomPos (BepKhoiBackend.API) in 30.8321ms
2025-03-25 19:59:45.068 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.RoomController.FilterRoomPos (BepKhoiBackend.API)'
2025-03-25 19:59:45.069 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/rooms/filter-room-pos?roomAreaId=1&isUse=true - - - 200 - application/json;+charset=utf-8 35.1088ms
2025-03-25 20:01:14.829 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/rooms/filter-room-pos?roomAreaId=1 - -
2025-03-25 20:01:14.830 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.RoomController.FilterRoomPos (BepKhoiBackend.API)'
2025-03-25 20:01:14.831 +07:00 [INF] Route matched with {action = "FilterRoomPos", controller = "Room"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] FilterRoomPos(System.Nullable`1[System.Int32], System.Nullable`1[System.Boolean]) on controller BepKhoiBackend.API.Controllers.RoomController (BepKhoiBackend.API).
2025-03-25 20:01:14.832 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-03-25 20:01:14.846 +07:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-03-25 20:01:14.867 +07:00 [INF] Executed DbCommand (17ms) [Parameters=[@__roolAreaId_Value_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Room_id], [r].[isDelete], [r].[isUse], [r].[Ordinal_number], [r].[Qr_code_url], [r].[Room_area_id], [r].[Room_name], [r].[Room_note], [r].[Seat_number], [r].[Status], [t].[Order_id], [t].[Amount_due], [t].[Created_time], [t].[Customer_id], [t].[Delivery_information_id], [t].[Order_note], [t].[Order_status_id], [t].[Order_type_id], [t].[Room_id], [t].[Shipper_id], [t].[Total_quantity], [t].[Order_detail_id], [t].[Order_id0], [t].[Price], [t].[Product_id], [t].[Product_name], [t].[Product_note], [t].[Quantity], [t].[Status]
FROM [Room] AS [r]
LEFT JOIN (
    SELECT [o].[Order_id], [o].[Amount_due], [o].[Created_time], [o].[Customer_id], [o].[Delivery_information_id], [o].[Order_note], [o].[Order_status_id], [o].[Order_type_id], [o].[Room_id], [o].[Shipper_id], [o].[Total_quantity], [o0].[Order_detail_id], [o0].[Order_id] AS [Order_id0], [o0].[Price], [o0].[Product_id], [o0].[Product_name], [o0].[Product_note], [o0].[Quantity], [o0].[Status]
    FROM [Order] AS [o]
    LEFT JOIN [Order_detail] AS [o0] ON [o].[Order_id] = [o0].[Order_id]
    WHERE [o].[Order_status_id] = 1
) AS [t] ON [r].[Room_id] = [t].[Room_id]
WHERE (COALESCE([r].[isDelete], CAST(0 AS bit)) = CAST(0 AS bit)) AND ([r].[Room_area_id] = @__roolAreaId_Value_0)
ORDER BY [r].[Room_id], [t].[Order_id]
2025-03-25 20:01:14.869 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BepKhoiBackend.BusinessObject.dtos.RoomDto.RoomDtoPos, BepKhoiBackend.BusinessObject, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-25 20:01:14.870 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.RoomController.FilterRoomPos (BepKhoiBackend.API) in 38.7613ms
2025-03-25 20:01:14.871 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.RoomController.FilterRoomPos (BepKhoiBackend.API)'
2025-03-25 20:01:14.872 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/rooms/filter-room-pos?roomAreaId=1 - - - 200 - application/json;+charset=utf-8 42.5797ms
2025-03-25 20:01:37.642 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/rooms/search-room-pos?searchString=b%C3%A0n%201 - -
2025-03-25 20:01:37.643 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.RoomController.SearchRoomPos (BepKhoiBackend.API)'
2025-03-25 20:01:37.646 +07:00 [INF] Route matched with {action = "SearchRoomPos", controller = "Room"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchRoomPos(System.String) on controller BepKhoiBackend.API.Controllers.RoomController (BepKhoiBackend.API).
2025-03-25 20:01:37.669 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-03-25 20:01:37.686 +07:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-03-25 20:01:37.698 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Room_id], [r].[isDelete], [r].[isUse], [r].[Ordinal_number], [r].[Qr_code_url], [r].[Room_area_id], [r].[Room_name], [r].[Room_note], [r].[Seat_number], [r].[Status], [t].[Order_id], [t].[Amount_due], [t].[Created_time], [t].[Customer_id], [t].[Delivery_information_id], [t].[Order_note], [t].[Order_status_id], [t].[Order_type_id], [t].[Room_id], [t].[Shipper_id], [t].[Total_quantity], [t].[Order_detail_id], [t].[Order_id0], [t].[Price], [t].[Product_id], [t].[Product_name], [t].[Product_note], [t].[Quantity], [t].[Status]
FROM [Room] AS [r]
LEFT JOIN (
    SELECT [o].[Order_id], [o].[Amount_due], [o].[Created_time], [o].[Customer_id], [o].[Delivery_information_id], [o].[Order_note], [o].[Order_status_id], [o].[Order_type_id], [o].[Room_id], [o].[Shipper_id], [o].[Total_quantity], [o0].[Order_detail_id], [o0].[Order_id] AS [Order_id0], [o0].[Price], [o0].[Product_id], [o0].[Product_name], [o0].[Product_note], [o0].[Quantity], [o0].[Status]
    FROM [Order] AS [o]
    LEFT JOIN [Order_detail] AS [o0] ON [o].[Order_id] = [o0].[Order_id]
    WHERE [o].[Order_status_id] = 1
) AS [t] ON [r].[Room_id] = [t].[Room_id]
WHERE COALESCE([r].[isDelete], CAST(0 AS bit)) = CAST(0 AS bit)
ORDER BY [r].[Room_id], [t].[Order_id]
2025-03-25 20:01:37.701 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BepKhoiBackend.BusinessObject.dtos.RoomDto.RoomDtoPos, BepKhoiBackend.BusinessObject, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-25 20:01:37.704 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.RoomController.SearchRoomPos (BepKhoiBackend.API) in 56.1807ms
2025-03-25 20:01:37.705 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.RoomController.SearchRoomPos (BepKhoiBackend.API)'
2025-03-25 20:01:37.706 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/rooms/search-room-pos?searchString=b%C3%A0n%201 - - - 200 - application/json;+charset=utf-8 64.0347ms
2025-03-25 20:12:30.110 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/rooms/get-all-room-for-pos?limit=10&offset=0 - -
2025-03-25 20:12:30.111 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.RoomController.TestGetRooms (BepKhoiBackend.API)'
2025-03-25 20:12:30.111 +07:00 [INF] Route matched with {action = "TestGetRooms", controller = "Room"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] TestGetRooms(Int32, Int32) on controller BepKhoiBackend.API.Controllers.RoomController (BepKhoiBackend.API).
2025-03-25 20:12:30.116 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-03-25 20:12:30.146 +07:00 [INF] Executed DbCommand (21ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Room_id], [t].[isDelete], [t].[isUse], [t].[Ordinal_number], [t].[Qr_code_url], [t].[Room_area_id], [t].[Room_name], [t].[Room_note], [t].[Seat_number], [t].[Status], [t0].[Order_id], [t0].[Amount_due], [t0].[Created_time], [t0].[Customer_id], [t0].[Delivery_information_id], [t0].[Order_note], [t0].[Order_status_id], [t0].[Order_type_id], [t0].[Room_id], [t0].[Shipper_id], [t0].[Total_quantity], [t0].[Order_detail_id], [t0].[Order_id0], [t0].[Price], [t0].[Product_id], [t0].[Product_name], [t0].[Product_note], [t0].[Quantity], [t0].[Status]
FROM (
    SELECT [r].[Room_id], [r].[isDelete], [r].[isUse], [r].[Ordinal_number], [r].[Qr_code_url], [r].[Room_area_id], [r].[Room_name], [r].[Room_note], [r].[Seat_number], [r].[Status]
    FROM [Room] AS [r]
    WHERE COALESCE([r].[isDelete], CAST(0 AS bit)) = CAST(0 AS bit)
    ORDER BY [r].[Room_id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [o].[Order_id], [o].[Amount_due], [o].[Created_time], [o].[Customer_id], [o].[Delivery_information_id], [o].[Order_note], [o].[Order_status_id], [o].[Order_type_id], [o].[Room_id], [o].[Shipper_id], [o].[Total_quantity], [o0].[Order_detail_id], [o0].[Order_id] AS [Order_id0], [o0].[Price], [o0].[Product_id], [o0].[Product_name], [o0].[Product_note], [o0].[Quantity], [o0].[Status]
    FROM [Order] AS [o]
    LEFT JOIN [Order_detail] AS [o0] ON [o].[Order_id] = [o0].[Order_id]
    WHERE [o].[Order_status_id] = 1
) AS [t0] ON [t].[Room_id] = [t0].[Room_id]
ORDER BY [t].[Room_id], [t0].[Order_id]
2025-03-25 20:12:30.148 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BepKhoiBackend.BusinessObject.dtos.RoomDto.RoomDtoPos, BepKhoiBackend.BusinessObject, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-25 20:12:30.149 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.RoomController.TestGetRooms (BepKhoiBackend.API) in 33.7091ms
2025-03-25 20:12:30.150 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.RoomController.TestGetRooms (BepKhoiBackend.API)'
2025-03-25 20:12:30.150 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/rooms/get-all-room-for-pos?limit=10&offset=0 - - - 200 - application/json;+charset=utf-8 40.5703ms
2025-03-25 20:36:34.058 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-25 20:36:34.302 +07:00 [INF] Now listening on: https://localhost:7257
2025-03-25 20:36:34.303 +07:00 [INF] Now listening on: http://localhost:5287
2025-03-25 20:36:34.442 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-25 20:36:34.443 +07:00 [INF] Hosting environment: Development
2025-03-25 20:36:34.444 +07:00 [INF] Content root path: D:\doan-ngocquan\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-03-25 20:36:34.838 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-03-25 20:36:35.042 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 208.2048ms
2025-03-25 20:36:35.058 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-03-25 20:36:35.062 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 3.7258ms
2025-03-25 20:36:35.334 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-03-25 20:36:35.388 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 53.9202ms
2025-03-25 20:36:35.539 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-03-25 20:36:35.581 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 41.7848ms
