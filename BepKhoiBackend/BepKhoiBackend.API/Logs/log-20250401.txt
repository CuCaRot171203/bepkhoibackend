2025-04-01 19:35:46.392 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-01 19:35:46.633 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-01 19:35:46.634 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-01 19:35:46.754 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-01 19:35:46.755 +07:00 [INF] Hosting environment: Development
2025-04-01 19:35:46.755 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-01 19:35:47.519 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-01 19:35:47.757 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 241.3959ms
2025-04-01 19:35:47.787 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-01 19:35:47.792 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 4.9450ms
2025-04-01 19:35:48.012 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-01 19:35:48.063 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 50.9645ms
2025-04-01 19:35:48.094 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-01 19:35:48.121 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 27.1108ms
2025-04-01 19:36:16.230 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/1 - -
2025-04-01 19:36:17.067 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoiceById (BepKhoiBackend.API)'
2025-04-01 19:36:17.091 +07:00 [INF] Route matched with {action = "GetInvoiceById", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[BepKhoiBackend.BusinessObject.dtos.InvoiceDto.InvoiceDTO] GetInvoiceById(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-01 19:36:18.267 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-01 19:36:19.377 +07:00 [INF] Executed DbCommand (47ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Invoice_id], [t].[Amount_due], [t].[Cashier_id], [t].[Check_in_time], [t].[Check_out_time], [t].[Customer_id], [t].[Invoice_discount], [t].[Invoice_note], [t].[Order_id], [t].[Order_type_id], [t].[Other_payment], [t].[Payment_method_id], [t].[Room_id], [t].[Shipper_id], [t].[Status], [t].[Subtotal], [t].[Total_quantity], [t].[Total_vat], [i0].[Invoice_detail_id], [i0].[Invoice_id], [i0].[Price], [i0].[Product_id], [i0].[Product_name], [i0].[Product_note], [i0].[Product_vat], [i0].[Quantity]
FROM (
    SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat]
    FROM [Invoice] AS [i]
    WHERE [i].[Invoice_id] = @__id_0
) AS [t]
LEFT JOIN [Invoice_detail] AS [i0] ON [t].[Invoice_id] = [i0].[Invoice_id]
ORDER BY [t].[Invoice_id]
2025-04-01 19:36:19.398 +07:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-04-01 19:36:19.406 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoiceById (BepKhoiBackend.API) in 2309.8004ms
2025-04-01 19:36:19.407 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoiceById (BepKhoiBackend.API)'
2025-04-01 19:36:19.411 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/1 - - - 404 - application/problem+json;+charset=utf-8 3180.8231ms
2025-04-01 19:36:55.348 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/1 - -
2025-04-01 19:36:55.354 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoiceById (BepKhoiBackend.API)'
2025-04-01 19:36:55.355 +07:00 [INF] Route matched with {action = "GetInvoiceById", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[BepKhoiBackend.BusinessObject.dtos.InvoiceDto.InvoiceDTO] GetInvoiceById(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-01 19:36:55.365 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-01 19:36:55.377 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Invoice_id], [t].[Amount_due], [t].[Cashier_id], [t].[Check_in_time], [t].[Check_out_time], [t].[Customer_id], [t].[Invoice_discount], [t].[Invoice_note], [t].[Order_id], [t].[Order_type_id], [t].[Other_payment], [t].[Payment_method_id], [t].[Room_id], [t].[Shipper_id], [t].[Status], [t].[Subtotal], [t].[Total_quantity], [t].[Total_vat], [i0].[Invoice_detail_id], [i0].[Invoice_id], [i0].[Price], [i0].[Product_id], [i0].[Product_name], [i0].[Product_note], [i0].[Product_vat], [i0].[Quantity]
FROM (
    SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat]
    FROM [Invoice] AS [i]
    WHERE [i].[Invoice_id] = @__id_0
) AS [t]
LEFT JOIN [Invoice_detail] AS [i0] ON [t].[Invoice_id] = [i0].[Invoice_id]
ORDER BY [t].[Invoice_id]
2025-04-01 19:36:55.380 +07:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-04-01 19:36:55.381 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoiceById (BepKhoiBackend.API) in 24.8227ms
2025-04-01 19:36:55.382 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoiceById (BepKhoiBackend.API)'
2025-04-01 19:36:55.384 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/1 - - - 404 - application/problem+json;+charset=utf-8 36.0776ms
2025-04-01 19:37:02.643 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/0 - -
2025-04-01 19:37:02.646 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoiceById (BepKhoiBackend.API)'
2025-04-01 19:37:02.650 +07:00 [INF] Route matched with {action = "GetInvoiceById", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[BepKhoiBackend.BusinessObject.dtos.InvoiceDto.InvoiceDTO] GetInvoiceById(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-01 19:37:02.694 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-01 19:37:02.700 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Invoice_id], [t].[Amount_due], [t].[Cashier_id], [t].[Check_in_time], [t].[Check_out_time], [t].[Customer_id], [t].[Invoice_discount], [t].[Invoice_note], [t].[Order_id], [t].[Order_type_id], [t].[Other_payment], [t].[Payment_method_id], [t].[Room_id], [t].[Shipper_id], [t].[Status], [t].[Subtotal], [t].[Total_quantity], [t].[Total_vat], [i0].[Invoice_detail_id], [i0].[Invoice_id], [i0].[Price], [i0].[Product_id], [i0].[Product_name], [i0].[Product_note], [i0].[Product_vat], [i0].[Quantity]
FROM (
    SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat]
    FROM [Invoice] AS [i]
    WHERE [i].[Invoice_id] = @__id_0
) AS [t]
LEFT JOIN [Invoice_detail] AS [i0] ON [t].[Invoice_id] = [i0].[Invoice_id]
ORDER BY [t].[Invoice_id]
2025-04-01 19:37:02.702 +07:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-04-01 19:37:02.703 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoiceById (BepKhoiBackend.API) in 51.3929ms
2025-04-01 19:37:02.703 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoiceById (BepKhoiBackend.API)'
2025-04-01 19:37:02.704 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/0 - - - 404 - application/problem+json;+charset=utf-8 61.0821ms
2025-04-01 19:37:14.725 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-01 19:37:14.731 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 5.2384ms
2025-04-01 19:37:14.764 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-01 19:37:14.768 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-01 19:37:14.768 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 4.7197ms
2025-04-01 19:37:14.768 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 0.7623ms
2025-04-01 19:37:15.092 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-01 19:37:15.115 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 22.8499ms
2025-04-01 19:37:34.462 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice - -
2025-04-01 19:37:34.463 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetAllInvoices (BepKhoiBackend.API)'
2025-04-01 19:37:34.468 +07:00 [INF] Route matched with {action = "GetAllInvoices", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[BepKhoiBackend.BusinessObject.dtos.InvoiceDto.InvoiceDTO]] GetAllInvoices() on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-01 19:37:34.471 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-01 19:37:34.533 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat], [i0].[Invoice_detail_id], [i0].[Invoice_id], [i0].[Price], [i0].[Product_id], [i0].[Product_name], [i0].[Product_note], [i0].[Product_vat], [i0].[Quantity]
FROM [Invoice] AS [i]
LEFT JOIN [Invoice_detail] AS [i0] ON [i].[Invoice_id] = [i0].[Invoice_id]
ORDER BY [i].[Invoice_id]
2025-04-01 19:37:34.621 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BepKhoiBackend.BusinessObject.dtos.InvoiceDto.InvoiceDTO, BepKhoiBackend.BusinessObject, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-01 19:37:34.629 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetAllInvoices (BepKhoiBackend.API) in 159.9924ms
2025-04-01 19:37:34.630 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetAllInvoices (BepKhoiBackend.API)'
2025-04-01 19:37:34.631 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice - - - 200 - application/json;+charset=utf-8 169.2559ms
2025-04-01 20:03:55.381 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-01 20:03:55.533 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-01 20:03:55.534 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-01 20:03:55.647 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-01 20:03:55.647 +07:00 [INF] Hosting environment: Development
2025-04-01 20:03:55.648 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-01 20:03:55.813 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-01 20:03:55.954 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 143.6339ms
2025-04-01 20:03:55.991 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-01 20:03:55.991 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-01 20:03:55.996 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 4.2262ms
2025-04-01 20:03:56.027 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 35.3594ms
2025-04-01 20:03:56.453 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-01 20:03:56.493 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 40.1920ms
2025-04-01 20:04:12.702 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/pdf/1 - -
2025-04-01 20:04:12.758 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoiceForPdf (BepKhoiBackend.API)'
2025-04-01 20:04:12.774 +07:00 [INF] Route matched with {action = "GetInvoiceForPdf", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[BepKhoiBackend.BusinessObject.dtos.InvoiceDto.InvoiceDTO] GetInvoiceForPdf(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-01 20:04:13.504 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-01 20:04:14.059 +07:00 [INF] Executed DbCommand (45ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Invoice_id], [t].[Amount_due], [t].[Cashier_id], [t].[Check_in_time], [t].[Check_out_time], [t].[Customer_id], [t].[Invoice_discount], [t].[Invoice_note], [t].[Order_id], [t].[Order_type_id], [t].[Other_payment], [t].[Payment_method_id], [t].[Room_id], [t].[Shipper_id], [t].[Status], [t].[Subtotal], [t].[Total_quantity], [t].[Total_vat], [t].[Customer_id0], [t0].[Invoice_detail_id], [t0].[Invoice_id], [t0].[Price], [t0].[Product_id], [t0].[Product_name], [t0].[Product_note], [t0].[Product_vat], [t0].[Quantity], [t0].[Product_id0], [t0].[Cost_price], [t0].[Description], [t0].[IsAvailable], [t0].[IsDelete], [t0].[Product_category_id], [t0].[Product_name0], [t0].[Product_vat0], [t0].[Sale_price], [t0].[Sell_price], [t0].[Status], [t0].[Unit_id], [t].[Customer_name], [t].[isDelete], [t].[Phone]
FROM (
    SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat], [c].[Customer_id] AS [Customer_id0], [c].[Customer_name], [c].[isDelete], [c].[Phone]
    FROM [Invoice] AS [i]
    LEFT JOIN [Customer] AS [c] ON [i].[Customer_id] = [c].[Customer_id]
    WHERE [i].[Invoice_id] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [i0].[Invoice_detail_id], [i0].[Invoice_id], [i0].[Price], [i0].[Product_id], [i0].[Product_name], [i0].[Product_note], [i0].[Product_vat], [i0].[Quantity], [m].[Product_id] AS [Product_id0], [m].[Cost_price], [m].[Description], [m].[IsAvailable], [m].[IsDelete], [m].[Product_category_id], [m].[Product_name] AS [Product_name0], [m].[Product_vat] AS [Product_vat0], [m].[Sale_price], [m].[Sell_price], [m].[Status], [m].[Unit_id]
    FROM [Invoice_detail] AS [i0]
    INNER JOIN [Menu] AS [m] ON [i0].[Product_id] = [m].[Product_id]
) AS [t0] ON [t].[Invoice_id] = [t0].[Invoice_id]
ORDER BY [t].[Invoice_id], [t].[Customer_id0], [t0].[Invoice_detail_id]
2025-04-01 20:04:14.197 +07:00 [INF] Executing OkObjectResult, writing value of type 'BepKhoiBackend.BusinessObject.dtos.InvoiceDto.InvoicePdfDTO'.
2025-04-01 20:04:14.217 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoiceForPdf (BepKhoiBackend.API) in 1436.088ms
2025-04-01 20:04:14.218 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoiceForPdf (BepKhoiBackend.API)'
2025-04-01 20:04:14.223 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/pdf/1 - - - 200 - application/json;+charset=utf-8 1521.7417ms
2025-04-01 20:19:08.248 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-01 20:19:08.371 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-01 20:19:08.372 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-01 20:19:08.471 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-01 20:19:08.472 +07:00 [INF] Hosting environment: Development
2025-04-01 20:19:08.473 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-01 20:19:08.858 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-01 20:19:08.991 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 136.2096ms
2025-04-01 20:19:09.013 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-01 20:19:09.013 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-01 20:19:09.016 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 3.7216ms
2025-04-01 20:19:09.041 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 28.6981ms
2025-04-01 20:19:09.317 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-01 20:19:09.362 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 45.0714ms
2025-04-01 20:19:15.877 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/pdf/1 - -
2025-04-01 20:19:15.930 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoiceForPdf (BepKhoiBackend.API)'
2025-04-01 20:19:15.945 +07:00 [INF] Route matched with {action = "GetInvoiceForPdf", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetInvoiceForPdf(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-01 20:19:16.767 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-01 20:19:17.356 +07:00 [INF] Executed DbCommand (37ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Invoice_id], [t].[Amount_due], [t].[Cashier_id], [t].[Check_in_time], [t].[Check_out_time], [t].[Customer_id], [t].[Invoice_discount], [t].[Invoice_note], [t].[Order_id], [t].[Order_type_id], [t].[Other_payment], [t].[Payment_method_id], [t].[Room_id], [t].[Shipper_id], [t].[Status], [t].[Subtotal], [t].[Total_quantity], [t].[Total_vat], [t].[Customer_id0], [t0].[Invoice_detail_id], [t0].[Invoice_id], [t0].[Price], [t0].[Product_id], [t0].[Product_name], [t0].[Product_note], [t0].[Product_vat], [t0].[Quantity], [t0].[Product_id0], [t0].[Cost_price], [t0].[Description], [t0].[IsAvailable], [t0].[IsDelete], [t0].[Product_category_id], [t0].[Product_name0], [t0].[Product_vat0], [t0].[Sale_price], [t0].[Sell_price], [t0].[Status], [t0].[Unit_id], [t].[Customer_name], [t].[isDelete], [t].[Phone]
FROM (
    SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat], [c].[Customer_id] AS [Customer_id0], [c].[Customer_name], [c].[isDelete], [c].[Phone]
    FROM [Invoice] AS [i]
    LEFT JOIN [Customer] AS [c] ON [i].[Customer_id] = [c].[Customer_id]
    WHERE [i].[Invoice_id] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [i0].[Invoice_detail_id], [i0].[Invoice_id], [i0].[Price], [i0].[Product_id], [i0].[Product_name], [i0].[Product_note], [i0].[Product_vat], [i0].[Quantity], [m].[Product_id] AS [Product_id0], [m].[Cost_price], [m].[Description], [m].[IsAvailable], [m].[IsDelete], [m].[Product_category_id], [m].[Product_name] AS [Product_name0], [m].[Product_vat] AS [Product_vat0], [m].[Sale_price], [m].[Sell_price], [m].[Status], [m].[Unit_id]
    FROM [Invoice_detail] AS [i0]
    INNER JOIN [Menu] AS [m] ON [i0].[Product_id] = [m].[Product_id]
) AS [t0] ON [t].[Invoice_id] = [t0].[Invoice_id]
ORDER BY [t].[Invoice_id], [t].[Customer_id0], [t0].[Invoice_detail_id]
2025-04-01 20:19:18.147 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoiceForPdf (BepKhoiBackend.API) in 2197.6955ms
2025-04-01 20:19:18.149 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoiceForPdf (BepKhoiBackend.API)'
2025-04-01 20:19:18.151 +07:00 [ERR] Error: Unknown PdfException.
2025-04-01 20:19:18.155 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/pdf/1 - - - 500 - application/json 2277.5879ms
2025-04-01 20:19:27.468 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/pdf/2 - -
2025-04-01 20:19:27.473 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoiceForPdf (BepKhoiBackend.API)'
2025-04-01 20:19:27.475 +07:00 [INF] Route matched with {action = "GetInvoiceForPdf", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetInvoiceForPdf(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-01 20:19:27.484 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-01 20:19:27.497 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Invoice_id], [t].[Amount_due], [t].[Cashier_id], [t].[Check_in_time], [t].[Check_out_time], [t].[Customer_id], [t].[Invoice_discount], [t].[Invoice_note], [t].[Order_id], [t].[Order_type_id], [t].[Other_payment], [t].[Payment_method_id], [t].[Room_id], [t].[Shipper_id], [t].[Status], [t].[Subtotal], [t].[Total_quantity], [t].[Total_vat], [t].[Customer_id0], [t0].[Invoice_detail_id], [t0].[Invoice_id], [t0].[Price], [t0].[Product_id], [t0].[Product_name], [t0].[Product_note], [t0].[Product_vat], [t0].[Quantity], [t0].[Product_id0], [t0].[Cost_price], [t0].[Description], [t0].[IsAvailable], [t0].[IsDelete], [t0].[Product_category_id], [t0].[Product_name0], [t0].[Product_vat0], [t0].[Sale_price], [t0].[Sell_price], [t0].[Status], [t0].[Unit_id], [t].[Customer_name], [t].[isDelete], [t].[Phone]
FROM (
    SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat], [c].[Customer_id] AS [Customer_id0], [c].[Customer_name], [c].[isDelete], [c].[Phone]
    FROM [Invoice] AS [i]
    LEFT JOIN [Customer] AS [c] ON [i].[Customer_id] = [c].[Customer_id]
    WHERE [i].[Invoice_id] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [i0].[Invoice_detail_id], [i0].[Invoice_id], [i0].[Price], [i0].[Product_id], [i0].[Product_name], [i0].[Product_note], [i0].[Product_vat], [i0].[Quantity], [m].[Product_id] AS [Product_id0], [m].[Cost_price], [m].[Description], [m].[IsAvailable], [m].[IsDelete], [m].[Product_category_id], [m].[Product_name] AS [Product_name0], [m].[Product_vat] AS [Product_vat0], [m].[Sale_price], [m].[Sell_price], [m].[Status], [m].[Unit_id]
    FROM [Invoice_detail] AS [i0]
    INNER JOIN [Menu] AS [m] ON [i0].[Product_id] = [m].[Product_id]
) AS [t0] ON [t].[Invoice_id] = [t0].[Invoice_id]
ORDER BY [t].[Invoice_id], [t].[Customer_id0], [t0].[Invoice_detail_id]
2025-04-01 20:19:27.500 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoiceForPdf (BepKhoiBackend.API) in 23.238ms
2025-04-01 20:19:27.501 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoiceForPdf (BepKhoiBackend.API)'
2025-04-01 20:19:27.502 +07:00 [ERR] Error: Unknown PdfException.
2025-04-01 20:19:27.502 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/pdf/2 - - - 500 - application/json 34.6112ms
2025-04-01 20:21:47.923 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-01 20:21:48.049 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-01 20:21:48.050 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-01 20:21:48.147 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-01 20:21:48.148 +07:00 [INF] Hosting environment: Development
2025-04-01 20:21:48.148 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-01 20:21:48.593 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-01 20:21:48.723 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 132.0729ms
2025-04-01 20:21:48.743 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-01 20:21:48.744 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-01 20:21:48.747 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 3.1237ms
2025-04-01 20:21:48.769 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 25.5971ms
2025-04-01 20:21:49.088 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-01 20:21:49.130 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 42.0618ms
2025-04-01 20:22:08.369 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/pdf/1 - -
2025-04-01 20:22:08.421 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoiceForPdf (BepKhoiBackend.API)'
2025-04-01 20:22:08.440 +07:00 [INF] Route matched with {action = "GetInvoiceForPdf", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.Byte[]] GetInvoiceForPdf(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-01 20:22:09.197 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-01 20:22:09.685 +07:00 [INF] Executed DbCommand (33ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Invoice_id], [t].[Amount_due], [t].[Cashier_id], [t].[Check_in_time], [t].[Check_out_time], [t].[Customer_id], [t].[Invoice_discount], [t].[Invoice_note], [t].[Order_id], [t].[Order_type_id], [t].[Other_payment], [t].[Payment_method_id], [t].[Room_id], [t].[Shipper_id], [t].[Status], [t].[Subtotal], [t].[Total_quantity], [t].[Total_vat], [t].[Customer_id0], [t0].[Invoice_detail_id], [t0].[Invoice_id], [t0].[Price], [t0].[Product_id], [t0].[Product_name], [t0].[Product_note], [t0].[Product_vat], [t0].[Quantity], [t0].[Product_id0], [t0].[Cost_price], [t0].[Description], [t0].[IsAvailable], [t0].[IsDelete], [t0].[Product_category_id], [t0].[Product_name0], [t0].[Product_vat0], [t0].[Sale_price], [t0].[Sell_price], [t0].[Status], [t0].[Unit_id], [t].[Customer_name], [t].[isDelete], [t].[Phone]
FROM (
    SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat], [c].[Customer_id] AS [Customer_id0], [c].[Customer_name], [c].[isDelete], [c].[Phone]
    FROM [Invoice] AS [i]
    LEFT JOIN [Customer] AS [c] ON [i].[Customer_id] = [c].[Customer_id]
    WHERE [i].[Invoice_id] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [i0].[Invoice_detail_id], [i0].[Invoice_id], [i0].[Price], [i0].[Product_id], [i0].[Product_name], [i0].[Product_note], [i0].[Product_vat], [i0].[Quantity], [m].[Product_id] AS [Product_id0], [m].[Cost_price], [m].[Description], [m].[IsAvailable], [m].[IsDelete], [m].[Product_category_id], [m].[Product_name] AS [Product_name0], [m].[Product_vat] AS [Product_vat0], [m].[Sale_price], [m].[Sell_price], [m].[Status], [m].[Unit_id]
    FROM [Invoice_detail] AS [i0]
    INNER JOIN [Menu] AS [m] ON [i0].[Product_id] = [m].[Product_id]
) AS [t0] ON [t].[Invoice_id] = [t0].[Invoice_id]
ORDER BY [t].[Invoice_id], [t].[Customer_id0], [t0].[Invoice_detail_id]
2025-04-01 20:22:09.839 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoiceForPdf (BepKhoiBackend.API) in 1394.9578ms
2025-04-01 20:22:09.841 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoiceForPdf (BepKhoiBackend.API)'
2025-04-01 20:22:09.843 +07:00 [ERR] Error: Unknown PdfException.
2025-04-01 20:22:09.847 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/pdf/1 - - - 500 - application/json 1478.4720ms
2025-04-01 20:24:14.484 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-01 20:24:14.640 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-01 20:24:14.641 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-01 20:24:14.755 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-01 20:24:14.757 +07:00 [INF] Hosting environment: Development
2025-04-01 20:24:14.757 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-01 20:24:15.209 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-01 20:24:15.337 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 130.1751ms
2025-04-01 20:24:15.357 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-01 20:24:15.357 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-01 20:24:15.360 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 3.1808ms
2025-04-01 20:24:15.385 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 27.5718ms
2025-04-01 20:24:15.645 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-01 20:24:15.687 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 41.6401ms
2025-04-01 20:24:21.260 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/pdf/1 - -
2025-04-01 20:24:21.314 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoiceForPdf (BepKhoiBackend.API)'
2025-04-01 20:24:21.333 +07:00 [INF] Route matched with {action = "GetInvoiceForPdf", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.Byte[]] GetInvoiceForPdf(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-01 20:24:22.143 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-01 20:24:22.662 +07:00 [INF] Executed DbCommand (35ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Invoice_id], [t].[Amount_due], [t].[Cashier_id], [t].[Check_in_time], [t].[Check_out_time], [t].[Customer_id], [t].[Invoice_discount], [t].[Invoice_note], [t].[Order_id], [t].[Order_type_id], [t].[Other_payment], [t].[Payment_method_id], [t].[Room_id], [t].[Shipper_id], [t].[Status], [t].[Subtotal], [t].[Total_quantity], [t].[Total_vat], [t].[Customer_id0], [t0].[Invoice_detail_id], [t0].[Invoice_id], [t0].[Price], [t0].[Product_id], [t0].[Product_name], [t0].[Product_note], [t0].[Product_vat], [t0].[Quantity], [t0].[Product_id0], [t0].[Cost_price], [t0].[Description], [t0].[IsAvailable], [t0].[IsDelete], [t0].[Product_category_id], [t0].[Product_name0], [t0].[Product_vat0], [t0].[Sale_price], [t0].[Sell_price], [t0].[Status], [t0].[Unit_id], [t].[Customer_name], [t].[isDelete], [t].[Phone]
FROM (
    SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat], [c].[Customer_id] AS [Customer_id0], [c].[Customer_name], [c].[isDelete], [c].[Phone]
    FROM [Invoice] AS [i]
    LEFT JOIN [Customer] AS [c] ON [i].[Customer_id] = [c].[Customer_id]
    WHERE [i].[Invoice_id] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [i0].[Invoice_detail_id], [i0].[Invoice_id], [i0].[Price], [i0].[Product_id], [i0].[Product_name], [i0].[Product_note], [i0].[Product_vat], [i0].[Quantity], [m].[Product_id] AS [Product_id0], [m].[Cost_price], [m].[Description], [m].[IsAvailable], [m].[IsDelete], [m].[Product_category_id], [m].[Product_name] AS [Product_name0], [m].[Product_vat] AS [Product_vat0], [m].[Sale_price], [m].[Sell_price], [m].[Status], [m].[Unit_id]
    FROM [Invoice_detail] AS [i0]
    INNER JOIN [Menu] AS [m] ON [i0].[Product_id] = [m].[Product_id]
) AS [t0] ON [t].[Invoice_id] = [t0].[Invoice_id]
ORDER BY [t].[Invoice_id], [t].[Customer_id0], [t0].[Invoice_detail_id]
2025-04-01 20:24:22.811 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoiceForPdf (BepKhoiBackend.API) in 1473.823ms
2025-04-01 20:24:22.813 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoiceForPdf (BepKhoiBackend.API)'
2025-04-01 20:24:22.814 +07:00 [ERR] Error: Unknown PdfException.
2025-04-01 20:24:22.819 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/pdf/1 - - - 500 - application/json 1558.4664ms
2025-04-01 20:25:25.414 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-01 20:25:25.566 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-01 20:25:25.567 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-01 20:25:25.690 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-01 20:25:25.691 +07:00 [INF] Hosting environment: Development
2025-04-01 20:25:25.692 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-01 20:25:26.062 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-01 20:25:26.214 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 154.6804ms
2025-04-01 20:25:26.237 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-01 20:25:26.237 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-01 20:25:26.244 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 6.3797ms
2025-04-01 20:25:26.270 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 33.2460ms
2025-04-01 20:25:26.607 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-01 20:25:26.652 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 45.0095ms
2025-04-01 20:25:34.158 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/pdf/1 - -
2025-04-01 20:25:34.234 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoiceForPdf (BepKhoiBackend.API)'
2025-04-01 20:25:34.259 +07:00 [INF] Route matched with {action = "GetInvoiceForPdf", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.Byte[]] GetInvoiceForPdf(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-01 20:25:35.200 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-01 20:25:35.755 +07:00 [INF] Executed DbCommand (37ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Invoice_id], [t].[Amount_due], [t].[Cashier_id], [t].[Check_in_time], [t].[Check_out_time], [t].[Customer_id], [t].[Invoice_discount], [t].[Invoice_note], [t].[Order_id], [t].[Order_type_id], [t].[Other_payment], [t].[Payment_method_id], [t].[Room_id], [t].[Shipper_id], [t].[Status], [t].[Subtotal], [t].[Total_quantity], [t].[Total_vat], [t].[Customer_id0], [t0].[Invoice_detail_id], [t0].[Invoice_id], [t0].[Price], [t0].[Product_id], [t0].[Product_name], [t0].[Product_note], [t0].[Product_vat], [t0].[Quantity], [t0].[Product_id0], [t0].[Cost_price], [t0].[Description], [t0].[IsAvailable], [t0].[IsDelete], [t0].[Product_category_id], [t0].[Product_name0], [t0].[Product_vat0], [t0].[Sale_price], [t0].[Sell_price], [t0].[Status], [t0].[Unit_id], [t].[Customer_name], [t].[isDelete], [t].[Phone]
FROM (
    SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat], [c].[Customer_id] AS [Customer_id0], [c].[Customer_name], [c].[isDelete], [c].[Phone]
    FROM [Invoice] AS [i]
    LEFT JOIN [Customer] AS [c] ON [i].[Customer_id] = [c].[Customer_id]
    WHERE [i].[Invoice_id] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [i0].[Invoice_detail_id], [i0].[Invoice_id], [i0].[Price], [i0].[Product_id], [i0].[Product_name], [i0].[Product_note], [i0].[Product_vat], [i0].[Quantity], [m].[Product_id] AS [Product_id0], [m].[Cost_price], [m].[Description], [m].[IsAvailable], [m].[IsDelete], [m].[Product_category_id], [m].[Product_name] AS [Product_name0], [m].[Product_vat] AS [Product_vat0], [m].[Sale_price], [m].[Sell_price], [m].[Status], [m].[Unit_id]
    FROM [Invoice_detail] AS [i0]
    INNER JOIN [Menu] AS [m] ON [i0].[Product_id] = [m].[Product_id]
) AS [t0] ON [t].[Invoice_id] = [t0].[Invoice_id]
ORDER BY [t].[Invoice_id], [t].[Customer_id0], [t0].[Invoice_detail_id]
2025-04-01 20:25:35.920 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoiceForPdf (BepKhoiBackend.API) in 1656.3918ms
2025-04-01 20:25:35.923 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoiceForPdf (BepKhoiBackend.API)'
2025-04-01 20:25:35.926 +07:00 [ERR] Error: Unknown PdfException.
2025-04-01 20:25:35.933 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/pdf/1 - - - 500 - application/json 1774.5991ms
2025-04-01 20:27:23.191 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-01 20:27:23.311 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-01 20:27:23.312 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-01 20:27:23.411 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-01 20:27:23.412 +07:00 [INF] Hosting environment: Development
2025-04-01 20:27:23.412 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-01 20:27:24.039 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-01 20:27:24.167 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 130.1326ms
2025-04-01 20:27:24.185 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-01 20:27:24.186 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-01 20:27:24.191 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 5.2463ms
2025-04-01 20:27:24.210 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 25.2119ms
2025-04-01 20:27:24.570 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-01 20:27:24.606 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 35.4065ms
2025-04-01 20:27:26.114 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-01 20:27:26.117 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 2.7903ms
2025-04-01 20:27:26.139 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-01 20:27:26.141 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-01 20:27:26.141 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 0.6850ms
2025-04-01 20:27:26.149 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 9.4033ms
2025-04-01 20:27:26.391 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-01 20:27:26.421 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 29.2202ms
2025-04-01 20:27:34.215 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/pdf/1 - -
2025-04-01 20:27:34.258 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoiceForPdf (BepKhoiBackend.API)'
2025-04-01 20:27:34.273 +07:00 [INF] Route matched with {action = "GetInvoiceForPdf", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.Byte[]] GetInvoiceForPdf(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-01 20:27:35.043 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-01 20:27:35.569 +07:00 [INF] Executed DbCommand (34ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Invoice_id], [t].[Amount_due], [t].[Cashier_id], [t].[Check_in_time], [t].[Check_out_time], [t].[Customer_id], [t].[Invoice_discount], [t].[Invoice_note], [t].[Order_id], [t].[Order_type_id], [t].[Other_payment], [t].[Payment_method_id], [t].[Room_id], [t].[Shipper_id], [t].[Status], [t].[Subtotal], [t].[Total_quantity], [t].[Total_vat], [t].[Customer_id0], [t0].[Invoice_detail_id], [t0].[Invoice_id], [t0].[Price], [t0].[Product_id], [t0].[Product_name], [t0].[Product_note], [t0].[Product_vat], [t0].[Quantity], [t0].[Product_id0], [t0].[Cost_price], [t0].[Description], [t0].[IsAvailable], [t0].[IsDelete], [t0].[Product_category_id], [t0].[Product_name0], [t0].[Product_vat0], [t0].[Sale_price], [t0].[Sell_price], [t0].[Status], [t0].[Unit_id], [t].[Customer_name], [t].[isDelete], [t].[Phone]
FROM (
    SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat], [c].[Customer_id] AS [Customer_id0], [c].[Customer_name], [c].[isDelete], [c].[Phone]
    FROM [Invoice] AS [i]
    LEFT JOIN [Customer] AS [c] ON [i].[Customer_id] = [c].[Customer_id]
    WHERE [i].[Invoice_id] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [i0].[Invoice_detail_id], [i0].[Invoice_id], [i0].[Price], [i0].[Product_id], [i0].[Product_name], [i0].[Product_note], [i0].[Product_vat], [i0].[Quantity], [m].[Product_id] AS [Product_id0], [m].[Cost_price], [m].[Description], [m].[IsAvailable], [m].[IsDelete], [m].[Product_category_id], [m].[Product_name] AS [Product_name0], [m].[Product_vat] AS [Product_vat0], [m].[Sale_price], [m].[Sell_price], [m].[Status], [m].[Unit_id]
    FROM [Invoice_detail] AS [i0]
    INNER JOIN [Menu] AS [m] ON [i0].[Product_id] = [m].[Product_id]
) AS [t0] ON [t].[Invoice_id] = [t0].[Invoice_id]
ORDER BY [t].[Invoice_id], [t].[Customer_id0], [t0].[Invoice_detail_id]
2025-04-01 20:27:35.800 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoiceForPdf (BepKhoiBackend.API) in 1520.8407ms
2025-04-01 20:27:35.801 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoiceForPdf (BepKhoiBackend.API)'
2025-04-01 20:27:35.803 +07:00 [ERR] Error: Lỗi khi tạo PDF: Unknown PdfException.
2025-04-01 20:27:35.809 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/pdf/1 - - - 500 - application/json 1593.9339ms
2025-04-01 20:28:23.191 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-01 20:28:23.479 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-01 20:28:23.480 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-01 20:28:23.659 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-01 20:28:23.660 +07:00 [INF] Hosting environment: Development
2025-04-01 20:28:23.661 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-01 20:28:24.971 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-01 20:28:25.219 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 251.2488ms
2025-04-01 20:28:25.241 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-01 20:28:25.248 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 6.9418ms
2025-04-01 20:28:25.517 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-01 20:28:25.921 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 403.6806ms
2025-04-01 20:28:25.952 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-01 20:28:25.979 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 27.4345ms
2025-04-01 20:28:33.335 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/pdf/1 - -
2025-04-01 20:28:33.527 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoiceForPdf (BepKhoiBackend.API)'
2025-04-01 20:28:33.553 +07:00 [INF] Route matched with {action = "GetInvoiceForPdf", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.Byte[]] GetInvoiceForPdf(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-01 20:28:34.821 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-01 20:28:35.830 +07:00 [INF] Executed DbCommand (70ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Invoice_id], [t].[Amount_due], [t].[Cashier_id], [t].[Check_in_time], [t].[Check_out_time], [t].[Customer_id], [t].[Invoice_discount], [t].[Invoice_note], [t].[Order_id], [t].[Order_type_id], [t].[Other_payment], [t].[Payment_method_id], [t].[Room_id], [t].[Shipper_id], [t].[Status], [t].[Subtotal], [t].[Total_quantity], [t].[Total_vat], [t].[Customer_id0], [t0].[Invoice_detail_id], [t0].[Invoice_id], [t0].[Price], [t0].[Product_id], [t0].[Product_name], [t0].[Product_note], [t0].[Product_vat], [t0].[Quantity], [t0].[Product_id0], [t0].[Cost_price], [t0].[Description], [t0].[IsAvailable], [t0].[IsDelete], [t0].[Product_category_id], [t0].[Product_name0], [t0].[Product_vat0], [t0].[Sale_price], [t0].[Sell_price], [t0].[Status], [t0].[Unit_id], [t].[Customer_name], [t].[isDelete], [t].[Phone]
FROM (
    SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat], [c].[Customer_id] AS [Customer_id0], [c].[Customer_name], [c].[isDelete], [c].[Phone]
    FROM [Invoice] AS [i]
    LEFT JOIN [Customer] AS [c] ON [i].[Customer_id] = [c].[Customer_id]
    WHERE [i].[Invoice_id] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [i0].[Invoice_detail_id], [i0].[Invoice_id], [i0].[Price], [i0].[Product_id], [i0].[Product_name], [i0].[Product_note], [i0].[Product_vat], [i0].[Quantity], [m].[Product_id] AS [Product_id0], [m].[Cost_price], [m].[Description], [m].[IsAvailable], [m].[IsDelete], [m].[Product_category_id], [m].[Product_name] AS [Product_name0], [m].[Product_vat] AS [Product_vat0], [m].[Sale_price], [m].[Sell_price], [m].[Status], [m].[Unit_id]
    FROM [Invoice_detail] AS [i0]
    INNER JOIN [Menu] AS [m] ON [i0].[Product_id] = [m].[Product_id]
) AS [t0] ON [t].[Invoice_id] = [t0].[Invoice_id]
ORDER BY [t].[Invoice_id], [t].[Customer_id0], [t0].[Invoice_detail_id]
2025-04-01 20:29:55.410 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-01 20:29:55.728 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-01 20:29:55.728 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-01 20:29:55.879 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-01 20:29:55.881 +07:00 [INF] Hosting environment: Development
2025-04-01 20:29:55.881 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-01 20:29:56.983 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-01 20:29:57.255 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 276.9834ms
2025-04-01 20:29:57.271 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-01 20:29:57.277 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 5.3932ms
2025-04-01 20:29:57.558 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-01 20:29:57.629 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 71.1152ms
2025-04-01 20:29:57.664 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-01 20:29:57.715 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 51.1244ms
2025-04-01 20:30:06.729 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/pdf/1 - -
2025-04-01 20:30:06.868 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoiceForPdf (BepKhoiBackend.API)'
2025-04-01 20:30:06.887 +07:00 [INF] Route matched with {action = "GetInvoiceForPdf", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.Byte[]] GetInvoiceForPdf(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-01 20:30:08.204 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-01 20:30:09.182 +07:00 [INF] Executed DbCommand (63ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Invoice_id], [t].[Amount_due], [t].[Cashier_id], [t].[Check_in_time], [t].[Check_out_time], [t].[Customer_id], [t].[Invoice_discount], [t].[Invoice_note], [t].[Order_id], [t].[Order_type_id], [t].[Other_payment], [t].[Payment_method_id], [t].[Room_id], [t].[Shipper_id], [t].[Status], [t].[Subtotal], [t].[Total_quantity], [t].[Total_vat], [t].[Customer_id0], [t0].[Invoice_detail_id], [t0].[Invoice_id], [t0].[Price], [t0].[Product_id], [t0].[Product_name], [t0].[Product_note], [t0].[Product_vat], [t0].[Quantity], [t0].[Product_id0], [t0].[Cost_price], [t0].[Description], [t0].[IsAvailable], [t0].[IsDelete], [t0].[Product_category_id], [t0].[Product_name0], [t0].[Product_vat0], [t0].[Sale_price], [t0].[Sell_price], [t0].[Status], [t0].[Unit_id], [t].[Customer_name], [t].[isDelete], [t].[Phone]
FROM (
    SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat], [c].[Customer_id] AS [Customer_id0], [c].[Customer_name], [c].[isDelete], [c].[Phone]
    FROM [Invoice] AS [i]
    LEFT JOIN [Customer] AS [c] ON [i].[Customer_id] = [c].[Customer_id]
    WHERE [i].[Invoice_id] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [i0].[Invoice_detail_id], [i0].[Invoice_id], [i0].[Price], [i0].[Product_id], [i0].[Product_name], [i0].[Product_note], [i0].[Product_vat], [i0].[Quantity], [m].[Product_id] AS [Product_id0], [m].[Cost_price], [m].[Description], [m].[IsAvailable], [m].[IsDelete], [m].[Product_category_id], [m].[Product_name] AS [Product_name0], [m].[Product_vat] AS [Product_vat0], [m].[Sale_price], [m].[Sell_price], [m].[Status], [m].[Unit_id]
    FROM [Invoice_detail] AS [i0]
    INNER JOIN [Menu] AS [m] ON [i0].[Product_id] = [m].[Product_id]
) AS [t0] ON [t].[Invoice_id] = [t0].[Invoice_id]
ORDER BY [t].[Invoice_id], [t].[Customer_id0], [t0].[Invoice_detail_id]
2025-04-01 20:31:57.660 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-01 20:31:57.790 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-01 20:31:57.791 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-01 20:31:57.894 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-01 20:31:57.894 +07:00 [INF] Hosting environment: Development
2025-04-01 20:31:57.895 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-01 20:31:58.421 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-01 20:31:58.558 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 139.0220ms
2025-04-01 20:31:58.576 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-01 20:31:58.579 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 3.2108ms
2025-04-01 20:31:58.815 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-01 20:31:58.850 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 35.1590ms
2025-04-01 20:31:58.907 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-01 20:31:58.959 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 52.4582ms
2025-04-01 20:32:04.924 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/pdf/1 - -
2025-04-01 20:32:04.980 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoiceForPdf (BepKhoiBackend.API)'
2025-04-01 20:32:04.996 +07:00 [INF] Route matched with {action = "GetInvoiceForPdf", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[BepKhoiBackend.BusinessObject.dtos.InvoiceDto.InvoicePdfDTO] GetInvoiceForPdf(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-01 20:32:05.706 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-01 20:32:06.250 +07:00 [INF] Executed DbCommand (39ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Invoice_id], [t].[Amount_due], [t].[Cashier_id], [t].[Check_in_time], [t].[Check_out_time], [t].[Customer_id], [t].[Invoice_discount], [t].[Invoice_note], [t].[Order_id], [t].[Order_type_id], [t].[Other_payment], [t].[Payment_method_id], [t].[Room_id], [t].[Shipper_id], [t].[Status], [t].[Subtotal], [t].[Total_quantity], [t].[Total_vat], [t].[Customer_id0], [t0].[Invoice_detail_id], [t0].[Invoice_id], [t0].[Price], [t0].[Product_id], [t0].[Product_name], [t0].[Product_note], [t0].[Product_vat], [t0].[Quantity], [t0].[Product_id0], [t0].[Cost_price], [t0].[Description], [t0].[IsAvailable], [t0].[IsDelete], [t0].[Product_category_id], [t0].[Product_name0], [t0].[Product_vat0], [t0].[Sale_price], [t0].[Sell_price], [t0].[Status], [t0].[Unit_id], [t].[Customer_name], [t].[isDelete], [t].[Phone]
FROM (
    SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat], [c].[Customer_id] AS [Customer_id0], [c].[Customer_name], [c].[isDelete], [c].[Phone]
    FROM [Invoice] AS [i]
    LEFT JOIN [Customer] AS [c] ON [i].[Customer_id] = [c].[Customer_id]
    WHERE [i].[Invoice_id] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [i0].[Invoice_detail_id], [i0].[Invoice_id], [i0].[Price], [i0].[Product_id], [i0].[Product_name], [i0].[Product_note], [i0].[Product_vat], [i0].[Quantity], [m].[Product_id] AS [Product_id0], [m].[Cost_price], [m].[Description], [m].[IsAvailable], [m].[IsDelete], [m].[Product_category_id], [m].[Product_name] AS [Product_name0], [m].[Product_vat] AS [Product_vat0], [m].[Sale_price], [m].[Sell_price], [m].[Status], [m].[Unit_id]
    FROM [Invoice_detail] AS [i0]
    INNER JOIN [Menu] AS [m] ON [i0].[Product_id] = [m].[Product_id]
) AS [t0] ON [t].[Invoice_id] = [t0].[Invoice_id]
ORDER BY [t].[Invoice_id], [t].[Customer_id0], [t0].[Invoice_detail_id]
2025-04-01 20:32:06.400 +07:00 [INF] Executing OkObjectResult, writing value of type 'BepKhoiBackend.BusinessObject.dtos.InvoiceDto.InvoicePdfDTO'.
2025-04-01 20:32:06.413 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoiceForPdf (BepKhoiBackend.API) in 1411.7589ms
2025-04-01 20:32:06.415 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoiceForPdf (BepKhoiBackend.API)'
2025-04-01 20:32:06.420 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/pdf/1 - - - 200 - application/json;+charset=utf-8 1495.9006ms
2025-04-01 20:34:44.776 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-01 20:34:44.899 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-01 20:34:44.900 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-01 20:34:45.001 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-01 20:34:45.002 +07:00 [INF] Hosting environment: Development
2025-04-01 20:34:45.003 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-01 20:34:45.520 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-01 20:34:45.646 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 127.7388ms
2025-04-01 20:34:45.668 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-01 20:34:45.668 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-01 20:34:45.672 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 3.8127ms
2025-04-01 20:34:45.703 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 34.8626ms
2025-04-01 20:34:46.004 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-01 20:34:46.038 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 33.3945ms
2025-04-01 20:34:51.452 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/pdf/1 - -
2025-04-01 20:34:51.495 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API)'
2025-04-01 20:34:51.512 +07:00 [INF] Route matched with {action = "GetInvoicePdf", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetInvoicePdf(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-01 20:34:52.281 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-01 20:34:52.788 +07:00 [INF] Executed DbCommand (30ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Invoice_id], [t].[Amount_due], [t].[Cashier_id], [t].[Check_in_time], [t].[Check_out_time], [t].[Customer_id], [t].[Invoice_discount], [t].[Invoice_note], [t].[Order_id], [t].[Order_type_id], [t].[Other_payment], [t].[Payment_method_id], [t].[Room_id], [t].[Shipper_id], [t].[Status], [t].[Subtotal], [t].[Total_quantity], [t].[Total_vat], [t].[Customer_id0], [t0].[Invoice_detail_id], [t0].[Invoice_id], [t0].[Price], [t0].[Product_id], [t0].[Product_name], [t0].[Product_note], [t0].[Product_vat], [t0].[Quantity], [t0].[Product_id0], [t0].[Cost_price], [t0].[Description], [t0].[IsAvailable], [t0].[IsDelete], [t0].[Product_category_id], [t0].[Product_name0], [t0].[Product_vat0], [t0].[Sale_price], [t0].[Sell_price], [t0].[Status], [t0].[Unit_id], [t].[Customer_name], [t].[isDelete], [t].[Phone]
FROM (
    SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat], [c].[Customer_id] AS [Customer_id0], [c].[Customer_name], [c].[isDelete], [c].[Phone]
    FROM [Invoice] AS [i]
    LEFT JOIN [Customer] AS [c] ON [i].[Customer_id] = [c].[Customer_id]
    WHERE [i].[Invoice_id] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [i0].[Invoice_detail_id], [i0].[Invoice_id], [i0].[Price], [i0].[Product_id], [i0].[Product_name], [i0].[Product_note], [i0].[Product_vat], [i0].[Quantity], [m].[Product_id] AS [Product_id0], [m].[Cost_price], [m].[Description], [m].[IsAvailable], [m].[IsDelete], [m].[Product_category_id], [m].[Product_name] AS [Product_name0], [m].[Product_vat] AS [Product_vat0], [m].[Sale_price], [m].[Sell_price], [m].[Status], [m].[Unit_id]
    FROM [Invoice_detail] AS [i0]
    INNER JOIN [Menu] AS [m] ON [i0].[Product_id] = [m].[Product_id]
) AS [t0] ON [t].[Invoice_id] = [t0].[Invoice_id]
ORDER BY [t].[Invoice_id], [t].[Customer_id0], [t0].[Invoice_detail_id]
2025-04-01 20:34:52.957 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API) in 1440.4091ms
2025-04-01 20:34:52.959 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API)'
2025-04-01 20:34:52.960 +07:00 [ERR] Error: Lỗi khi tạo PDF: Unknown PdfException.
2025-04-01 20:34:52.967 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/pdf/1 - - - 500 - application/json 1514.2391ms
2025-04-01 20:35:26.145 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-01 20:35:26.424 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-01 20:35:26.425 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-01 20:35:26.610 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-01 20:35:26.611 +07:00 [INF] Hosting environment: Development
2025-04-01 20:35:26.612 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-01 20:35:27.220 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-01 20:35:27.453 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 235.5465ms
2025-04-01 20:35:27.469 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-01 20:35:27.475 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 5.5602ms
2025-04-01 20:35:27.708 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-01 20:35:27.768 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 59.6641ms
2025-04-01 20:35:27.806 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-01 20:35:27.835 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 28.3135ms
2025-04-01 20:35:40.420 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-01 20:35:40.790 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-01 20:35:40.791 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-01 20:35:40.974 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-01 20:35:40.974 +07:00 [INF] Hosting environment: Development
2025-04-01 20:35:40.975 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-01 20:35:42.520 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-01 20:35:42.791 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 272.9541ms
2025-04-01 20:35:42.817 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-01 20:35:42.823 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 6.5992ms
2025-04-01 20:35:43.054 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-01 20:35:43.129 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 74.2053ms
2025-04-01 20:35:43.154 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-01 20:35:43.187 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 32.8417ms
2025-04-01 20:35:50.514 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/pdf/1 - -
2025-04-01 20:35:50.641 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API)'
2025-04-01 20:35:50.664 +07:00 [INF] Route matched with {action = "GetInvoicePdf", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetInvoicePdf(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-01 20:35:51.804 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-01 20:35:52.738 +07:00 [INF] Executed DbCommand (60ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Invoice_id], [t].[Amount_due], [t].[Cashier_id], [t].[Check_in_time], [t].[Check_out_time], [t].[Customer_id], [t].[Invoice_discount], [t].[Invoice_note], [t].[Order_id], [t].[Order_type_id], [t].[Other_payment], [t].[Payment_method_id], [t].[Room_id], [t].[Shipper_id], [t].[Status], [t].[Subtotal], [t].[Total_quantity], [t].[Total_vat], [t].[Customer_id0], [t0].[Invoice_detail_id], [t0].[Invoice_id], [t0].[Price], [t0].[Product_id], [t0].[Product_name], [t0].[Product_note], [t0].[Product_vat], [t0].[Quantity], [t0].[Product_id0], [t0].[Cost_price], [t0].[Description], [t0].[IsAvailable], [t0].[IsDelete], [t0].[Product_category_id], [t0].[Product_name0], [t0].[Product_vat0], [t0].[Sale_price], [t0].[Sell_price], [t0].[Status], [t0].[Unit_id], [t].[Customer_name], [t].[isDelete], [t].[Phone]
FROM (
    SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat], [c].[Customer_id] AS [Customer_id0], [c].[Customer_name], [c].[isDelete], [c].[Phone]
    FROM [Invoice] AS [i]
    LEFT JOIN [Customer] AS [c] ON [i].[Customer_id] = [c].[Customer_id]
    WHERE [i].[Invoice_id] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [i0].[Invoice_detail_id], [i0].[Invoice_id], [i0].[Price], [i0].[Product_id], [i0].[Product_name], [i0].[Product_note], [i0].[Product_vat], [i0].[Quantity], [m].[Product_id] AS [Product_id0], [m].[Cost_price], [m].[Description], [m].[IsAvailable], [m].[IsDelete], [m].[Product_category_id], [m].[Product_name] AS [Product_name0], [m].[Product_vat] AS [Product_vat0], [m].[Sale_price], [m].[Sell_price], [m].[Status], [m].[Unit_id]
    FROM [Invoice_detail] AS [i0]
    INNER JOIN [Menu] AS [m] ON [i0].[Product_id] = [m].[Product_id]
) AS [t0] ON [t].[Invoice_id] = [t0].[Invoice_id]
ORDER BY [t].[Invoice_id], [t].[Customer_id0], [t0].[Invoice_detail_id]
2025-04-01 20:36:03.463 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API) in 12791.9406ms
2025-04-01 20:36:03.471 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API)'
2025-04-01 20:36:04.142 +07:00 [ERR] Error: Unknown PdfException.
2025-04-01 20:36:17.305 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/pdf/1 - - - 500 - application/json 26791.3324ms
2025-04-01 20:38:03.021 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-01 20:38:03.186 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-01 20:38:03.186 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-01 20:38:03.305 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-01 20:38:03.307 +07:00 [INF] Hosting environment: Development
2025-04-01 20:38:03.309 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-01 20:38:03.624 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-01 20:38:03.793 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 173.7467ms
2025-04-01 20:38:03.810 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-01 20:38:03.816 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 5.9428ms
2025-04-01 20:38:04.031 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-01 20:38:04.065 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 33.8482ms
2025-04-01 20:38:04.107 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-01 20:38:04.133 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 26.4199ms
2025-04-01 20:38:09.430 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/pdf/1 - -
2025-04-01 20:38:09.475 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API)'
2025-04-01 20:38:09.489 +07:00 [INF] Route matched with {action = "GetInvoicePdf", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetInvoicePdf(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-01 20:38:10.328 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-01 20:38:10.885 +07:00 [INF] Executed DbCommand (44ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Invoice_id], [t].[Amount_due], [t].[Cashier_id], [t].[Check_in_time], [t].[Check_out_time], [t].[Customer_id], [t].[Invoice_discount], [t].[Invoice_note], [t].[Order_id], [t].[Order_type_id], [t].[Other_payment], [t].[Payment_method_id], [t].[Room_id], [t].[Shipper_id], [t].[Status], [t].[Subtotal], [t].[Total_quantity], [t].[Total_vat], [t].[Customer_id0], [t0].[Invoice_detail_id], [t0].[Invoice_id], [t0].[Price], [t0].[Product_id], [t0].[Product_name], [t0].[Product_note], [t0].[Product_vat], [t0].[Quantity], [t0].[Product_id0], [t0].[Cost_price], [t0].[Description], [t0].[IsAvailable], [t0].[IsDelete], [t0].[Product_category_id], [t0].[Product_name0], [t0].[Product_vat0], [t0].[Sale_price], [t0].[Sell_price], [t0].[Status], [t0].[Unit_id], [t].[Customer_name], [t].[isDelete], [t].[Phone]
FROM (
    SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat], [c].[Customer_id] AS [Customer_id0], [c].[Customer_name], [c].[isDelete], [c].[Phone]
    FROM [Invoice] AS [i]
    LEFT JOIN [Customer] AS [c] ON [i].[Customer_id] = [c].[Customer_id]
    WHERE [i].[Invoice_id] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [i0].[Invoice_detail_id], [i0].[Invoice_id], [i0].[Price], [i0].[Product_id], [i0].[Product_name], [i0].[Product_note], [i0].[Product_vat], [i0].[Quantity], [m].[Product_id] AS [Product_id0], [m].[Cost_price], [m].[Description], [m].[IsAvailable], [m].[IsDelete], [m].[Product_category_id], [m].[Product_name] AS [Product_name0], [m].[Product_vat] AS [Product_vat0], [m].[Sale_price], [m].[Sell_price], [m].[Status], [m].[Unit_id]
    FROM [Invoice_detail] AS [i0]
    INNER JOIN [Menu] AS [m] ON [i0].[Product_id] = [m].[Product_id]
) AS [t0] ON [t].[Invoice_id] = [t0].[Invoice_id]
ORDER BY [t].[Invoice_id], [t].[Customer_id0], [t0].[Invoice_detail_id]
2025-04-01 20:38:11.046 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API) in 1550.939ms
2025-04-01 20:38:11.048 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API)'
2025-04-01 20:38:11.051 +07:00 [ERR] Error: Lỗi khi tạo PDF: Unknown PdfException.
2025-04-01 20:38:11.059 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/pdf/1 - - - 500 - application/json 1628.8042ms
2025-04-01 20:45:26.221 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-01 20:45:26.379 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-01 20:45:26.380 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-01 20:45:26.516 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-01 20:45:26.517 +07:00 [INF] Hosting environment: Development
2025-04-01 20:45:26.519 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-01 20:45:26.560 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-01 20:45:26.721 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 164.5573ms
2025-04-01 20:45:26.755 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-01 20:45:26.755 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-01 20:45:26.760 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 4.4303ms
2025-04-01 20:45:26.789 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 33.6762ms
2025-04-01 20:45:27.146 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-01 20:45:27.190 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 43.3219ms
2025-04-01 20:45:47.128 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/pdf/1 - -
2025-04-01 20:45:47.186 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API)'
2025-04-01 20:45:47.207 +07:00 [INF] Route matched with {action = "GetInvoicePdf", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetInvoicePdf(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-01 20:45:48.107 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-01 20:45:48.869 +07:00 [INF] Executed DbCommand (68ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Invoice_id], [t].[Amount_due], [t].[Cashier_id], [t].[Check_in_time], [t].[Check_out_time], [t].[Customer_id], [t].[Invoice_discount], [t].[Invoice_note], [t].[Order_id], [t].[Order_type_id], [t].[Other_payment], [t].[Payment_method_id], [t].[Room_id], [t].[Shipper_id], [t].[Status], [t].[Subtotal], [t].[Total_quantity], [t].[Total_vat], [t].[Customer_id0], [t0].[Invoice_detail_id], [t0].[Invoice_id], [t0].[Price], [t0].[Product_id], [t0].[Product_name], [t0].[Product_note], [t0].[Product_vat], [t0].[Quantity], [t0].[Product_id0], [t0].[Cost_price], [t0].[Description], [t0].[IsAvailable], [t0].[IsDelete], [t0].[Product_category_id], [t0].[Product_name0], [t0].[Product_vat0], [t0].[Sale_price], [t0].[Sell_price], [t0].[Status], [t0].[Unit_id], [t].[Customer_name], [t].[isDelete], [t].[Phone]
FROM (
    SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat], [c].[Customer_id] AS [Customer_id0], [c].[Customer_name], [c].[isDelete], [c].[Phone]
    FROM [Invoice] AS [i]
    LEFT JOIN [Customer] AS [c] ON [i].[Customer_id] = [c].[Customer_id]
    WHERE [i].[Invoice_id] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [i0].[Invoice_detail_id], [i0].[Invoice_id], [i0].[Price], [i0].[Product_id], [i0].[Product_name], [i0].[Product_note], [i0].[Product_vat], [i0].[Quantity], [m].[Product_id] AS [Product_id0], [m].[Cost_price], [m].[Description], [m].[IsAvailable], [m].[IsDelete], [m].[Product_category_id], [m].[Product_name] AS [Product_name0], [m].[Product_vat] AS [Product_vat0], [m].[Sale_price], [m].[Sell_price], [m].[Status], [m].[Unit_id]
    FROM [Invoice_detail] AS [i0]
    INNER JOIN [Menu] AS [m] ON [i0].[Product_id] = [m].[Product_id]
) AS [t0] ON [t].[Invoice_id] = [t0].[Invoice_id]
ORDER BY [t].[Invoice_id], [t].[Customer_id0], [t0].[Invoice_detail_id]
2025-04-01 20:45:49.071 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API) in 1857.4936ms
2025-04-01 20:45:49.074 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API)'
2025-04-01 20:45:49.076 +07:00 [ERR] Error: Lỗi khi tạo PDF: Unknown PdfException.
2025-04-01 20:45:49.086 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/pdf/1 - - - 500 - application/json 1958.2138ms
2025-04-01 20:52:02.321 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-01 20:52:02.511 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-01 20:52:02.513 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-01 20:52:02.652 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-01 20:52:02.654 +07:00 [INF] Hosting environment: Development
2025-04-01 20:52:02.656 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-01 20:52:03.039 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-01 20:52:03.200 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 164.1381ms
2025-04-01 20:52:03.229 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-01 20:52:03.229 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-01 20:52:03.233 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 4.0465ms
2025-04-01 20:52:03.261 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 32.6511ms
2025-04-01 20:52:03.942 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-01 20:52:04.014 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 72.1604ms
2025-04-01 20:52:44.052 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-01 20:52:44.257 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-01 20:52:44.258 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-01 20:52:44.399 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-01 20:52:44.400 +07:00 [INF] Hosting environment: Development
2025-04-01 20:52:44.400 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-01 20:52:45.007 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-01 20:52:45.201 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 199.0875ms
2025-04-01 20:52:45.232 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-01 20:52:45.232 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-01 20:52:45.238 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 5.1661ms
2025-04-01 20:52:45.271 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 38.7599ms
2025-04-01 20:52:45.569 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-01 20:52:45.629 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 59.2555ms
2025-04-01 20:52:59.909 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/pdf/1 - -
2025-04-01 20:52:59.967 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API)'
2025-04-01 20:52:59.987 +07:00 [INF] Route matched with {action = "GetInvoicePdf", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetInvoicePdf(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-01 20:53:01.052 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-01 20:53:01.746 +07:00 [INF] Executed DbCommand (52ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Invoice_id], [t].[Amount_due], [t].[Cashier_id], [t].[Check_in_time], [t].[Check_out_time], [t].[Customer_id], [t].[Invoice_discount], [t].[Invoice_note], [t].[Order_id], [t].[Order_type_id], [t].[Other_payment], [t].[Payment_method_id], [t].[Room_id], [t].[Shipper_id], [t].[Status], [t].[Subtotal], [t].[Total_quantity], [t].[Total_vat], [t].[Customer_id0], [t0].[Invoice_detail_id], [t0].[Invoice_id], [t0].[Price], [t0].[Product_id], [t0].[Product_name], [t0].[Product_note], [t0].[Product_vat], [t0].[Quantity], [t0].[Product_id0], [t0].[Cost_price], [t0].[Description], [t0].[IsAvailable], [t0].[IsDelete], [t0].[Product_category_id], [t0].[Product_name0], [t0].[Product_vat0], [t0].[Sale_price], [t0].[Sell_price], [t0].[Status], [t0].[Unit_id], [t].[Customer_name], [t].[isDelete], [t].[Phone]
FROM (
    SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat], [c].[Customer_id] AS [Customer_id0], [c].[Customer_name], [c].[isDelete], [c].[Phone]
    FROM [Invoice] AS [i]
    LEFT JOIN [Customer] AS [c] ON [i].[Customer_id] = [c].[Customer_id]
    WHERE [i].[Invoice_id] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [i0].[Invoice_detail_id], [i0].[Invoice_id], [i0].[Price], [i0].[Product_id], [i0].[Product_name], [i0].[Product_note], [i0].[Product_vat], [i0].[Quantity], [m].[Product_id] AS [Product_id0], [m].[Cost_price], [m].[Description], [m].[IsAvailable], [m].[IsDelete], [m].[Product_category_id], [m].[Product_name] AS [Product_name0], [m].[Product_vat] AS [Product_vat0], [m].[Sale_price], [m].[Sell_price], [m].[Status], [m].[Unit_id]
    FROM [Invoice_detail] AS [i0]
    INNER JOIN [Menu] AS [m] ON [i0].[Product_id] = [m].[Product_id]
) AS [t0] ON [t].[Invoice_id] = [t0].[Invoice_id]
ORDER BY [t].[Invoice_id], [t].[Customer_id0], [t0].[Invoice_detail_id]
2025-04-01 20:53:01.957 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API) in 1963.7698ms
2025-04-01 20:53:01.959 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API)'
2025-04-01 20:53:01.962 +07:00 [ERR] Error: Lỗi khi tạo PDF: Unknown PdfException.
2025-04-01 20:53:01.974 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/pdf/1 - - - 500 - application/json 2064.8075ms
2025-04-01 20:53:58.494 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-01 20:53:58.659 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-01 20:53:58.660 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-01 20:53:58.828 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-01 20:53:58.829 +07:00 [INF] Hosting environment: Development
2025-04-01 20:53:58.830 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-01 20:54:00.027 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-01 20:54:00.194 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 170.9227ms
2025-04-01 20:54:00.224 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-01 20:54:00.224 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-01 20:54:00.230 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 5.8083ms
2025-04-01 20:54:00.263 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 39.1106ms
2025-04-01 20:54:00.600 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-01 20:54:00.657 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 56.2195ms
2025-04-01 20:54:07.832 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/pdf/1 - -
2025-04-01 20:54:07.890 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API)'
2025-04-01 20:54:07.912 +07:00 [INF] Route matched with {action = "GetInvoicePdf", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetInvoicePdf(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-01 20:54:08.895 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-01 20:54:09.599 +07:00 [INF] Executed DbCommand (49ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Invoice_id], [t].[Amount_due], [t].[Cashier_id], [t].[Check_in_time], [t].[Check_out_time], [t].[Customer_id], [t].[Invoice_discount], [t].[Invoice_note], [t].[Order_id], [t].[Order_type_id], [t].[Other_payment], [t].[Payment_method_id], [t].[Room_id], [t].[Shipper_id], [t].[Status], [t].[Subtotal], [t].[Total_quantity], [t].[Total_vat], [t].[Customer_id0], [t0].[Invoice_detail_id], [t0].[Invoice_id], [t0].[Price], [t0].[Product_id], [t0].[Product_name], [t0].[Product_note], [t0].[Product_vat], [t0].[Quantity], [t0].[Product_id0], [t0].[Cost_price], [t0].[Description], [t0].[IsAvailable], [t0].[IsDelete], [t0].[Product_category_id], [t0].[Product_name0], [t0].[Product_vat0], [t0].[Sale_price], [t0].[Sell_price], [t0].[Status], [t0].[Unit_id], [t].[Customer_name], [t].[isDelete], [t].[Phone]
FROM (
    SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat], [c].[Customer_id] AS [Customer_id0], [c].[Customer_name], [c].[isDelete], [c].[Phone]
    FROM [Invoice] AS [i]
    LEFT JOIN [Customer] AS [c] ON [i].[Customer_id] = [c].[Customer_id]
    WHERE [i].[Invoice_id] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [i0].[Invoice_detail_id], [i0].[Invoice_id], [i0].[Price], [i0].[Product_id], [i0].[Product_name], [i0].[Product_note], [i0].[Product_vat], [i0].[Quantity], [m].[Product_id] AS [Product_id0], [m].[Cost_price], [m].[Description], [m].[IsAvailable], [m].[IsDelete], [m].[Product_category_id], [m].[Product_name] AS [Product_name0], [m].[Product_vat] AS [Product_vat0], [m].[Sale_price], [m].[Sell_price], [m].[Status], [m].[Unit_id]
    FROM [Invoice_detail] AS [i0]
    INNER JOIN [Menu] AS [m] ON [i0].[Product_id] = [m].[Product_id]
) AS [t0] ON [t].[Invoice_id] = [t0].[Invoice_id]
ORDER BY [t].[Invoice_id], [t].[Customer_id0], [t0].[Invoice_detail_id]
2025-04-01 20:54:09.796 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API) in 1876.2677ms
2025-04-01 20:54:09.798 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API)'
2025-04-01 20:54:09.800 +07:00 [ERR] Error: Lỗi khi tạo PDF: Unknown PdfException.
2025-04-01 20:54:09.809 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/pdf/1 - - - 500 - application/json 1977.8853ms
2025-04-01 20:54:23.291 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-01 20:54:23.742 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-01 20:54:23.743 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-01 20:54:23.981 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-01 20:54:23.982 +07:00 [INF] Hosting environment: Development
2025-04-01 20:54:23.983 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-01 20:54:25.637 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-01 20:54:25.944 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 312.1536ms
2025-04-01 20:54:25.969 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-01 20:54:25.978 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 7.8669ms
2025-04-01 20:54:26.250 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-01 20:54:26.325 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 75.3179ms
2025-04-01 20:54:26.360 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-01 20:54:26.401 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 41.5774ms
2025-04-01 20:54:33.016 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/pdf/1 - -
2025-04-01 20:54:33.177 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API)'
2025-04-01 20:54:33.203 +07:00 [INF] Route matched with {action = "GetInvoicePdf", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetInvoicePdf(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-01 20:54:34.885 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-01 20:54:36.355 +07:00 [INF] Executed DbCommand (101ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Invoice_id], [t].[Amount_due], [t].[Cashier_id], [t].[Check_in_time], [t].[Check_out_time], [t].[Customer_id], [t].[Invoice_discount], [t].[Invoice_note], [t].[Order_id], [t].[Order_type_id], [t].[Other_payment], [t].[Payment_method_id], [t].[Room_id], [t].[Shipper_id], [t].[Status], [t].[Subtotal], [t].[Total_quantity], [t].[Total_vat], [t].[Customer_id0], [t0].[Invoice_detail_id], [t0].[Invoice_id], [t0].[Price], [t0].[Product_id], [t0].[Product_name], [t0].[Product_note], [t0].[Product_vat], [t0].[Quantity], [t0].[Product_id0], [t0].[Cost_price], [t0].[Description], [t0].[IsAvailable], [t0].[IsDelete], [t0].[Product_category_id], [t0].[Product_name0], [t0].[Product_vat0], [t0].[Sale_price], [t0].[Sell_price], [t0].[Status], [t0].[Unit_id], [t].[Customer_name], [t].[isDelete], [t].[Phone]
FROM (
    SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat], [c].[Customer_id] AS [Customer_id0], [c].[Customer_name], [c].[isDelete], [c].[Phone]
    FROM [Invoice] AS [i]
    LEFT JOIN [Customer] AS [c] ON [i].[Customer_id] = [c].[Customer_id]
    WHERE [i].[Invoice_id] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [i0].[Invoice_detail_id], [i0].[Invoice_id], [i0].[Price], [i0].[Product_id], [i0].[Product_name], [i0].[Product_note], [i0].[Product_vat], [i0].[Quantity], [m].[Product_id] AS [Product_id0], [m].[Cost_price], [m].[Description], [m].[IsAvailable], [m].[IsDelete], [m].[Product_category_id], [m].[Product_name] AS [Product_name0], [m].[Product_vat] AS [Product_vat0], [m].[Sale_price], [m].[Sell_price], [m].[Status], [m].[Unit_id]
    FROM [Invoice_detail] AS [i0]
    INNER JOIN [Menu] AS [m] ON [i0].[Product_id] = [m].[Product_id]
) AS [t0] ON [t].[Invoice_id] = [t0].[Invoice_id]
ORDER BY [t].[Invoice_id], [t].[Customer_id0], [t0].[Invoice_detail_id]
2025-04-01 20:55:17.463 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-01 20:55:17.926 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-01 20:55:17.927 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-01 20:55:18.125 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-01 20:55:18.126 +07:00 [INF] Hosting environment: Development
2025-04-01 20:55:18.127 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-01 20:55:21.013 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-01 20:55:21.319 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 310.8008ms
2025-04-01 20:55:21.342 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-01 20:55:21.349 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 7.0853ms
2025-04-01 20:55:21.631 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-01 20:55:21.711 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 79.4657ms
2025-04-01 20:55:21.751 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-01 20:55:21.816 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 65.1348ms
2025-04-01 20:55:30.206 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/pdf/1 - -
2025-04-01 20:55:30.345 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API)'
2025-04-01 20:55:30.372 +07:00 [INF] Route matched with {action = "GetInvoicePdf", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetInvoicePdf(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-01 20:57:08.137 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-01 20:57:08.306 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-01 20:57:08.307 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-01 20:57:08.454 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-01 20:57:08.456 +07:00 [INF] Hosting environment: Development
2025-04-01 20:57:08.456 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-01 20:57:08.907 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-01 20:57:09.112 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 208.0629ms
2025-04-01 20:57:09.132 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-01 20:57:09.136 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 4.7160ms
2025-04-01 20:57:09.387 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-01 20:57:09.424 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 37.0406ms
2025-04-01 20:57:09.481 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-01 20:57:09.528 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 46.8747ms
2025-04-01 20:57:15.117 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/pdf/1 - -
2025-04-01 20:57:15.180 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API)'
2025-04-01 20:57:15.203 +07:00 [INF] Route matched with {action = "GetInvoicePdf", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetInvoicePdf(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-01 20:57:16.286 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-01 20:57:17.019 +07:00 [INF] Executed DbCommand (62ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Invoice_id], [t].[Amount_due], [t].[Cashier_id], [t].[Check_in_time], [t].[Check_out_time], [t].[Customer_id], [t].[Invoice_discount], [t].[Invoice_note], [t].[Order_id], [t].[Order_type_id], [t].[Other_payment], [t].[Payment_method_id], [t].[Room_id], [t].[Shipper_id], [t].[Status], [t].[Subtotal], [t].[Total_quantity], [t].[Total_vat], [t].[Customer_id0], [t0].[Invoice_detail_id], [t0].[Invoice_id], [t0].[Price], [t0].[Product_id], [t0].[Product_name], [t0].[Product_note], [t0].[Product_vat], [t0].[Quantity], [t0].[Product_id0], [t0].[Cost_price], [t0].[Description], [t0].[IsAvailable], [t0].[IsDelete], [t0].[Product_category_id], [t0].[Product_name0], [t0].[Product_vat0], [t0].[Sale_price], [t0].[Sell_price], [t0].[Status], [t0].[Unit_id], [t].[Customer_name], [t].[isDelete], [t].[Phone]
FROM (
    SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat], [c].[Customer_id] AS [Customer_id0], [c].[Customer_name], [c].[isDelete], [c].[Phone]
    FROM [Invoice] AS [i]
    LEFT JOIN [Customer] AS [c] ON [i].[Customer_id] = [c].[Customer_id]
    WHERE [i].[Invoice_id] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [i0].[Invoice_detail_id], [i0].[Invoice_id], [i0].[Price], [i0].[Product_id], [i0].[Product_name], [i0].[Product_note], [i0].[Product_vat], [i0].[Quantity], [m].[Product_id] AS [Product_id0], [m].[Cost_price], [m].[Description], [m].[IsAvailable], [m].[IsDelete], [m].[Product_category_id], [m].[Product_name] AS [Product_name0], [m].[Product_vat] AS [Product_vat0], [m].[Sale_price], [m].[Sell_price], [m].[Status], [m].[Unit_id]
    FROM [Invoice_detail] AS [i0]
    INNER JOIN [Menu] AS [m] ON [i0].[Product_id] = [m].[Product_id]
) AS [t0] ON [t].[Invoice_id] = [t0].[Invoice_id]
ORDER BY [t].[Invoice_id], [t].[Customer_id0], [t0].[Invoice_detail_id]
2025-04-01 20:57:17.275 +07:00 [INF] Executing OkObjectResult, writing value of type 'BepKhoiBackend.BusinessObject.dtos.InvoiceDto.InvoicePdfDTO'.
2025-04-01 20:57:17.299 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API) in 2085.6268ms
2025-04-01 20:57:17.301 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API)'
2025-04-01 20:57:17.307 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/pdf/1 - - - 200 - application/json;+charset=utf-8 2189.9952ms
2025-04-01 20:57:46.336 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-01 20:57:46.510 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-01 20:57:46.511 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-01 20:57:46.673 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-01 20:57:46.673 +07:00 [INF] Hosting environment: Development
2025-04-01 20:57:46.674 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-01 20:57:46.952 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-01 20:57:47.109 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 159.7992ms
2025-04-01 20:57:47.135 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-01 20:57:47.135 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-01 20:57:47.141 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 6.1872ms
2025-04-01 20:57:47.175 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 40.1175ms
2025-04-01 20:57:47.322 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-01 20:57:47.390 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 67.7705ms
2025-04-01 20:57:53.262 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/pdf/1 - -
2025-04-01 20:57:53.331 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API)'
2025-04-01 20:57:53.352 +07:00 [INF] Route matched with {action = "GetInvoicePdf", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetInvoicePdf(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-01 20:57:54.333 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-01 20:57:55.059 +07:00 [INF] Executed DbCommand (49ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Invoice_id], [t].[Amount_due], [t].[Cashier_id], [t].[Check_in_time], [t].[Check_out_time], [t].[Customer_id], [t].[Invoice_discount], [t].[Invoice_note], [t].[Order_id], [t].[Order_type_id], [t].[Other_payment], [t].[Payment_method_id], [t].[Room_id], [t].[Shipper_id], [t].[Status], [t].[Subtotal], [t].[Total_quantity], [t].[Total_vat], [t].[Customer_id0], [t0].[Invoice_detail_id], [t0].[Invoice_id], [t0].[Price], [t0].[Product_id], [t0].[Product_name], [t0].[Product_note], [t0].[Product_vat], [t0].[Quantity], [t0].[Product_id0], [t0].[Cost_price], [t0].[Description], [t0].[IsAvailable], [t0].[IsDelete], [t0].[Product_category_id], [t0].[Product_name0], [t0].[Product_vat0], [t0].[Sale_price], [t0].[Sell_price], [t0].[Status], [t0].[Unit_id], [t].[Customer_name], [t].[isDelete], [t].[Phone]
FROM (
    SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat], [c].[Customer_id] AS [Customer_id0], [c].[Customer_name], [c].[isDelete], [c].[Phone]
    FROM [Invoice] AS [i]
    LEFT JOIN [Customer] AS [c] ON [i].[Customer_id] = [c].[Customer_id]
    WHERE [i].[Invoice_id] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [i0].[Invoice_detail_id], [i0].[Invoice_id], [i0].[Price], [i0].[Product_id], [i0].[Product_name], [i0].[Product_note], [i0].[Product_vat], [i0].[Quantity], [m].[Product_id] AS [Product_id0], [m].[Cost_price], [m].[Description], [m].[IsAvailable], [m].[IsDelete], [m].[Product_category_id], [m].[Product_name] AS [Product_name0], [m].[Product_vat] AS [Product_vat0], [m].[Sale_price], [m].[Sell_price], [m].[Status], [m].[Unit_id]
    FROM [Invoice_detail] AS [i0]
    INNER JOIN [Menu] AS [m] ON [i0].[Product_id] = [m].[Product_id]
) AS [t0] ON [t].[Invoice_id] = [t0].[Invoice_id]
ORDER BY [t].[Invoice_id], [t].[Customer_id0], [t0].[Invoice_detail_id]
2025-04-01 20:57:55.313 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API) in 1953.3ms
2025-04-01 20:57:55.316 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API)'
2025-04-01 20:57:55.319 +07:00 [ERR] Error: Lỗi khi tạo PDF: Unknown PdfException.
2025-04-01 20:57:55.332 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/pdf/1 - - - 500 - application/json 2069.6848ms
2025-04-01 21:01:58.355 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-01 21:01:58.461 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-01 21:01:58.462 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-01 21:01:58.552 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-01 21:01:58.553 +07:00 [INF] Hosting environment: Development
2025-04-01 21:01:58.554 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-01 21:01:58.612 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-01 21:01:58.725 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 114.8556ms
2025-04-01 21:01:58.741 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-01 21:01:58.741 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-01 21:01:58.745 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 3.8857ms
2025-04-01 21:01:58.767 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 25.5855ms
2025-04-01 21:01:59.032 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-01 21:01:59.068 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 35.1977ms
2025-04-01 21:02:16.993 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/pdf/1 - -
2025-04-01 21:02:17.029 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API)'
2025-04-01 21:02:17.041 +07:00 [INF] Route matched with {action = "GetInvoicePdf", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetInvoicePdf(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-01 21:02:17.698 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-01 21:02:18.122 +07:00 [INF] Executed DbCommand (42ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Invoice_id], [t].[Amount_due], [t].[Cashier_id], [t].[Check_in_time], [t].[Check_out_time], [t].[Customer_id], [t].[Invoice_discount], [t].[Invoice_note], [t].[Order_id], [t].[Order_type_id], [t].[Other_payment], [t].[Payment_method_id], [t].[Room_id], [t].[Shipper_id], [t].[Status], [t].[Subtotal], [t].[Total_quantity], [t].[Total_vat], [t].[Customer_id0], [t0].[Invoice_detail_id], [t0].[Invoice_id], [t0].[Price], [t0].[Product_id], [t0].[Product_name], [t0].[Product_note], [t0].[Product_vat], [t0].[Quantity], [t0].[Product_id0], [t0].[Cost_price], [t0].[Description], [t0].[IsAvailable], [t0].[IsDelete], [t0].[Product_category_id], [t0].[Product_name0], [t0].[Product_vat0], [t0].[Sale_price], [t0].[Sell_price], [t0].[Status], [t0].[Unit_id], [t].[Customer_name], [t].[isDelete], [t].[Phone]
FROM (
    SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat], [c].[Customer_id] AS [Customer_id0], [c].[Customer_name], [c].[isDelete], [c].[Phone]
    FROM [Invoice] AS [i]
    LEFT JOIN [Customer] AS [c] ON [i].[Customer_id] = [c].[Customer_id]
    WHERE [i].[Invoice_id] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [i0].[Invoice_detail_id], [i0].[Invoice_id], [i0].[Price], [i0].[Product_id], [i0].[Product_name], [i0].[Product_note], [i0].[Product_vat], [i0].[Quantity], [m].[Product_id] AS [Product_id0], [m].[Cost_price], [m].[Description], [m].[IsAvailable], [m].[IsDelete], [m].[Product_category_id], [m].[Product_name] AS [Product_name0], [m].[Product_vat] AS [Product_vat0], [m].[Sale_price], [m].[Sell_price], [m].[Status], [m].[Unit_id]
    FROM [Invoice_detail] AS [i0]
    INNER JOIN [Menu] AS [m] ON [i0].[Product_id] = [m].[Product_id]
) AS [t0] ON [t].[Invoice_id] = [t0].[Invoice_id]
ORDER BY [t].[Invoice_id], [t].[Customer_id0], [t0].[Invoice_detail_id]
2025-04-01 21:02:18.256 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API) in 1210.6542ms
2025-04-01 21:02:18.258 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API)'
2025-04-01 21:02:18.259 +07:00 [ERR] Error: Lỗi khi tạo PDF: Unknown PdfException.
2025-04-01 21:02:18.264 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/pdf/1 - - - 500 - application/json 1271.1376ms
2025-04-01 21:02:32.933 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-01 21:02:33.248 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-01 21:02:33.249 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-01 21:02:33.473 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-01 21:02:33.474 +07:00 [INF] Hosting environment: Development
2025-04-01 21:02:33.475 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-01 21:02:34.282 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-01 21:02:34.518 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 240.4221ms
2025-04-01 21:02:34.535 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-01 21:02:34.543 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 7.3826ms
2025-04-01 21:02:34.768 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-01 21:02:34.831 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 62.8365ms
2025-04-01 21:02:34.859 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-01 21:02:34.894 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 35.1806ms
2025-04-01 21:02:40.082 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/pdf/1 - -
2025-04-01 21:02:40.164 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API)'
2025-04-01 21:02:40.182 +07:00 [INF] Route matched with {action = "GetInvoicePdf", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetInvoicePdf(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-01 21:03:59.292 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-01 21:03:59.394 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-01 21:03:59.395 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-01 21:03:59.481 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-01 21:03:59.482 +07:00 [INF] Hosting environment: Development
2025-04-01 21:03:59.483 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-01 21:03:59.660 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-01 21:03:59.765 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 107.7052ms
2025-04-01 21:03:59.995 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-01 21:03:59.998 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 3.3280ms
2025-04-01 21:04:00.017 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-01 21:04:00.039 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 21.7747ms
2025-04-01 21:04:00.069 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-01 21:04:00.097 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 28.4236ms
2025-04-01 21:04:08.788 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/pdf/1 - -
2025-04-01 21:04:08.830 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API)'
2025-04-01 21:04:08.843 +07:00 [INF] Route matched with {action = "GetInvoicePdf", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetInvoicePdf(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-01 21:04:09.443 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-01 21:04:09.857 +07:00 [INF] Executed DbCommand (34ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Invoice_id], [t].[Amount_due], [t].[Cashier_id], [t].[Check_in_time], [t].[Check_out_time], [t].[Customer_id], [t].[Invoice_discount], [t].[Invoice_note], [t].[Order_id], [t].[Order_type_id], [t].[Other_payment], [t].[Payment_method_id], [t].[Room_id], [t].[Shipper_id], [t].[Status], [t].[Subtotal], [t].[Total_quantity], [t].[Total_vat], [t].[Customer_id0], [t0].[Invoice_detail_id], [t0].[Invoice_id], [t0].[Price], [t0].[Product_id], [t0].[Product_name], [t0].[Product_note], [t0].[Product_vat], [t0].[Quantity], [t0].[Product_id0], [t0].[Cost_price], [t0].[Description], [t0].[IsAvailable], [t0].[IsDelete], [t0].[Product_category_id], [t0].[Product_name0], [t0].[Product_vat0], [t0].[Sale_price], [t0].[Sell_price], [t0].[Status], [t0].[Unit_id], [t].[Customer_name], [t].[isDelete], [t].[Phone]
FROM (
    SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat], [c].[Customer_id] AS [Customer_id0], [c].[Customer_name], [c].[isDelete], [c].[Phone]
    FROM [Invoice] AS [i]
    LEFT JOIN [Customer] AS [c] ON [i].[Customer_id] = [c].[Customer_id]
    WHERE [i].[Invoice_id] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [i0].[Invoice_detail_id], [i0].[Invoice_id], [i0].[Price], [i0].[Product_id], [i0].[Product_name], [i0].[Product_note], [i0].[Product_vat], [i0].[Quantity], [m].[Product_id] AS [Product_id0], [m].[Cost_price], [m].[Description], [m].[IsAvailable], [m].[IsDelete], [m].[Product_category_id], [m].[Product_name] AS [Product_name0], [m].[Product_vat] AS [Product_vat0], [m].[Sale_price], [m].[Sell_price], [m].[Status], [m].[Unit_id]
    FROM [Invoice_detail] AS [i0]
    INNER JOIN [Menu] AS [m] ON [i0].[Product_id] = [m].[Product_id]
) AS [t0] ON [t].[Invoice_id] = [t0].[Invoice_id]
ORDER BY [t].[Invoice_id], [t].[Customer_id0], [t0].[Invoice_detail_id]
2025-04-01 21:04:09.986 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API) in 1139.1904ms
2025-04-01 21:04:09.988 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API)'
2025-04-01 21:04:09.989 +07:00 [ERR] Error: Lỗi khi tạo PDF: Unknown PdfException.
2025-04-01 21:04:09.996 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/pdf/1 - - - 500 - application/json 1207.9607ms
2025-04-01 21:05:59.333 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-01 21:05:59.448 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-01 21:05:59.449 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-01 21:05:59.547 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-01 21:05:59.547 +07:00 [INF] Hosting environment: Development
2025-04-01 21:05:59.548 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-01 21:06:00.118 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-01 21:06:00.254 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 138.1908ms
2025-04-01 21:06:00.278 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-01 21:06:00.278 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-01 21:06:00.281 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 3.6637ms
2025-04-01 21:06:00.307 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 29.0368ms
2025-04-01 21:06:00.663 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-01 21:06:00.693 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 30.1927ms
2025-04-01 21:06:05.871 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/pdf/1 - -
2025-04-01 21:06:05.915 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API)'
2025-04-01 21:06:05.929 +07:00 [INF] Route matched with {action = "GetInvoicePdf", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetInvoicePdf(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-01 21:06:06.628 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-01 21:06:07.085 +07:00 [INF] Executed DbCommand (33ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Invoice_id], [t].[Amount_due], [t].[Cashier_id], [t].[Check_in_time], [t].[Check_out_time], [t].[Customer_id], [t].[Invoice_discount], [t].[Invoice_note], [t].[Order_id], [t].[Order_type_id], [t].[Other_payment], [t].[Payment_method_id], [t].[Room_id], [t].[Shipper_id], [t].[Status], [t].[Subtotal], [t].[Total_quantity], [t].[Total_vat], [t].[Customer_id0], [t0].[Invoice_detail_id], [t0].[Invoice_id], [t0].[Price], [t0].[Product_id], [t0].[Product_name], [t0].[Product_note], [t0].[Product_vat], [t0].[Quantity], [t0].[Product_id0], [t0].[Cost_price], [t0].[Description], [t0].[IsAvailable], [t0].[IsDelete], [t0].[Product_category_id], [t0].[Product_name0], [t0].[Product_vat0], [t0].[Sale_price], [t0].[Sell_price], [t0].[Status], [t0].[Unit_id], [t].[Customer_name], [t].[isDelete], [t].[Phone]
FROM (
    SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat], [c].[Customer_id] AS [Customer_id0], [c].[Customer_name], [c].[isDelete], [c].[Phone]
    FROM [Invoice] AS [i]
    LEFT JOIN [Customer] AS [c] ON [i].[Customer_id] = [c].[Customer_id]
    WHERE [i].[Invoice_id] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [i0].[Invoice_detail_id], [i0].[Invoice_id], [i0].[Price], [i0].[Product_id], [i0].[Product_name], [i0].[Product_note], [i0].[Product_vat], [i0].[Quantity], [m].[Product_id] AS [Product_id0], [m].[Cost_price], [m].[Description], [m].[IsAvailable], [m].[IsDelete], [m].[Product_category_id], [m].[Product_name] AS [Product_name0], [m].[Product_vat] AS [Product_vat0], [m].[Sale_price], [m].[Sell_price], [m].[Status], [m].[Unit_id]
    FROM [Invoice_detail] AS [i0]
    INNER JOIN [Menu] AS [m] ON [i0].[Product_id] = [m].[Product_id]
) AS [t0] ON [t].[Invoice_id] = [t0].[Invoice_id]
ORDER BY [t].[Invoice_id], [t].[Customer_id0], [t0].[Invoice_detail_id]
2025-04-01 21:06:07.248 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API) in 1313.8106ms
2025-04-01 21:06:07.249 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API)'
2025-04-01 21:06:07.250 +07:00 [ERR] Error: Lỗi khi tạo PDF: Unknown PdfException.
2025-04-01 21:06:07.256 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/pdf/1 - - - 500 - application/json 1384.5707ms
2025-04-01 21:06:19.222 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-01 21:06:19.347 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-01 21:06:19.349 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-01 21:06:19.444 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-01 21:06:19.445 +07:00 [INF] Hosting environment: Development
2025-04-01 21:06:19.446 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-01 21:06:20.047 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-01 21:06:20.169 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 124.0652ms
2025-04-01 21:06:20.190 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-01 21:06:20.192 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-01 21:06:20.195 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 2.6140ms
2025-04-01 21:06:20.228 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 38.1650ms
2025-04-01 21:06:20.345 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-01 21:06:20.379 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 33.8138ms
2025-04-01 21:06:25.796 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/pdf/1 - -
2025-04-01 21:06:25.833 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API)'
2025-04-01 21:06:25.853 +07:00 [INF] Route matched with {action = "GetInvoicePdf", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetInvoicePdf(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-01 21:06:26.523 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-01 21:06:26.974 +07:00 [INF] Executed DbCommand (24ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Invoice_id], [t].[Amount_due], [t].[Cashier_id], [t].[Check_in_time], [t].[Check_out_time], [t].[Customer_id], [t].[Invoice_discount], [t].[Invoice_note], [t].[Order_id], [t].[Order_type_id], [t].[Other_payment], [t].[Payment_method_id], [t].[Room_id], [t].[Shipper_id], [t].[Status], [t].[Subtotal], [t].[Total_quantity], [t].[Total_vat], [t].[Customer_id0], [t0].[Invoice_detail_id], [t0].[Invoice_id], [t0].[Price], [t0].[Product_id], [t0].[Product_name], [t0].[Product_note], [t0].[Product_vat], [t0].[Quantity], [t0].[Product_id0], [t0].[Cost_price], [t0].[Description], [t0].[IsAvailable], [t0].[IsDelete], [t0].[Product_category_id], [t0].[Product_name0], [t0].[Product_vat0], [t0].[Sale_price], [t0].[Sell_price], [t0].[Status], [t0].[Unit_id], [t].[Customer_name], [t].[isDelete], [t].[Phone]
FROM (
    SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat], [c].[Customer_id] AS [Customer_id0], [c].[Customer_name], [c].[isDelete], [c].[Phone]
    FROM [Invoice] AS [i]
    LEFT JOIN [Customer] AS [c] ON [i].[Customer_id] = [c].[Customer_id]
    WHERE [i].[Invoice_id] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [i0].[Invoice_detail_id], [i0].[Invoice_id], [i0].[Price], [i0].[Product_id], [i0].[Product_name], [i0].[Product_note], [i0].[Product_vat], [i0].[Quantity], [m].[Product_id] AS [Product_id0], [m].[Cost_price], [m].[Description], [m].[IsAvailable], [m].[IsDelete], [m].[Product_category_id], [m].[Product_name] AS [Product_name0], [m].[Product_vat] AS [Product_vat0], [m].[Sale_price], [m].[Sell_price], [m].[Status], [m].[Unit_id]
    FROM [Invoice_detail] AS [i0]
    INNER JOIN [Menu] AS [m] ON [i0].[Product_id] = [m].[Product_id]
) AS [t0] ON [t].[Invoice_id] = [t0].[Invoice_id]
ORDER BY [t].[Invoice_id], [t].[Customer_id0], [t0].[Invoice_detail_id]
2025-04-01 21:06:27.115 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API) in 1258.0188ms
2025-04-01 21:06:27.118 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API)'
2025-04-01 21:06:27.119 +07:00 [ERR] Error: Lỗi khi tạo PDF: Unknown PdfException.
2025-04-01 21:06:27.129 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/pdf/1 - - - 500 - application/json 1333.1689ms
2025-04-01 21:10:50.281 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-01 21:10:50.403 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-01 21:10:50.404 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-01 21:10:50.500 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-01 21:10:50.500 +07:00 [INF] Hosting environment: Development
2025-04-01 21:10:50.501 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-01 21:10:51.635 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-01 21:10:51.778 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 148.0982ms
2025-04-01 21:10:51.797 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-01 21:10:51.798 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-01 21:10:51.802 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 3.6607ms
2025-04-01 21:10:51.826 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 28.1176ms
2025-04-01 21:10:52.021 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-01 21:10:52.053 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 32.4680ms
2025-04-01 21:11:13.687 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/pdf/1 - -
2025-04-01 21:11:13.737 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API)'
2025-04-01 21:11:13.752 +07:00 [INF] Route matched with {action = "GetInvoicePdf", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetInvoicePdf(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-01 21:11:14.430 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-01 21:11:14.924 +07:00 [INF] Executed DbCommand (41ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Invoice_id], [t].[Amount_due], [t].[Cashier_id], [t].[Check_in_time], [t].[Check_out_time], [t].[Customer_id], [t].[Invoice_discount], [t].[Invoice_note], [t].[Order_id], [t].[Order_type_id], [t].[Other_payment], [t].[Payment_method_id], [t].[Room_id], [t].[Shipper_id], [t].[Status], [t].[Subtotal], [t].[Total_quantity], [t].[Total_vat], [t].[Customer_id0], [t0].[Invoice_detail_id], [t0].[Invoice_id], [t0].[Price], [t0].[Product_id], [t0].[Product_name], [t0].[Product_note], [t0].[Product_vat], [t0].[Quantity], [t0].[Product_id0], [t0].[Cost_price], [t0].[Description], [t0].[IsAvailable], [t0].[IsDelete], [t0].[Product_category_id], [t0].[Product_name0], [t0].[Product_vat0], [t0].[Sale_price], [t0].[Sell_price], [t0].[Status], [t0].[Unit_id], [t].[Customer_name], [t].[isDelete], [t].[Phone]
FROM (
    SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat], [c].[Customer_id] AS [Customer_id0], [c].[Customer_name], [c].[isDelete], [c].[Phone]
    FROM [Invoice] AS [i]
    LEFT JOIN [Customer] AS [c] ON [i].[Customer_id] = [c].[Customer_id]
    WHERE [i].[Invoice_id] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [i0].[Invoice_detail_id], [i0].[Invoice_id], [i0].[Price], [i0].[Product_id], [i0].[Product_name], [i0].[Product_note], [i0].[Product_vat], [i0].[Quantity], [m].[Product_id] AS [Product_id0], [m].[Cost_price], [m].[Description], [m].[IsAvailable], [m].[IsDelete], [m].[Product_category_id], [m].[Product_name] AS [Product_name0], [m].[Product_vat] AS [Product_vat0], [m].[Sale_price], [m].[Sell_price], [m].[Status], [m].[Unit_id]
    FROM [Invoice_detail] AS [i0]
    INNER JOIN [Menu] AS [m] ON [i0].[Product_id] = [m].[Product_id]
) AS [t0] ON [t].[Invoice_id] = [t0].[Invoice_id]
ORDER BY [t].[Invoice_id], [t].[Customer_id0], [t0].[Invoice_detail_id]
2025-04-01 21:11:15.105 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API) in 1348.367ms
2025-04-01 21:11:15.107 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API)'
2025-04-01 21:11:15.109 +07:00 [ERR] Error: Lỗi khi tạo PDF: Unknown PdfException.
2025-04-01 21:11:15.116 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/pdf/1 - - - 500 - application/json 1428.9671ms
2025-04-01 21:12:18.806 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-01 21:12:18.810 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 3.5821ms
2025-04-01 21:12:18.847 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-01 21:12:18.851 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-01 21:12:18.852 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 1.4509ms
2025-04-01 21:12:18.861 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 13.2150ms
2025-04-01 21:12:19.212 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-01 21:12:19.239 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 27.4942ms
2025-04-01 21:14:58.683 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-01 21:14:58.812 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-01 21:14:58.814 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-01 21:14:58.917 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-01 21:14:58.918 +07:00 [INF] Hosting environment: Development
2025-04-01 21:14:58.919 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-01 21:14:59.012 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-01 21:14:59.133 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 123.8539ms
2025-04-01 21:14:59.169 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-01 21:14:59.169 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-01 21:14:59.178 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 8.0618ms
2025-04-01 21:14:59.212 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 42.6993ms
2025-04-01 21:14:59.565 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-01 21:14:59.594 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 28.7812ms
2025-04-01 21:15:07.704 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/pdf/1 - -
2025-04-01 21:15:07.754 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API)'
2025-04-01 21:15:07.769 +07:00 [INF] Route matched with {action = "GetInvoicePdf", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetInvoicePdf(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-01 21:15:08.504 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-01 21:15:08.972 +07:00 [INF] Executed DbCommand (41ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Invoice_id], [t].[Amount_due], [t].[Cashier_id], [t].[Check_in_time], [t].[Check_out_time], [t].[Customer_id], [t].[Invoice_discount], [t].[Invoice_note], [t].[Order_id], [t].[Order_type_id], [t].[Other_payment], [t].[Payment_method_id], [t].[Room_id], [t].[Shipper_id], [t].[Status], [t].[Subtotal], [t].[Total_quantity], [t].[Total_vat], [t].[Customer_id0], [t0].[Invoice_detail_id], [t0].[Invoice_id], [t0].[Price], [t0].[Product_id], [t0].[Product_name], [t0].[Product_note], [t0].[Product_vat], [t0].[Quantity], [t0].[Product_id0], [t0].[Cost_price], [t0].[Description], [t0].[IsAvailable], [t0].[IsDelete], [t0].[Product_category_id], [t0].[Product_name0], [t0].[Product_vat0], [t0].[Sale_price], [t0].[Sell_price], [t0].[Status], [t0].[Unit_id], [t].[Customer_name], [t].[isDelete], [t].[Phone]
FROM (
    SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat], [c].[Customer_id] AS [Customer_id0], [c].[Customer_name], [c].[isDelete], [c].[Phone]
    FROM [Invoice] AS [i]
    LEFT JOIN [Customer] AS [c] ON [i].[Customer_id] = [c].[Customer_id]
    WHERE [i].[Invoice_id] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [i0].[Invoice_detail_id], [i0].[Invoice_id], [i0].[Price], [i0].[Product_id], [i0].[Product_name], [i0].[Product_note], [i0].[Product_vat], [i0].[Quantity], [m].[Product_id] AS [Product_id0], [m].[Cost_price], [m].[Description], [m].[IsAvailable], [m].[IsDelete], [m].[Product_category_id], [m].[Product_name] AS [Product_name0], [m].[Product_vat] AS [Product_vat0], [m].[Sale_price], [m].[Sell_price], [m].[Status], [m].[Unit_id]
    FROM [Invoice_detail] AS [i0]
    INNER JOIN [Menu] AS [m] ON [i0].[Product_id] = [m].[Product_id]
) AS [t0] ON [t].[Invoice_id] = [t0].[Invoice_id]
ORDER BY [t].[Invoice_id], [t].[Customer_id0], [t0].[Invoice_detail_id]
2025-04-01 21:15:09.127 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API) in 1353.1276ms
2025-04-01 21:15:09.129 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API)'
2025-04-01 21:15:09.130 +07:00 [ERR] Error: Lỗi khi tạo PDF: Unknown PdfException.
2025-04-01 21:15:09.137 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/pdf/1 - - - 500 - application/json 1433.8350ms
2025-04-01 21:19:19.814 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-01 21:19:19.945 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-01 21:19:19.946 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-01 21:19:20.063 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-01 21:19:20.065 +07:00 [INF] Hosting environment: Development
2025-04-01 21:19:20.067 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-01 21:19:20.113 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-01 21:19:20.258 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 148.3719ms
2025-04-01 21:19:20.283 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-01 21:19:20.283 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-01 21:19:20.287 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 4.0426ms
2025-04-01 21:19:20.316 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 33.3147ms
2025-04-01 21:19:20.592 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-01 21:19:20.632 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 40.4197ms
2025-04-01 21:19:34.243 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/pdf/1 - -
2025-04-01 21:19:34.292 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API)'
2025-04-01 21:19:34.306 +07:00 [INF] Route matched with {action = "GetInvoicePdf", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetInvoicePdf(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-01 21:19:35.043 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-01 21:19:35.514 +07:00 [INF] Executed DbCommand (33ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Invoice_id], [t].[Amount_due], [t].[Cashier_id], [t].[Check_in_time], [t].[Check_out_time], [t].[Customer_id], [t].[Invoice_discount], [t].[Invoice_note], [t].[Order_id], [t].[Order_type_id], [t].[Other_payment], [t].[Payment_method_id], [t].[Room_id], [t].[Shipper_id], [t].[Status], [t].[Subtotal], [t].[Total_quantity], [t].[Total_vat], [t].[Customer_id0], [t0].[Invoice_detail_id], [t0].[Invoice_id], [t0].[Price], [t0].[Product_id], [t0].[Product_name], [t0].[Product_note], [t0].[Product_vat], [t0].[Quantity], [t0].[Product_id0], [t0].[Cost_price], [t0].[Description], [t0].[IsAvailable], [t0].[IsDelete], [t0].[Product_category_id], [t0].[Product_name0], [t0].[Product_vat0], [t0].[Sale_price], [t0].[Sell_price], [t0].[Status], [t0].[Unit_id], [t].[Customer_name], [t].[isDelete], [t].[Phone]
FROM (
    SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat], [c].[Customer_id] AS [Customer_id0], [c].[Customer_name], [c].[isDelete], [c].[Phone]
    FROM [Invoice] AS [i]
    LEFT JOIN [Customer] AS [c] ON [i].[Customer_id] = [c].[Customer_id]
    WHERE [i].[Invoice_id] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [i0].[Invoice_detail_id], [i0].[Invoice_id], [i0].[Price], [i0].[Product_id], [i0].[Product_name], [i0].[Product_note], [i0].[Product_vat], [i0].[Quantity], [m].[Product_id] AS [Product_id0], [m].[Cost_price], [m].[Description], [m].[IsAvailable], [m].[IsDelete], [m].[Product_category_id], [m].[Product_name] AS [Product_name0], [m].[Product_vat] AS [Product_vat0], [m].[Sale_price], [m].[Sell_price], [m].[Status], [m].[Unit_id]
    FROM [Invoice_detail] AS [i0]
    INNER JOIN [Menu] AS [m] ON [i0].[Product_id] = [m].[Product_id]
) AS [t0] ON [t].[Invoice_id] = [t0].[Invoice_id]
ORDER BY [t].[Invoice_id], [t].[Customer_id0], [t0].[Invoice_detail_id]
2025-04-01 21:19:35.664 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API) in 1353.4028ms
2025-04-01 21:19:35.667 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API)'
2025-04-01 21:19:35.669 +07:00 [ERR] Error: One or more errors occurred. (Unable to load DLL 'libwkhtmltox' or one of its dependencies: The specified module could not be found. (0x8007007E))
2025-04-01 21:19:35.674 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/pdf/1 - - - 500 - application/json 1430.8470ms
2025-04-01 21:23:30.241 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-01 21:23:30.366 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-01 21:23:30.367 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-01 21:23:30.482 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-01 21:23:30.483 +07:00 [INF] Hosting environment: Development
2025-04-01 21:23:30.485 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-01 21:23:31.027 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-01 21:23:31.149 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 124.5163ms
2025-04-01 21:23:31.174 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-01 21:23:31.174 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-01 21:23:31.176 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 2.7942ms
2025-04-01 21:23:31.196 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 22.6356ms
2025-04-01 21:23:31.465 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-01 21:23:31.511 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 46.5603ms
2025-04-01 21:24:10.253 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/pdf/1 - -
2025-04-01 21:24:10.294 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API)'
2025-04-01 21:24:10.310 +07:00 [INF] Route matched with {action = "GetInvoicePdf", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetInvoicePdf(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-01 21:24:10.964 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-01 21:24:11.425 +07:00 [INF] Executed DbCommand (42ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Invoice_id], [t].[Amount_due], [t].[Cashier_id], [t].[Check_in_time], [t].[Check_out_time], [t].[Customer_id], [t].[Invoice_discount], [t].[Invoice_note], [t].[Order_id], [t].[Order_type_id], [t].[Other_payment], [t].[Payment_method_id], [t].[Room_id], [t].[Shipper_id], [t].[Status], [t].[Subtotal], [t].[Total_quantity], [t].[Total_vat], [t].[Customer_id0], [t0].[Invoice_detail_id], [t0].[Invoice_id], [t0].[Price], [t0].[Product_id], [t0].[Product_name], [t0].[Product_note], [t0].[Product_vat], [t0].[Quantity], [t0].[Product_id0], [t0].[Cost_price], [t0].[Description], [t0].[IsAvailable], [t0].[IsDelete], [t0].[Product_category_id], [t0].[Product_name0], [t0].[Product_vat0], [t0].[Sale_price], [t0].[Sell_price], [t0].[Status], [t0].[Unit_id], [t].[Customer_name], [t].[isDelete], [t].[Phone]
FROM (
    SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat], [c].[Customer_id] AS [Customer_id0], [c].[Customer_name], [c].[isDelete], [c].[Phone]
    FROM [Invoice] AS [i]
    LEFT JOIN [Customer] AS [c] ON [i].[Customer_id] = [c].[Customer_id]
    WHERE [i].[Invoice_id] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [i0].[Invoice_detail_id], [i0].[Invoice_id], [i0].[Price], [i0].[Product_id], [i0].[Product_name], [i0].[Product_note], [i0].[Product_vat], [i0].[Quantity], [m].[Product_id] AS [Product_id0], [m].[Cost_price], [m].[Description], [m].[IsAvailable], [m].[IsDelete], [m].[Product_category_id], [m].[Product_name] AS [Product_name0], [m].[Product_vat] AS [Product_vat0], [m].[Sale_price], [m].[Sell_price], [m].[Status], [m].[Unit_id]
    FROM [Invoice_detail] AS [i0]
    INNER JOIN [Menu] AS [m] ON [i0].[Product_id] = [m].[Product_id]
) AS [t0] ON [t].[Invoice_id] = [t0].[Invoice_id]
ORDER BY [t].[Invoice_id], [t].[Customer_id0], [t0].[Invoice_detail_id]
2025-04-01 21:24:11.595 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API) in 1279.9171ms
2025-04-01 21:24:11.597 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API)'
2025-04-01 21:24:11.598 +07:00 [ERR] Error: Lỗi khi tạo PDF: One or more errors occurred. (Unable to load DLL 'libwkhtmltox' or one of its dependencies: The specified module could not be found. (0x8007007E))
2025-04-01 21:24:11.606 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/pdf/1 - - - 500 - application/json 1353.0544ms
2025-04-01 21:42:12.007 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-01 21:42:12.180 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-01 21:42:12.181 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-01 21:42:12.289 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-01 21:42:12.291 +07:00 [INF] Hosting environment: Development
2025-04-01 21:42:12.291 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-01 21:42:12.780 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-01 21:42:12.941 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 163.1919ms
2025-04-01 21:42:12.972 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-01 21:42:12.977 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-01 21:42:12.986 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 9.6167ms
2025-04-01 21:42:13.013 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 40.2648ms
2025-04-01 21:42:13.519 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-01 21:42:13.562 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 43.1430ms
2025-04-01 21:42:25.468 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/pdf/1 - -
2025-04-01 21:42:25.546 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API)'
2025-04-01 21:42:25.572 +07:00 [INF] Route matched with {action = "GetInvoicePdf", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetInvoicePdf(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-01 21:42:26.448 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-01 21:42:27.031 +07:00 [INF] Executed DbCommand (44ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Invoice_id], [t].[Amount_due], [t].[Cashier_id], [t].[Check_in_time], [t].[Check_out_time], [t].[Customer_id], [t].[Invoice_discount], [t].[Invoice_note], [t].[Order_id], [t].[Order_type_id], [t].[Other_payment], [t].[Payment_method_id], [t].[Room_id], [t].[Shipper_id], [t].[Status], [t].[Subtotal], [t].[Total_quantity], [t].[Total_vat], [t].[Customer_id0], [t0].[Invoice_detail_id], [t0].[Invoice_id], [t0].[Price], [t0].[Product_id], [t0].[Product_name], [t0].[Product_note], [t0].[Product_vat], [t0].[Quantity], [t0].[Product_id0], [t0].[Cost_price], [t0].[Description], [t0].[IsAvailable], [t0].[IsDelete], [t0].[Product_category_id], [t0].[Product_name0], [t0].[Product_vat0], [t0].[Sale_price], [t0].[Sell_price], [t0].[Status], [t0].[Unit_id], [t].[Customer_name], [t].[isDelete], [t].[Phone]
FROM (
    SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat], [c].[Customer_id] AS [Customer_id0], [c].[Customer_name], [c].[isDelete], [c].[Phone]
    FROM [Invoice] AS [i]
    LEFT JOIN [Customer] AS [c] ON [i].[Customer_id] = [c].[Customer_id]
    WHERE [i].[Invoice_id] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [i0].[Invoice_detail_id], [i0].[Invoice_id], [i0].[Price], [i0].[Product_id], [i0].[Product_name], [i0].[Product_note], [i0].[Product_vat], [i0].[Quantity], [m].[Product_id] AS [Product_id0], [m].[Cost_price], [m].[Description], [m].[IsAvailable], [m].[IsDelete], [m].[Product_category_id], [m].[Product_name] AS [Product_name0], [m].[Product_vat] AS [Product_vat0], [m].[Sale_price], [m].[Sell_price], [m].[Status], [m].[Unit_id]
    FROM [Invoice_detail] AS [i0]
    INNER JOIN [Menu] AS [m] ON [i0].[Product_id] = [m].[Product_id]
) AS [t0] ON [t].[Invoice_id] = [t0].[Invoice_id]
ORDER BY [t].[Invoice_id], [t].[Customer_id0], [t0].[Invoice_detail_id]
2025-04-01 21:42:27.562 +07:00 [INF] Executing FileContentResult, sending file with download name 'Invoice_1.pdf' ...
2025-04-01 21:42:27.577 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API) in 1999.4109ms
2025-04-01 21:42:27.579 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API)'
2025-04-01 21:42:27.582 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/pdf/1 - - - 200 40467 application/pdf 2114.0911ms
2025-04-01 21:44:59.840 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-01 21:45:00.007 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-01 21:45:00.008 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-01 21:45:00.128 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-01 21:45:00.129 +07:00 [INF] Hosting environment: Development
2025-04-01 21:45:00.130 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-01 21:45:00.422 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-01 21:45:00.601 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 182.4935ms
2025-04-01 21:45:00.639 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-01 21:45:00.639 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-01 21:45:00.646 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 7.2117ms
2025-04-01 21:45:00.684 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 44.9438ms
2025-04-01 21:45:01.306 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-01 21:45:01.376 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 69.9182ms
2025-04-01 21:45:10.440 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/pdf/1 - -
2025-04-01 21:45:10.510 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API)'
2025-04-01 21:45:10.537 +07:00 [INF] Route matched with {action = "GetInvoicePdf", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetInvoicePdf(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-01 21:45:11.644 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-01 21:45:12.447 +07:00 [INF] Executed DbCommand (47ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Invoice_id], [t].[Amount_due], [t].[Cashier_id], [t].[Check_in_time], [t].[Check_out_time], [t].[Customer_id], [t].[Invoice_discount], [t].[Invoice_note], [t].[Order_id], [t].[Order_type_id], [t].[Other_payment], [t].[Payment_method_id], [t].[Room_id], [t].[Shipper_id], [t].[Status], [t].[Subtotal], [t].[Total_quantity], [t].[Total_vat], [t].[Customer_id0], [t0].[Invoice_detail_id], [t0].[Invoice_id], [t0].[Price], [t0].[Product_id], [t0].[Product_name], [t0].[Product_note], [t0].[Product_vat], [t0].[Quantity], [t0].[Product_id0], [t0].[Cost_price], [t0].[Description], [t0].[IsAvailable], [t0].[IsDelete], [t0].[Product_category_id], [t0].[Product_name0], [t0].[Product_vat0], [t0].[Sale_price], [t0].[Sell_price], [t0].[Status], [t0].[Unit_id], [t].[Customer_name], [t].[isDelete], [t].[Phone]
FROM (
    SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat], [c].[Customer_id] AS [Customer_id0], [c].[Customer_name], [c].[isDelete], [c].[Phone]
    FROM [Invoice] AS [i]
    LEFT JOIN [Customer] AS [c] ON [i].[Customer_id] = [c].[Customer_id]
    WHERE [i].[Invoice_id] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [i0].[Invoice_detail_id], [i0].[Invoice_id], [i0].[Price], [i0].[Product_id], [i0].[Product_name], [i0].[Product_note], [i0].[Product_vat], [i0].[Quantity], [m].[Product_id] AS [Product_id0], [m].[Cost_price], [m].[Description], [m].[IsAvailable], [m].[IsDelete], [m].[Product_category_id], [m].[Product_name] AS [Product_name0], [m].[Product_vat] AS [Product_vat0], [m].[Sale_price], [m].[Sell_price], [m].[Status], [m].[Unit_id]
    FROM [Invoice_detail] AS [i0]
    INNER JOIN [Menu] AS [m] ON [i0].[Product_id] = [m].[Product_id]
) AS [t0] ON [t].[Invoice_id] = [t0].[Invoice_id]
ORDER BY [t].[Invoice_id], [t].[Customer_id0], [t0].[Invoice_detail_id]
2025-04-01 21:45:12.763 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API) in 2220.5411ms
2025-04-01 21:45:12.766 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API)'
2025-04-01 21:45:12.771 +07:00 [ERR] Error: Lỗi khi tạo PDF: Only TopLeft alignment is currently implemented.
2025-04-01 21:45:12.781 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/pdf/1 - - - 500 - application/json 2341.0521ms
2025-04-01 21:45:25.768 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-01 21:45:25.963 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-01 21:45:25.964 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-01 21:45:26.106 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-01 21:45:26.108 +07:00 [INF] Hosting environment: Development
2025-04-01 21:45:26.109 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-01 21:45:26.437 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-01 21:45:26.651 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 215.6432ms
2025-04-01 21:45:26.690 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-01 21:45:26.690 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-01 21:45:26.697 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 6.6719ms
2025-04-01 21:45:26.731 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 40.8300ms
2025-04-01 21:45:27.066 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-01 21:45:27.124 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 57.3119ms
2025-04-01 21:45:33.156 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/pdf/1 - -
2025-04-01 21:45:33.209 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API)'
2025-04-01 21:45:33.230 +07:00 [INF] Route matched with {action = "GetInvoicePdf", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetInvoicePdf(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-01 21:45:34.072 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-01 21:45:34.840 +07:00 [INF] Executed DbCommand (54ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Invoice_id], [t].[Amount_due], [t].[Cashier_id], [t].[Check_in_time], [t].[Check_out_time], [t].[Customer_id], [t].[Invoice_discount], [t].[Invoice_note], [t].[Order_id], [t].[Order_type_id], [t].[Other_payment], [t].[Payment_method_id], [t].[Room_id], [t].[Shipper_id], [t].[Status], [t].[Subtotal], [t].[Total_quantity], [t].[Total_vat], [t].[Customer_id0], [t0].[Invoice_detail_id], [t0].[Invoice_id], [t0].[Price], [t0].[Product_id], [t0].[Product_name], [t0].[Product_note], [t0].[Product_vat], [t0].[Quantity], [t0].[Product_id0], [t0].[Cost_price], [t0].[Description], [t0].[IsAvailable], [t0].[IsDelete], [t0].[Product_category_id], [t0].[Product_name0], [t0].[Product_vat0], [t0].[Sale_price], [t0].[Sell_price], [t0].[Status], [t0].[Unit_id], [t].[Customer_name], [t].[isDelete], [t].[Phone]
FROM (
    SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat], [c].[Customer_id] AS [Customer_id0], [c].[Customer_name], [c].[isDelete], [c].[Phone]
    FROM [Invoice] AS [i]
    LEFT JOIN [Customer] AS [c] ON [i].[Customer_id] = [c].[Customer_id]
    WHERE [i].[Invoice_id] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [i0].[Invoice_detail_id], [i0].[Invoice_id], [i0].[Price], [i0].[Product_id], [i0].[Product_name], [i0].[Product_note], [i0].[Product_vat], [i0].[Quantity], [m].[Product_id] AS [Product_id0], [m].[Cost_price], [m].[Description], [m].[IsAvailable], [m].[IsDelete], [m].[Product_category_id], [m].[Product_name] AS [Product_name0], [m].[Product_vat] AS [Product_vat0], [m].[Sale_price], [m].[Sell_price], [m].[Status], [m].[Unit_id]
    FROM [Invoice_detail] AS [i0]
    INNER JOIN [Menu] AS [m] ON [i0].[Product_id] = [m].[Product_id]
) AS [t0] ON [t].[Invoice_id] = [t0].[Invoice_id]
ORDER BY [t].[Invoice_id], [t].[Customer_id0], [t0].[Invoice_detail_id]
2025-04-01 21:45:35.128 +07:00 [INF] Executing FileContentResult, sending file with download name 'Invoice_1.pdf' ...
2025-04-01 21:45:35.139 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API) in 1899.4247ms
2025-04-01 21:45:35.142 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API)'
2025-04-01 21:45:35.149 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/pdf/1 - - - 200 40467 application/pdf 1993.2889ms
2025-04-01 21:50:21.664 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-01 21:50:21.807 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-01 21:50:21.808 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-01 21:50:21.901 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-01 21:50:21.902 +07:00 [INF] Hosting environment: Development
2025-04-01 21:50:21.902 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-01 21:50:22.428 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-01 21:50:22.603 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 176.9031ms
2025-04-01 21:50:22.628 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-01 21:50:22.628 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-01 21:50:22.631 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 3.1077ms
2025-04-01 21:50:22.665 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 36.6489ms
2025-04-01 21:50:23.116 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-01 21:50:23.160 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 43.6143ms
2025-04-01 21:50:36.378 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/pdf/1 - -
2025-04-01 21:50:36.425 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API)'
2025-04-01 21:50:36.445 +07:00 [INF] Route matched with {action = "GetInvoicePdf", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetInvoicePdf(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-01 21:50:37.302 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-01 21:50:37.769 +07:00 [INF] Executed DbCommand (41ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Invoice_id], [t].[Amount_due], [t].[Cashier_id], [t].[Check_in_time], [t].[Check_out_time], [t].[Customer_id], [t].[Invoice_discount], [t].[Invoice_note], [t].[Order_id], [t].[Order_type_id], [t].[Other_payment], [t].[Payment_method_id], [t].[Room_id], [t].[Shipper_id], [t].[Status], [t].[Subtotal], [t].[Total_quantity], [t].[Total_vat], [t].[Customer_id0], [t0].[Invoice_detail_id], [t0].[Invoice_id], [t0].[Price], [t0].[Product_id], [t0].[Product_name], [t0].[Product_note], [t0].[Product_vat], [t0].[Quantity], [t0].[Product_id0], [t0].[Cost_price], [t0].[Description], [t0].[IsAvailable], [t0].[IsDelete], [t0].[Product_category_id], [t0].[Product_name0], [t0].[Product_vat0], [t0].[Sale_price], [t0].[Sell_price], [t0].[Status], [t0].[Unit_id], [t].[Customer_name], [t].[isDelete], [t].[Phone]
FROM (
    SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat], [c].[Customer_id] AS [Customer_id0], [c].[Customer_name], [c].[isDelete], [c].[Phone]
    FROM [Invoice] AS [i]
    LEFT JOIN [Customer] AS [c] ON [i].[Customer_id] = [c].[Customer_id]
    WHERE [i].[Invoice_id] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [i0].[Invoice_detail_id], [i0].[Invoice_id], [i0].[Price], [i0].[Product_id], [i0].[Product_name], [i0].[Product_note], [i0].[Product_vat], [i0].[Quantity], [m].[Product_id] AS [Product_id0], [m].[Cost_price], [m].[Description], [m].[IsAvailable], [m].[IsDelete], [m].[Product_category_id], [m].[Product_name] AS [Product_name0], [m].[Product_vat] AS [Product_vat0], [m].[Sale_price], [m].[Sell_price], [m].[Status], [m].[Unit_id]
    FROM [Invoice_detail] AS [i0]
    INNER JOIN [Menu] AS [m] ON [i0].[Product_id] = [m].[Product_id]
) AS [t0] ON [t].[Invoice_id] = [t0].[Invoice_id]
ORDER BY [t].[Invoice_id], [t].[Customer_id0], [t0].[Invoice_detail_id]
2025-04-01 21:50:38.137 +07:00 [INF] Executing FileContentResult, sending file with download name 'Invoice_1.pdf' ...
2025-04-01 21:50:38.151 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API) in 1697.9079ms
2025-04-01 21:50:38.153 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API)'
2025-04-01 21:50:38.159 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/pdf/1 - - - 200 65631 application/pdf 1780.9403ms
2025-04-01 22:03:58.935 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-01 22:03:59.076 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-01 22:03:59.077 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-01 22:03:59.184 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-01 22:03:59.186 +07:00 [INF] Hosting environment: Development
2025-04-01 22:03:59.186 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-01 22:04:00.198 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-01 22:04:00.381 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 187.3069ms
2025-04-01 22:04:00.408 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-01 22:04:00.408 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-01 22:04:00.412 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 3.7331ms
2025-04-01 22:04:00.443 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 35.2369ms
2025-04-01 22:04:00.916 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-01 22:04:00.960 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 43.4395ms
2025-04-01 22:04:07.838 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/pdf/1 - -
2025-04-01 22:04:07.888 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API)'
2025-04-01 22:04:07.905 +07:00 [INF] Route matched with {action = "GetInvoicePdf", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetInvoicePdf(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-01 22:04:08.745 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-01 22:04:09.242 +07:00 [INF] Executed DbCommand (49ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Invoice_id], [t].[Amount_due], [t].[Cashier_id], [t].[Check_in_time], [t].[Check_out_time], [t].[Customer_id], [t].[Invoice_discount], [t].[Invoice_note], [t].[Order_id], [t].[Order_type_id], [t].[Other_payment], [t].[Payment_method_id], [t].[Room_id], [t].[Shipper_id], [t].[Status], [t].[Subtotal], [t].[Total_quantity], [t].[Total_vat], [t].[Customer_id0], [t0].[Invoice_detail_id], [t0].[Invoice_id], [t0].[Price], [t0].[Product_id], [t0].[Product_name], [t0].[Product_note], [t0].[Product_vat], [t0].[Quantity], [t0].[Product_id0], [t0].[Cost_price], [t0].[Description], [t0].[IsAvailable], [t0].[IsDelete], [t0].[Product_category_id], [t0].[Product_name0], [t0].[Product_vat0], [t0].[Sale_price], [t0].[Sell_price], [t0].[Status], [t0].[Unit_id], [t].[Customer_name], [t].[isDelete], [t].[Phone]
FROM (
    SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat], [c].[Customer_id] AS [Customer_id0], [c].[Customer_name], [c].[isDelete], [c].[Phone]
    FROM [Invoice] AS [i]
    LEFT JOIN [Customer] AS [c] ON [i].[Customer_id] = [c].[Customer_id]
    WHERE [i].[Invoice_id] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [i0].[Invoice_detail_id], [i0].[Invoice_id], [i0].[Price], [i0].[Product_id], [i0].[Product_name], [i0].[Product_note], [i0].[Product_vat], [i0].[Quantity], [m].[Product_id] AS [Product_id0], [m].[Cost_price], [m].[Description], [m].[IsAvailable], [m].[IsDelete], [m].[Product_category_id], [m].[Product_name] AS [Product_name0], [m].[Product_vat] AS [Product_vat0], [m].[Sale_price], [m].[Sell_price], [m].[Status], [m].[Unit_id]
    FROM [Invoice_detail] AS [i0]
    INNER JOIN [Menu] AS [m] ON [i0].[Product_id] = [m].[Product_id]
) AS [t0] ON [t].[Invoice_id] = [t0].[Invoice_id]
ORDER BY [t].[Invoice_id], [t].[Customer_id0], [t0].[Invoice_detail_id]
2025-04-01 22:04:09.561 +07:00 [INF] Executing FileContentResult, sending file with download name 'Invoice_1.pdf' ...
2025-04-01 22:04:09.574 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API) in 1662.4142ms
2025-04-01 22:04:09.575 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API)'
2025-04-01 22:04:09.582 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/pdf/1 - - - 200 65631 application/pdf 1743.4830ms
2025-04-01 22:05:33.939 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-01 22:05:34.068 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-01 22:05:34.069 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-01 22:05:34.164 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-01 22:05:34.165 +07:00 [INF] Hosting environment: Development
2025-04-01 22:05:34.166 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-01 22:05:34.529 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-01 22:05:34.638 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 111.7215ms
2025-04-01 22:05:34.659 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-01 22:05:34.659 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-01 22:05:34.662 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 3.3430ms
2025-04-01 22:05:34.687 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 27.7134ms
2025-04-01 22:05:35.055 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-01 22:05:35.092 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 37.4516ms
2025-04-01 22:08:31.471 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-01 22:08:31.577 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-01 22:08:31.578 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-01 22:08:31.666 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-01 22:08:31.667 +07:00 [INF] Hosting environment: Development
2025-04-01 22:08:31.667 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-01 22:08:31.787 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-01 22:08:31.892 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 108.2903ms
2025-04-01 22:08:31.907 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-01 22:08:31.907 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-01 22:08:31.910 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 2.4960ms
2025-04-01 22:08:31.930 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 22.3686ms
2025-04-01 22:08:32.281 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-01 22:08:32.308 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 27.7026ms
2025-04-01 22:08:52.779 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/pdf/1 - -
2025-04-01 22:08:52.814 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API)'
2025-04-01 22:08:52.827 +07:00 [INF] Route matched with {action = "GetInvoicePdf", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetInvoicePdf(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-01 22:08:53.430 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-01 22:08:53.829 +07:00 [INF] Executed DbCommand (32ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Invoice_id], [t].[Amount_due], [t].[Cashier_id], [t].[Check_in_time], [t].[Check_out_time], [t].[Customer_id], [t].[Invoice_discount], [t].[Invoice_note], [t].[Order_id], [t].[Order_type_id], [t].[Other_payment], [t].[Payment_method_id], [t].[Room_id], [t].[Shipper_id], [t].[Status], [t].[Subtotal], [t].[Total_quantity], [t].[Total_vat], [t].[Customer_id0], [t0].[Invoice_detail_id], [t0].[Invoice_id], [t0].[Price], [t0].[Product_id], [t0].[Product_name], [t0].[Product_note], [t0].[Product_vat], [t0].[Quantity], [t0].[Product_id0], [t0].[Cost_price], [t0].[Description], [t0].[IsAvailable], [t0].[IsDelete], [t0].[Product_category_id], [t0].[Product_name0], [t0].[Product_vat0], [t0].[Sale_price], [t0].[Sell_price], [t0].[Status], [t0].[Unit_id], [t].[Customer_name], [t].[isDelete], [t].[Phone]
FROM (
    SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat], [c].[Customer_id] AS [Customer_id0], [c].[Customer_name], [c].[isDelete], [c].[Phone]
    FROM [Invoice] AS [i]
    LEFT JOIN [Customer] AS [c] ON [i].[Customer_id] = [c].[Customer_id]
    WHERE [i].[Invoice_id] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [i0].[Invoice_detail_id], [i0].[Invoice_id], [i0].[Price], [i0].[Product_id], [i0].[Product_name], [i0].[Product_note], [i0].[Product_vat], [i0].[Quantity], [m].[Product_id] AS [Product_id0], [m].[Cost_price], [m].[Description], [m].[IsAvailable], [m].[IsDelete], [m].[Product_category_id], [m].[Product_name] AS [Product_name0], [m].[Product_vat] AS [Product_vat0], [m].[Sale_price], [m].[Sell_price], [m].[Status], [m].[Unit_id]
    FROM [Invoice_detail] AS [i0]
    INNER JOIN [Menu] AS [m] ON [i0].[Product_id] = [m].[Product_id]
) AS [t0] ON [t].[Invoice_id] = [t0].[Invoice_id]
ORDER BY [t].[Invoice_id], [t].[Customer_id0], [t0].[Invoice_detail_id]
2025-04-01 22:08:54.041 +07:00 [INF] Executing FileContentResult, sending file with download name 'Invoice_1.pdf' ...
2025-04-01 22:08:54.052 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API) in 1220.9357ms
2025-04-01 22:08:54.053 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API)'
2025-04-01 22:08:54.056 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/pdf/1 - - - 200 65424 application/pdf 1277.1505ms
2025-04-01 22:10:08.493 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-01 22:10:08.600 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-01 22:10:08.601 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-01 22:10:08.685 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-01 22:10:08.686 +07:00 [INF] Hosting environment: Development
2025-04-01 22:10:08.686 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-01 22:10:08.815 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-01 22:10:08.915 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 102.0019ms
2025-04-01 22:10:08.940 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-01 22:10:08.940 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-01 22:10:08.945 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 5.2091ms
2025-04-01 22:10:08.968 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 28.0352ms
2025-04-01 22:10:09.287 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-01 22:10:09.311 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 24.1922ms
2025-04-01 22:10:16.969 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/pdf/1 - -
2025-04-01 22:10:17.004 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API)'
2025-04-01 22:10:17.017 +07:00 [INF] Route matched with {action = "GetInvoicePdf", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetInvoicePdf(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-01 22:10:17.634 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-01 22:10:18.039 +07:00 [INF] Executed DbCommand (34ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Invoice_id], [t].[Amount_due], [t].[Cashier_id], [t].[Check_in_time], [t].[Check_out_time], [t].[Customer_id], [t].[Invoice_discount], [t].[Invoice_note], [t].[Order_id], [t].[Order_type_id], [t].[Other_payment], [t].[Payment_method_id], [t].[Room_id], [t].[Shipper_id], [t].[Status], [t].[Subtotal], [t].[Total_quantity], [t].[Total_vat], [t].[Customer_id0], [t0].[Invoice_detail_id], [t0].[Invoice_id], [t0].[Price], [t0].[Product_id], [t0].[Product_name], [t0].[Product_note], [t0].[Product_vat], [t0].[Quantity], [t0].[Product_id0], [t0].[Cost_price], [t0].[Description], [t0].[IsAvailable], [t0].[IsDelete], [t0].[Product_category_id], [t0].[Product_name0], [t0].[Product_vat0], [t0].[Sale_price], [t0].[Sell_price], [t0].[Status], [t0].[Unit_id], [t].[Customer_name], [t].[isDelete], [t].[Phone]
FROM (
    SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat], [c].[Customer_id] AS [Customer_id0], [c].[Customer_name], [c].[isDelete], [c].[Phone]
    FROM [Invoice] AS [i]
    LEFT JOIN [Customer] AS [c] ON [i].[Customer_id] = [c].[Customer_id]
    WHERE [i].[Invoice_id] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [i0].[Invoice_detail_id], [i0].[Invoice_id], [i0].[Price], [i0].[Product_id], [i0].[Product_name], [i0].[Product_note], [i0].[Product_vat], [i0].[Quantity], [m].[Product_id] AS [Product_id0], [m].[Cost_price], [m].[Description], [m].[IsAvailable], [m].[IsDelete], [m].[Product_category_id], [m].[Product_name] AS [Product_name0], [m].[Product_vat] AS [Product_vat0], [m].[Sale_price], [m].[Sell_price], [m].[Status], [m].[Unit_id]
    FROM [Invoice_detail] AS [i0]
    INNER JOIN [Menu] AS [m] ON [i0].[Product_id] = [m].[Product_id]
) AS [t0] ON [t].[Invoice_id] = [t0].[Invoice_id]
ORDER BY [t].[Invoice_id], [t].[Customer_id0], [t0].[Invoice_detail_id]
2025-04-01 22:10:18.265 +07:00 [INF] Executing FileContentResult, sending file with download name 'Invoice_1.pdf' ...
2025-04-01 22:10:18.272 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API) in 1250.6636ms
2025-04-01 22:10:18.273 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API)'
2025-04-01 22:10:18.276 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/pdf/1 - - - 200 64839 application/pdf 1307.3996ms
2025-04-01 22:12:43.780 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-01 22:12:43.900 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-01 22:12:43.901 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-01 22:12:43.997 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-01 22:12:43.997 +07:00 [INF] Hosting environment: Development
2025-04-01 22:12:43.998 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-01 22:12:44.134 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-01 22:12:44.298 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 168.2074ms
2025-04-01 22:12:44.322 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-01 22:12:44.324 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-01 22:12:44.327 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 2.6312ms
2025-04-01 22:12:44.354 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 31.5565ms
2025-04-01 22:12:44.704 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-01 22:12:44.732 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 28.2832ms
2025-04-01 22:12:50.717 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/pdf/1 - -
2025-04-01 22:12:50.756 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API)'
2025-04-01 22:12:50.770 +07:00 [INF] Route matched with {action = "GetInvoicePdf", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetInvoicePdf(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-01 22:12:51.354 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-01 22:12:51.806 +07:00 [INF] Executed DbCommand (34ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Invoice_id], [t].[Amount_due], [t].[Cashier_id], [t].[Check_in_time], [t].[Check_out_time], [t].[Customer_id], [t].[Invoice_discount], [t].[Invoice_note], [t].[Order_id], [t].[Order_type_id], [t].[Other_payment], [t].[Payment_method_id], [t].[Room_id], [t].[Shipper_id], [t].[Status], [t].[Subtotal], [t].[Total_quantity], [t].[Total_vat], [t].[Customer_id0], [t0].[Invoice_detail_id], [t0].[Invoice_id], [t0].[Price], [t0].[Product_id], [t0].[Product_name], [t0].[Product_note], [t0].[Product_vat], [t0].[Quantity], [t0].[Product_id0], [t0].[Cost_price], [t0].[Description], [t0].[IsAvailable], [t0].[IsDelete], [t0].[Product_category_id], [t0].[Product_name0], [t0].[Product_vat0], [t0].[Sale_price], [t0].[Sell_price], [t0].[Status], [t0].[Unit_id], [t].[Customer_name], [t].[isDelete], [t].[Phone]
FROM (
    SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat], [c].[Customer_id] AS [Customer_id0], [c].[Customer_name], [c].[isDelete], [c].[Phone]
    FROM [Invoice] AS [i]
    LEFT JOIN [Customer] AS [c] ON [i].[Customer_id] = [c].[Customer_id]
    WHERE [i].[Invoice_id] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [i0].[Invoice_detail_id], [i0].[Invoice_id], [i0].[Price], [i0].[Product_id], [i0].[Product_name], [i0].[Product_note], [i0].[Product_vat], [i0].[Quantity], [m].[Product_id] AS [Product_id0], [m].[Cost_price], [m].[Description], [m].[IsAvailable], [m].[IsDelete], [m].[Product_category_id], [m].[Product_name] AS [Product_name0], [m].[Product_vat] AS [Product_vat0], [m].[Sale_price], [m].[Sell_price], [m].[Status], [m].[Unit_id]
    FROM [Invoice_detail] AS [i0]
    INNER JOIN [Menu] AS [m] ON [i0].[Product_id] = [m].[Product_id]
) AS [t0] ON [t].[Invoice_id] = [t0].[Invoice_id]
ORDER BY [t].[Invoice_id], [t].[Customer_id0], [t0].[Invoice_detail_id]
2025-04-01 22:12:52.013 +07:00 [INF] Executing FileContentResult, sending file with download name 'Invoice_1.pdf' ...
2025-04-01 22:12:52.023 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API) in 1248.2082ms
2025-04-01 22:12:52.023 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API)'
2025-04-01 22:12:52.027 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/pdf/1 - - - 200 65422 application/pdf 1309.4099ms
2025-04-01 22:17:43.276 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-01 22:17:43.383 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-01 22:17:43.384 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-01 22:17:43.473 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-01 22:17:43.474 +07:00 [INF] Hosting environment: Development
2025-04-01 22:17:43.475 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-01 22:17:43.672 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-01 22:17:43.808 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 138.5086ms
2025-04-01 22:17:43.833 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-01 22:17:43.833 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-01 22:17:43.837 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 4.2334ms
2025-04-01 22:17:43.866 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 33.2339ms
2025-04-01 22:17:44.197 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-01 22:17:44.227 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 29.8316ms
2025-04-01 22:18:12.551 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-01 22:18:12.695 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-01 22:18:12.696 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-01 22:18:12.787 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-01 22:18:12.789 +07:00 [INF] Hosting environment: Development
2025-04-01 22:18:12.789 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-01 22:18:12.883 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-01 22:18:13.025 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 144.8792ms
2025-04-01 22:18:13.042 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-01 22:18:13.042 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-01 22:18:13.046 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 3.6343ms
2025-04-01 22:18:13.073 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 31.1577ms
2025-04-01 22:18:13.254 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-01 22:18:13.285 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 30.4513ms
2025-04-01 22:18:19.090 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/pdf/1 - -
2025-04-01 22:18:19.131 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API)'
2025-04-01 22:18:19.144 +07:00 [INF] Route matched with {action = "GetInvoicePdf", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetInvoicePdf(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-01 22:18:19.774 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-01 22:18:20.203 +07:00 [INF] Executed DbCommand (31ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Invoice_id], [t].[Amount_due], [t].[Cashier_id], [t].[Check_in_time], [t].[Check_out_time], [t].[Customer_id], [t].[Invoice_discount], [t].[Invoice_note], [t].[Order_id], [t].[Order_type_id], [t].[Other_payment], [t].[Payment_method_id], [t].[Room_id], [t].[Shipper_id], [t].[Status], [t].[Subtotal], [t].[Total_quantity], [t].[Total_vat], [t].[Customer_id0], [t0].[Invoice_detail_id], [t0].[Invoice_id], [t0].[Price], [t0].[Product_id], [t0].[Product_name], [t0].[Product_note], [t0].[Product_vat], [t0].[Quantity], [t0].[Product_id0], [t0].[Cost_price], [t0].[Description], [t0].[IsAvailable], [t0].[IsDelete], [t0].[Product_category_id], [t0].[Product_name0], [t0].[Product_vat0], [t0].[Sale_price], [t0].[Sell_price], [t0].[Status], [t0].[Unit_id], [t].[Customer_name], [t].[isDelete], [t].[Phone]
FROM (
    SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat], [c].[Customer_id] AS [Customer_id0], [c].[Customer_name], [c].[isDelete], [c].[Phone]
    FROM [Invoice] AS [i]
    LEFT JOIN [Customer] AS [c] ON [i].[Customer_id] = [c].[Customer_id]
    WHERE [i].[Invoice_id] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [i0].[Invoice_detail_id], [i0].[Invoice_id], [i0].[Price], [i0].[Product_id], [i0].[Product_name], [i0].[Product_note], [i0].[Product_vat], [i0].[Quantity], [m].[Product_id] AS [Product_id0], [m].[Cost_price], [m].[Description], [m].[IsAvailable], [m].[IsDelete], [m].[Product_category_id], [m].[Product_name] AS [Product_name0], [m].[Product_vat] AS [Product_vat0], [m].[Sale_price], [m].[Sell_price], [m].[Status], [m].[Unit_id]
    FROM [Invoice_detail] AS [i0]
    INNER JOIN [Menu] AS [m] ON [i0].[Product_id] = [m].[Product_id]
) AS [t0] ON [t].[Invoice_id] = [t0].[Invoice_id]
ORDER BY [t].[Invoice_id], [t].[Customer_id0], [t0].[Invoice_detail_id]
2025-04-01 22:18:20.414 +07:00 [INF] Executing FileContentResult, sending file with download name 'Invoice_1.pdf' ...
2025-04-01 22:18:20.424 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API) in 1275.564ms
2025-04-01 22:18:20.425 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API)'
2025-04-01 22:18:20.428 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/pdf/1 - - - 200 69701 application/pdf 1337.9279ms
2025-04-01 22:21:27.780 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-01 22:21:27.880 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-01 22:21:27.881 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-01 22:21:27.965 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-01 22:21:27.965 +07:00 [INF] Hosting environment: Development
2025-04-01 22:21:27.966 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-01 22:21:28.133 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-01 22:21:28.260 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 129.4459ms
2025-04-01 22:21:28.282 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-01 22:21:28.283 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-01 22:21:28.286 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 2.8249ms
2025-04-01 22:21:28.312 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 30.5055ms
2025-04-01 22:21:28.659 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-01 22:21:28.693 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 33.9250ms
2025-04-01 22:22:55.369 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-01 22:22:55.495 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-01 22:22:55.496 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-01 22:22:55.619 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-01 22:22:55.620 +07:00 [INF] Hosting environment: Development
2025-04-01 22:22:55.620 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-01 22:22:56.825 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-01 22:22:56.981 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 159.4191ms
2025-04-01 22:22:57.003 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-01 22:22:57.003 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-01 22:22:57.006 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 3.0229ms
2025-04-01 22:22:57.029 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 26.8159ms
2025-04-01 22:22:57.384 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-01 22:22:57.423 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 38.8006ms
2025-04-01 22:23:01.987 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/pdf/1 - -
2025-04-01 22:23:02.025 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API)'
2025-04-01 22:23:02.039 +07:00 [INF] Route matched with {action = "GetInvoicePdf", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetInvoicePdf(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-01 22:23:02.708 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-01 22:23:03.152 +07:00 [INF] Executed DbCommand (33ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Invoice_id], [t].[Amount_due], [t].[Cashier_id], [t].[Check_in_time], [t].[Check_out_time], [t].[Customer_id], [t].[Invoice_discount], [t].[Invoice_note], [t].[Order_id], [t].[Order_type_id], [t].[Other_payment], [t].[Payment_method_id], [t].[Room_id], [t].[Shipper_id], [t].[Status], [t].[Subtotal], [t].[Total_quantity], [t].[Total_vat], [t].[Customer_id0], [t0].[Invoice_detail_id], [t0].[Invoice_id], [t0].[Price], [t0].[Product_id], [t0].[Product_name], [t0].[Product_note], [t0].[Product_vat], [t0].[Quantity], [t0].[Product_id0], [t0].[Cost_price], [t0].[Description], [t0].[IsAvailable], [t0].[IsDelete], [t0].[Product_category_id], [t0].[Product_name0], [t0].[Product_vat0], [t0].[Sale_price], [t0].[Sell_price], [t0].[Status], [t0].[Unit_id], [t].[Customer_name], [t].[isDelete], [t].[Phone]
FROM (
    SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat], [c].[Customer_id] AS [Customer_id0], [c].[Customer_name], [c].[isDelete], [c].[Phone]
    FROM [Invoice] AS [i]
    LEFT JOIN [Customer] AS [c] ON [i].[Customer_id] = [c].[Customer_id]
    WHERE [i].[Invoice_id] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [i0].[Invoice_detail_id], [i0].[Invoice_id], [i0].[Price], [i0].[Product_id], [i0].[Product_name], [i0].[Product_note], [i0].[Product_vat], [i0].[Quantity], [m].[Product_id] AS [Product_id0], [m].[Cost_price], [m].[Description], [m].[IsAvailable], [m].[IsDelete], [m].[Product_category_id], [m].[Product_name] AS [Product_name0], [m].[Product_vat] AS [Product_vat0], [m].[Sale_price], [m].[Sell_price], [m].[Status], [m].[Unit_id]
    FROM [Invoice_detail] AS [i0]
    INNER JOIN [Menu] AS [m] ON [i0].[Product_id] = [m].[Product_id]
) AS [t0] ON [t].[Invoice_id] = [t0].[Invoice_id]
ORDER BY [t].[Invoice_id], [t].[Customer_id0], [t0].[Invoice_detail_id]
2025-04-01 22:23:03.373 +07:00 [INF] Executing FileContentResult, sending file with download name 'Invoice_1.pdf' ...
2025-04-01 22:23:03.380 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API) in 1336.4266ms
2025-04-01 22:23:03.381 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API)'
2025-04-01 22:23:03.384 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/pdf/1 - - - 200 40487 application/pdf 1397.0618ms
2025-04-01 22:25:46.925 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-01 22:25:47.028 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-01 22:25:47.029 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-01 22:25:47.118 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-01 22:25:47.119 +07:00 [INF] Hosting environment: Development
2025-04-01 22:25:47.119 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-01 22:25:47.121 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-01 22:25:47.260 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 141.4291ms
2025-04-01 22:25:47.288 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-01 22:25:47.288 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-01 22:25:47.291 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 3.6929ms
2025-04-01 22:25:47.317 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 28.9608ms
2025-04-01 22:25:47.714 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-01 22:25:47.748 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 34.5662ms
2025-04-01 22:25:56.952 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/pdf/1 - -
2025-04-01 22:25:56.994 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API)'
2025-04-01 22:25:57.007 +07:00 [INF] Route matched with {action = "GetInvoicePdf", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetInvoicePdf(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-01 22:25:57.643 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-01 22:25:58.068 +07:00 [INF] Executed DbCommand (33ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Invoice_id], [t].[Amount_due], [t].[Cashier_id], [t].[Check_in_time], [t].[Check_out_time], [t].[Customer_id], [t].[Invoice_discount], [t].[Invoice_note], [t].[Order_id], [t].[Order_type_id], [t].[Other_payment], [t].[Payment_method_id], [t].[Room_id], [t].[Shipper_id], [t].[Status], [t].[Subtotal], [t].[Total_quantity], [t].[Total_vat], [t].[Customer_id0], [t0].[Invoice_detail_id], [t0].[Invoice_id], [t0].[Price], [t0].[Product_id], [t0].[Product_name], [t0].[Product_note], [t0].[Product_vat], [t0].[Quantity], [t0].[Product_id0], [t0].[Cost_price], [t0].[Description], [t0].[IsAvailable], [t0].[IsDelete], [t0].[Product_category_id], [t0].[Product_name0], [t0].[Product_vat0], [t0].[Sale_price], [t0].[Sell_price], [t0].[Status], [t0].[Unit_id], [t].[Customer_name], [t].[isDelete], [t].[Phone]
FROM (
    SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat], [c].[Customer_id] AS [Customer_id0], [c].[Customer_name], [c].[isDelete], [c].[Phone]
    FROM [Invoice] AS [i]
    LEFT JOIN [Customer] AS [c] ON [i].[Customer_id] = [c].[Customer_id]
    WHERE [i].[Invoice_id] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [i0].[Invoice_detail_id], [i0].[Invoice_id], [i0].[Price], [i0].[Product_id], [i0].[Product_name], [i0].[Product_note], [i0].[Product_vat], [i0].[Quantity], [m].[Product_id] AS [Product_id0], [m].[Cost_price], [m].[Description], [m].[IsAvailable], [m].[IsDelete], [m].[Product_category_id], [m].[Product_name] AS [Product_name0], [m].[Product_vat] AS [Product_vat0], [m].[Sale_price], [m].[Sell_price], [m].[Status], [m].[Unit_id]
    FROM [Invoice_detail] AS [i0]
    INNER JOIN [Menu] AS [m] ON [i0].[Product_id] = [m].[Product_id]
) AS [t0] ON [t].[Invoice_id] = [t0].[Invoice_id]
ORDER BY [t].[Invoice_id], [t].[Customer_id0], [t0].[Invoice_detail_id]
2025-04-01 22:25:58.332 +07:00 [INF] Executing FileContentResult, sending file with download name 'Invoice_1.pdf' ...
2025-04-01 22:25:58.343 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API) in 1331.6773ms
2025-04-01 22:25:58.345 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API)'
2025-04-01 22:25:58.349 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/pdf/1 - - - 200 68412 application/pdf 1396.8177ms
2025-04-01 22:26:00.145 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/pdf/1 - -
2025-04-01 22:26:00.148 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API)'
2025-04-01 22:26:00.149 +07:00 [INF] Route matched with {action = "GetInvoicePdf", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetInvoicePdf(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-01 22:26:00.159 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-01 22:26:00.175 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Invoice_id], [t].[Amount_due], [t].[Cashier_id], [t].[Check_in_time], [t].[Check_out_time], [t].[Customer_id], [t].[Invoice_discount], [t].[Invoice_note], [t].[Order_id], [t].[Order_type_id], [t].[Other_payment], [t].[Payment_method_id], [t].[Room_id], [t].[Shipper_id], [t].[Status], [t].[Subtotal], [t].[Total_quantity], [t].[Total_vat], [t].[Customer_id0], [t0].[Invoice_detail_id], [t0].[Invoice_id], [t0].[Price], [t0].[Product_id], [t0].[Product_name], [t0].[Product_note], [t0].[Product_vat], [t0].[Quantity], [t0].[Product_id0], [t0].[Cost_price], [t0].[Description], [t0].[IsAvailable], [t0].[IsDelete], [t0].[Product_category_id], [t0].[Product_name0], [t0].[Product_vat0], [t0].[Sale_price], [t0].[Sell_price], [t0].[Status], [t0].[Unit_id], [t].[Customer_name], [t].[isDelete], [t].[Phone]
FROM (
    SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat], [c].[Customer_id] AS [Customer_id0], [c].[Customer_name], [c].[isDelete], [c].[Phone]
    FROM [Invoice] AS [i]
    LEFT JOIN [Customer] AS [c] ON [i].[Customer_id] = [c].[Customer_id]
    WHERE [i].[Invoice_id] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [i0].[Invoice_detail_id], [i0].[Invoice_id], [i0].[Price], [i0].[Product_id], [i0].[Product_name], [i0].[Product_note], [i0].[Product_vat], [i0].[Quantity], [m].[Product_id] AS [Product_id0], [m].[Cost_price], [m].[Description], [m].[IsAvailable], [m].[IsDelete], [m].[Product_category_id], [m].[Product_name] AS [Product_name0], [m].[Product_vat] AS [Product_vat0], [m].[Sale_price], [m].[Sell_price], [m].[Status], [m].[Unit_id]
    FROM [Invoice_detail] AS [i0]
    INNER JOIN [Menu] AS [m] ON [i0].[Product_id] = [m].[Product_id]
) AS [t0] ON [t].[Invoice_id] = [t0].[Invoice_id]
ORDER BY [t].[Invoice_id], [t].[Customer_id0], [t0].[Invoice_detail_id]
2025-04-01 22:26:00.182 +07:00 [INF] Executing FileContentResult, sending file with download name 'Invoice_1.pdf' ...
2025-04-01 22:26:00.184 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API) in 33.9981ms
2025-04-01 22:26:00.185 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API)'
2025-04-01 22:26:00.186 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/pdf/1 - - - 200 68412 application/pdf 40.6989ms
2025-04-01 22:26:48.418 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-01 22:26:48.581 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-01 22:26:48.582 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-01 22:26:48.695 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-01 22:26:48.697 +07:00 [INF] Hosting environment: Development
2025-04-01 22:26:48.698 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-01 22:26:48.800 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-01 22:26:48.922 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 124.5499ms
2025-04-01 22:26:48.943 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-01 22:26:48.943 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-01 22:26:48.946 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 2.7620ms
2025-04-01 22:26:48.970 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 26.8749ms
2025-04-01 22:26:49.314 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-01 22:26:49.350 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 35.5549ms
2025-04-01 22:26:54.988 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/pdf/1 - -
2025-04-01 22:26:55.027 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API)'
2025-04-01 22:26:55.039 +07:00 [INF] Route matched with {action = "GetInvoicePdf", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetInvoicePdf(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-01 22:26:55.712 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-01 22:26:56.112 +07:00 [INF] Executed DbCommand (27ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Invoice_id], [t].[Amount_due], [t].[Cashier_id], [t].[Check_in_time], [t].[Check_out_time], [t].[Customer_id], [t].[Invoice_discount], [t].[Invoice_note], [t].[Order_id], [t].[Order_type_id], [t].[Other_payment], [t].[Payment_method_id], [t].[Room_id], [t].[Shipper_id], [t].[Status], [t].[Subtotal], [t].[Total_quantity], [t].[Total_vat], [t].[Customer_id0], [t0].[Invoice_detail_id], [t0].[Invoice_id], [t0].[Price], [t0].[Product_id], [t0].[Product_name], [t0].[Product_note], [t0].[Product_vat], [t0].[Quantity], [t0].[Product_id0], [t0].[Cost_price], [t0].[Description], [t0].[IsAvailable], [t0].[IsDelete], [t0].[Product_category_id], [t0].[Product_name0], [t0].[Product_vat0], [t0].[Sale_price], [t0].[Sell_price], [t0].[Status], [t0].[Unit_id], [t].[Customer_name], [t].[isDelete], [t].[Phone]
FROM (
    SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat], [c].[Customer_id] AS [Customer_id0], [c].[Customer_name], [c].[isDelete], [c].[Phone]
    FROM [Invoice] AS [i]
    LEFT JOIN [Customer] AS [c] ON [i].[Customer_id] = [c].[Customer_id]
    WHERE [i].[Invoice_id] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [i0].[Invoice_detail_id], [i0].[Invoice_id], [i0].[Price], [i0].[Product_id], [i0].[Product_name], [i0].[Product_note], [i0].[Product_vat], [i0].[Quantity], [m].[Product_id] AS [Product_id0], [m].[Cost_price], [m].[Description], [m].[IsAvailable], [m].[IsDelete], [m].[Product_category_id], [m].[Product_name] AS [Product_name0], [m].[Product_vat] AS [Product_vat0], [m].[Sale_price], [m].[Sell_price], [m].[Status], [m].[Unit_id]
    FROM [Invoice_detail] AS [i0]
    INNER JOIN [Menu] AS [m] ON [i0].[Product_id] = [m].[Product_id]
) AS [t0] ON [t].[Invoice_id] = [t0].[Invoice_id]
ORDER BY [t].[Invoice_id], [t].[Customer_id0], [t0].[Invoice_detail_id]
2025-04-01 22:26:56.322 +07:00 [INF] Executing FileContentResult, sending file with download name 'Invoice_1.pdf' ...
2025-04-01 22:26:56.332 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API) in 1287.8691ms
2025-04-01 22:26:56.333 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API)'
2025-04-01 22:26:56.336 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/pdf/1 - - - 200 68412 application/pdf 1348.3470ms
2025-04-01 22:28:54.571 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-01 22:28:54.705 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-01 22:28:54.706 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-01 22:28:54.793 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-01 22:28:54.794 +07:00 [INF] Hosting environment: Development
2025-04-01 22:28:54.794 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-01 22:28:55.861 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-01 22:28:55.993 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 133.7604ms
2025-04-01 22:28:56.015 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-01 22:28:56.015 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-01 22:28:56.018 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 3.2646ms
2025-04-01 22:28:56.038 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 23.0249ms
2025-04-01 22:28:56.250 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-01 22:28:56.284 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 34.0759ms
2025-04-01 22:29:00.976 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/pdf/1 - -
2025-04-01 22:29:01.010 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API)'
2025-04-01 22:29:01.023 +07:00 [INF] Route matched with {action = "GetInvoicePdf", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetInvoicePdf(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-01 22:29:01.633 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-01 22:29:02.069 +07:00 [INF] Executed DbCommand (33ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Invoice_id], [t].[Amount_due], [t].[Cashier_id], [t].[Check_in_time], [t].[Check_out_time], [t].[Customer_id], [t].[Invoice_discount], [t].[Invoice_note], [t].[Order_id], [t].[Order_type_id], [t].[Other_payment], [t].[Payment_method_id], [t].[Room_id], [t].[Shipper_id], [t].[Status], [t].[Subtotal], [t].[Total_quantity], [t].[Total_vat], [t].[Customer_id0], [t0].[Invoice_detail_id], [t0].[Invoice_id], [t0].[Price], [t0].[Product_id], [t0].[Product_name], [t0].[Product_note], [t0].[Product_vat], [t0].[Quantity], [t0].[Product_id0], [t0].[Cost_price], [t0].[Description], [t0].[IsAvailable], [t0].[IsDelete], [t0].[Product_category_id], [t0].[Product_name0], [t0].[Product_vat0], [t0].[Sale_price], [t0].[Sell_price], [t0].[Status], [t0].[Unit_id], [t].[Customer_name], [t].[isDelete], [t].[Phone]
FROM (
    SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat], [c].[Customer_id] AS [Customer_id0], [c].[Customer_name], [c].[isDelete], [c].[Phone]
    FROM [Invoice] AS [i]
    LEFT JOIN [Customer] AS [c] ON [i].[Customer_id] = [c].[Customer_id]
    WHERE [i].[Invoice_id] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [i0].[Invoice_detail_id], [i0].[Invoice_id], [i0].[Price], [i0].[Product_id], [i0].[Product_name], [i0].[Product_note], [i0].[Product_vat], [i0].[Quantity], [m].[Product_id] AS [Product_id0], [m].[Cost_price], [m].[Description], [m].[IsAvailable], [m].[IsDelete], [m].[Product_category_id], [m].[Product_name] AS [Product_name0], [m].[Product_vat] AS [Product_vat0], [m].[Sale_price], [m].[Sell_price], [m].[Status], [m].[Unit_id]
    FROM [Invoice_detail] AS [i0]
    INNER JOIN [Menu] AS [m] ON [i0].[Product_id] = [m].[Product_id]
) AS [t0] ON [t].[Invoice_id] = [t0].[Invoice_id]
ORDER BY [t].[Invoice_id], [t].[Customer_id0], [t0].[Invoice_detail_id]
2025-04-01 22:29:02.299 +07:00 [INF] Executing FileContentResult, sending file with download name 'Invoice_1.pdf' ...
2025-04-01 22:29:02.309 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API) in 1281.3051ms
2025-04-01 22:29:02.310 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API)'
2025-04-01 22:29:02.313 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/pdf/1 - - - 200 68427 application/pdf 1336.5531ms
2025-04-01 22:30:45.514 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-01 22:30:45.646 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-01 22:30:45.647 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-01 22:30:45.798 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-01 22:30:45.799 +07:00 [INF] Hosting environment: Development
2025-04-01 22:30:45.800 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-01 22:30:46.031 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-01 22:30:46.159 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 130.6925ms
2025-04-01 22:30:46.185 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-01 22:30:46.185 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-01 22:30:46.187 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 2.5190ms
2025-04-01 22:30:46.214 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 29.8378ms
2025-04-01 22:30:46.555 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-01 22:30:46.590 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 35.0081ms
2025-04-01 22:30:51.355 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/pdf/1 - -
2025-04-01 22:30:51.398 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API)'
2025-04-01 22:30:51.414 +07:00 [INF] Route matched with {action = "GetInvoicePdf", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetInvoicePdf(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-01 22:30:51.999 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-01 22:30:52.397 +07:00 [INF] Executed DbCommand (32ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Invoice_id], [t].[Amount_due], [t].[Cashier_id], [t].[Check_in_time], [t].[Check_out_time], [t].[Customer_id], [t].[Invoice_discount], [t].[Invoice_note], [t].[Order_id], [t].[Order_type_id], [t].[Other_payment], [t].[Payment_method_id], [t].[Room_id], [t].[Shipper_id], [t].[Status], [t].[Subtotal], [t].[Total_quantity], [t].[Total_vat], [t].[Customer_id0], [t0].[Invoice_detail_id], [t0].[Invoice_id], [t0].[Price], [t0].[Product_id], [t0].[Product_name], [t0].[Product_note], [t0].[Product_vat], [t0].[Quantity], [t0].[Product_id0], [t0].[Cost_price], [t0].[Description], [t0].[IsAvailable], [t0].[IsDelete], [t0].[Product_category_id], [t0].[Product_name0], [t0].[Product_vat0], [t0].[Sale_price], [t0].[Sell_price], [t0].[Status], [t0].[Unit_id], [t].[Customer_name], [t].[isDelete], [t].[Phone]
FROM (
    SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat], [c].[Customer_id] AS [Customer_id0], [c].[Customer_name], [c].[isDelete], [c].[Phone]
    FROM [Invoice] AS [i]
    LEFT JOIN [Customer] AS [c] ON [i].[Customer_id] = [c].[Customer_id]
    WHERE [i].[Invoice_id] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [i0].[Invoice_detail_id], [i0].[Invoice_id], [i0].[Price], [i0].[Product_id], [i0].[Product_name], [i0].[Product_note], [i0].[Product_vat], [i0].[Quantity], [m].[Product_id] AS [Product_id0], [m].[Cost_price], [m].[Description], [m].[IsAvailable], [m].[IsDelete], [m].[Product_category_id], [m].[Product_name] AS [Product_name0], [m].[Product_vat] AS [Product_vat0], [m].[Sale_price], [m].[Sell_price], [m].[Status], [m].[Unit_id]
    FROM [Invoice_detail] AS [i0]
    INNER JOIN [Menu] AS [m] ON [i0].[Product_id] = [m].[Product_id]
) AS [t0] ON [t].[Invoice_id] = [t0].[Invoice_id]
ORDER BY [t].[Invoice_id], [t].[Customer_id0], [t0].[Invoice_detail_id]
2025-04-01 22:30:52.629 +07:00 [INF] Executing FileContentResult, sending file with download name 'Invoice_1.pdf' ...
2025-04-01 22:30:52.641 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API) in 1221.108ms
2025-04-01 22:30:52.642 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API)'
2025-04-01 22:30:52.647 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/pdf/1 - - - 200 67543 application/pdf 1291.4824ms
2025-04-01 22:32:31.256 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-01 22:32:31.380 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-01 22:32:31.381 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-01 22:32:31.485 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-01 22:32:31.486 +07:00 [INF] Hosting environment: Development
2025-04-01 22:32:31.488 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-01 22:32:31.947 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-01 22:32:32.067 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 121.2634ms
2025-04-01 22:32:32.094 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-01 22:32:32.094 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-01 22:32:32.097 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 2.4534ms
2025-04-01 22:32:32.116 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 21.4465ms
2025-04-01 22:32:32.369 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-01 22:32:32.402 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 33.1406ms
2025-04-01 22:32:38.557 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/pdf/1 - -
2025-04-01 22:32:38.590 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API)'
2025-04-01 22:32:38.603 +07:00 [INF] Route matched with {action = "GetInvoicePdf", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetInvoicePdf(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-01 22:32:39.238 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-01 22:32:39.641 +07:00 [INF] Executed DbCommand (38ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Invoice_id], [t].[Amount_due], [t].[Cashier_id], [t].[Check_in_time], [t].[Check_out_time], [t].[Customer_id], [t].[Invoice_discount], [t].[Invoice_note], [t].[Order_id], [t].[Order_type_id], [t].[Other_payment], [t].[Payment_method_id], [t].[Room_id], [t].[Shipper_id], [t].[Status], [t].[Subtotal], [t].[Total_quantity], [t].[Total_vat], [t].[Customer_id0], [t0].[Invoice_detail_id], [t0].[Invoice_id], [t0].[Price], [t0].[Product_id], [t0].[Product_name], [t0].[Product_note], [t0].[Product_vat], [t0].[Quantity], [t0].[Product_id0], [t0].[Cost_price], [t0].[Description], [t0].[IsAvailable], [t0].[IsDelete], [t0].[Product_category_id], [t0].[Product_name0], [t0].[Product_vat0], [t0].[Sale_price], [t0].[Sell_price], [t0].[Status], [t0].[Unit_id], [t].[Customer_name], [t].[isDelete], [t].[Phone]
FROM (
    SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat], [c].[Customer_id] AS [Customer_id0], [c].[Customer_name], [c].[isDelete], [c].[Phone]
    FROM [Invoice] AS [i]
    LEFT JOIN [Customer] AS [c] ON [i].[Customer_id] = [c].[Customer_id]
    WHERE [i].[Invoice_id] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [i0].[Invoice_detail_id], [i0].[Invoice_id], [i0].[Price], [i0].[Product_id], [i0].[Product_name], [i0].[Product_note], [i0].[Product_vat], [i0].[Quantity], [m].[Product_id] AS [Product_id0], [m].[Cost_price], [m].[Description], [m].[IsAvailable], [m].[IsDelete], [m].[Product_category_id], [m].[Product_name] AS [Product_name0], [m].[Product_vat] AS [Product_vat0], [m].[Sale_price], [m].[Sell_price], [m].[Status], [m].[Unit_id]
    FROM [Invoice_detail] AS [i0]
    INNER JOIN [Menu] AS [m] ON [i0].[Product_id] = [m].[Product_id]
) AS [t0] ON [t].[Invoice_id] = [t0].[Invoice_id]
ORDER BY [t].[Invoice_id], [t].[Customer_id0], [t0].[Invoice_detail_id]
2025-04-01 22:32:39.868 +07:00 [INF] Executing FileContentResult, sending file with download name 'Invoice_1.pdf' ...
2025-04-01 22:32:39.874 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API) in 1266.6138ms
2025-04-01 22:32:39.875 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API)'
2025-04-01 22:32:39.878 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/pdf/1 - - - 200 34245 application/pdf 1320.8850ms
2025-04-01 22:34:56.321 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-01 22:34:56.434 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-01 22:34:56.434 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-01 22:34:56.563 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-01 22:34:56.564 +07:00 [INF] Hosting environment: Development
2025-04-01 22:34:56.564 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-01 22:34:57.024 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-01 22:34:57.184 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 164.5160ms
2025-04-01 22:34:57.208 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-01 22:34:57.208 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-01 22:34:57.212 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 3.2685ms
2025-04-01 22:34:57.244 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 35.9857ms
2025-04-01 22:34:57.620 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-01 22:34:57.658 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 37.5286ms
2025-04-01 22:35:03.645 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/pdf/1 - -
2025-04-01 22:35:03.678 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API)'
2025-04-01 22:35:03.691 +07:00 [INF] Route matched with {action = "GetInvoicePdf", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetInvoicePdf(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-01 22:35:04.258 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-01 22:35:04.679 +07:00 [INF] Executed DbCommand (33ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Invoice_id], [t].[Amount_due], [t].[Cashier_id], [t].[Check_in_time], [t].[Check_out_time], [t].[Customer_id], [t].[Invoice_discount], [t].[Invoice_note], [t].[Order_id], [t].[Order_type_id], [t].[Other_payment], [t].[Payment_method_id], [t].[Room_id], [t].[Shipper_id], [t].[Status], [t].[Subtotal], [t].[Total_quantity], [t].[Total_vat], [t].[Customer_id0], [t0].[Invoice_detail_id], [t0].[Invoice_id], [t0].[Price], [t0].[Product_id], [t0].[Product_name], [t0].[Product_note], [t0].[Product_vat], [t0].[Quantity], [t0].[Product_id0], [t0].[Cost_price], [t0].[Description], [t0].[IsAvailable], [t0].[IsDelete], [t0].[Product_category_id], [t0].[Product_name0], [t0].[Product_vat0], [t0].[Sale_price], [t0].[Sell_price], [t0].[Status], [t0].[Unit_id], [t].[Customer_name], [t].[isDelete], [t].[Phone]
FROM (
    SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat], [c].[Customer_id] AS [Customer_id0], [c].[Customer_name], [c].[isDelete], [c].[Phone]
    FROM [Invoice] AS [i]
    LEFT JOIN [Customer] AS [c] ON [i].[Customer_id] = [c].[Customer_id]
    WHERE [i].[Invoice_id] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [i0].[Invoice_detail_id], [i0].[Invoice_id], [i0].[Price], [i0].[Product_id], [i0].[Product_name], [i0].[Product_note], [i0].[Product_vat], [i0].[Quantity], [m].[Product_id] AS [Product_id0], [m].[Cost_price], [m].[Description], [m].[IsAvailable], [m].[IsDelete], [m].[Product_category_id], [m].[Product_name] AS [Product_name0], [m].[Product_vat] AS [Product_vat0], [m].[Sale_price], [m].[Sell_price], [m].[Status], [m].[Unit_id]
    FROM [Invoice_detail] AS [i0]
    INNER JOIN [Menu] AS [m] ON [i0].[Product_id] = [m].[Product_id]
) AS [t0] ON [t].[Invoice_id] = [t0].[Invoice_id]
ORDER BY [t].[Invoice_id], [t].[Customer_id0], [t0].[Invoice_detail_id]
2025-04-01 22:35:04.857 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API) in 1161.9529ms
2025-04-01 22:35:04.859 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API)'
2025-04-01 22:35:04.861 +07:00 [ERR] Error: Lỗi khi tạo PDF: Value cannot be null. (Parameter 'font')
2025-04-01 22:35:04.867 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/pdf/1 - - - 500 - application/json 1222.1420ms
2025-04-01 22:35:23.569 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-01 22:35:23.573 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 3.3565ms
2025-04-01 22:35:23.596 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-01 22:35:23.597 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-01 22:35:23.598 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 0.6987ms
2025-04-01 22:35:23.606 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 9.9001ms
2025-04-01 22:35:23.869 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-01 22:35:23.891 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 22.3893ms
2025-04-01 22:35:32.497 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/pdf/1 - -
2025-04-01 22:35:32.501 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API)'
2025-04-01 22:35:32.502 +07:00 [INF] Route matched with {action = "GetInvoicePdf", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetInvoicePdf(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-01 22:35:32.516 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-01 22:35:32.526 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Invoice_id], [t].[Amount_due], [t].[Cashier_id], [t].[Check_in_time], [t].[Check_out_time], [t].[Customer_id], [t].[Invoice_discount], [t].[Invoice_note], [t].[Order_id], [t].[Order_type_id], [t].[Other_payment], [t].[Payment_method_id], [t].[Room_id], [t].[Shipper_id], [t].[Status], [t].[Subtotal], [t].[Total_quantity], [t].[Total_vat], [t].[Customer_id0], [t0].[Invoice_detail_id], [t0].[Invoice_id], [t0].[Price], [t0].[Product_id], [t0].[Product_name], [t0].[Product_note], [t0].[Product_vat], [t0].[Quantity], [t0].[Product_id0], [t0].[Cost_price], [t0].[Description], [t0].[IsAvailable], [t0].[IsDelete], [t0].[Product_category_id], [t0].[Product_name0], [t0].[Product_vat0], [t0].[Sale_price], [t0].[Sell_price], [t0].[Status], [t0].[Unit_id], [t].[Customer_name], [t].[isDelete], [t].[Phone]
FROM (
    SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat], [c].[Customer_id] AS [Customer_id0], [c].[Customer_name], [c].[isDelete], [c].[Phone]
    FROM [Invoice] AS [i]
    LEFT JOIN [Customer] AS [c] ON [i].[Customer_id] = [c].[Customer_id]
    WHERE [i].[Invoice_id] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [i0].[Invoice_detail_id], [i0].[Invoice_id], [i0].[Price], [i0].[Product_id], [i0].[Product_name], [i0].[Product_note], [i0].[Product_vat], [i0].[Quantity], [m].[Product_id] AS [Product_id0], [m].[Cost_price], [m].[Description], [m].[IsAvailable], [m].[IsDelete], [m].[Product_category_id], [m].[Product_name] AS [Product_name0], [m].[Product_vat] AS [Product_vat0], [m].[Sale_price], [m].[Sell_price], [m].[Status], [m].[Unit_id]
    FROM [Invoice_detail] AS [i0]
    INNER JOIN [Menu] AS [m] ON [i0].[Product_id] = [m].[Product_id]
) AS [t0] ON [t].[Invoice_id] = [t0].[Invoice_id]
ORDER BY [t].[Invoice_id], [t].[Customer_id0], [t0].[Invoice_detail_id]
2025-04-01 22:35:32.528 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API) in 25.1772ms
2025-04-01 22:35:32.529 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API)'
2025-04-01 22:35:32.530 +07:00 [ERR] Error: Lỗi khi tạo PDF: Value cannot be null. (Parameter 'font')
2025-04-01 22:35:32.530 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/pdf/1 - - - 500 - application/json 33.1521ms
2025-04-01 22:38:07.820 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-01 22:38:07.926 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-01 22:38:07.927 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-01 22:38:08.009 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-01 22:38:08.010 +07:00 [INF] Hosting environment: Development
2025-04-01 22:38:08.011 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-01 22:38:08.447 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-01 22:38:08.569 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 124.3188ms
2025-04-01 22:38:08.594 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-01 22:38:08.594 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-01 22:38:08.597 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 2.8602ms
2025-04-01 22:38:08.627 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 33.5553ms
2025-04-01 22:38:08.981 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-01 22:38:09.009 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 28.5720ms
2025-04-01 22:38:15.618 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/pdf/1 - -
2025-04-01 22:38:15.654 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API)'
2025-04-01 22:38:15.666 +07:00 [INF] Route matched with {action = "GetInvoicePdf", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetInvoicePdf(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-01 22:38:16.297 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-01 22:38:16.794 +07:00 [INF] Executed DbCommand (37ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Invoice_id], [t].[Amount_due], [t].[Cashier_id], [t].[Check_in_time], [t].[Check_out_time], [t].[Customer_id], [t].[Invoice_discount], [t].[Invoice_note], [t].[Order_id], [t].[Order_type_id], [t].[Other_payment], [t].[Payment_method_id], [t].[Room_id], [t].[Shipper_id], [t].[Status], [t].[Subtotal], [t].[Total_quantity], [t].[Total_vat], [t].[Customer_id0], [t0].[Invoice_detail_id], [t0].[Invoice_id], [t0].[Price], [t0].[Product_id], [t0].[Product_name], [t0].[Product_note], [t0].[Product_vat], [t0].[Quantity], [t0].[Product_id0], [t0].[Cost_price], [t0].[Description], [t0].[IsAvailable], [t0].[IsDelete], [t0].[Product_category_id], [t0].[Product_name0], [t0].[Product_vat0], [t0].[Sale_price], [t0].[Sell_price], [t0].[Status], [t0].[Unit_id], [t].[Customer_name], [t].[isDelete], [t].[Phone]
FROM (
    SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat], [c].[Customer_id] AS [Customer_id0], [c].[Customer_name], [c].[isDelete], [c].[Phone]
    FROM [Invoice] AS [i]
    LEFT JOIN [Customer] AS [c] ON [i].[Customer_id] = [c].[Customer_id]
    WHERE [i].[Invoice_id] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [i0].[Invoice_detail_id], [i0].[Invoice_id], [i0].[Price], [i0].[Product_id], [i0].[Product_name], [i0].[Product_note], [i0].[Product_vat], [i0].[Quantity], [m].[Product_id] AS [Product_id0], [m].[Cost_price], [m].[Description], [m].[IsAvailable], [m].[IsDelete], [m].[Product_category_id], [m].[Product_name] AS [Product_name0], [m].[Product_vat] AS [Product_vat0], [m].[Sale_price], [m].[Sell_price], [m].[Status], [m].[Unit_id]
    FROM [Invoice_detail] AS [i0]
    INNER JOIN [Menu] AS [m] ON [i0].[Product_id] = [m].[Product_id]
) AS [t0] ON [t].[Invoice_id] = [t0].[Invoice_id]
ORDER BY [t].[Invoice_id], [t].[Customer_id0], [t0].[Invoice_detail_id]
2025-04-01 22:38:17.018 +07:00 [INF] Executing FileContentResult, sending file with download name 'Invoice_1.pdf' ...
2025-04-01 22:38:17.025 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API) in 1354.2461ms
2025-04-01 22:38:17.027 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API)'
2025-04-01 22:38:17.031 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/pdf/1 - - - 200 55694 application/pdf 1412.7111ms
2025-04-01 22:41:17.893 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-01 22:41:18.009 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-01 22:41:18.010 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-01 22:41:18.099 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-01 22:41:18.100 +07:00 [INF] Hosting environment: Development
2025-04-01 22:41:18.101 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-01 22:41:19.186 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-01 22:41:19.320 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 136.9764ms
2025-04-01 22:41:19.342 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-01 22:41:19.342 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-01 22:41:19.346 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 3.7064ms
2025-04-01 22:41:19.371 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 29.0467ms
2025-04-01 22:41:19.709 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-01 22:41:19.734 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 25.3848ms
2025-04-01 22:41:34.226 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/pdf/1 - -
2025-04-01 22:41:34.268 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API)'
2025-04-01 22:41:34.281 +07:00 [INF] Route matched with {action = "GetInvoicePdf", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetInvoicePdf(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-01 22:41:34.872 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-01 22:41:35.314 +07:00 [INF] Executed DbCommand (34ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Invoice_id], [t].[Amount_due], [t].[Cashier_id], [t].[Check_in_time], [t].[Check_out_time], [t].[Customer_id], [t].[Invoice_discount], [t].[Invoice_note], [t].[Order_id], [t].[Order_type_id], [t].[Other_payment], [t].[Payment_method_id], [t].[Room_id], [t].[Shipper_id], [t].[Status], [t].[Subtotal], [t].[Total_quantity], [t].[Total_vat], [t].[Customer_id0], [t0].[Invoice_detail_id], [t0].[Invoice_id], [t0].[Price], [t0].[Product_id], [t0].[Product_name], [t0].[Product_note], [t0].[Product_vat], [t0].[Quantity], [t0].[Product_id0], [t0].[Cost_price], [t0].[Description], [t0].[IsAvailable], [t0].[IsDelete], [t0].[Product_category_id], [t0].[Product_name0], [t0].[Product_vat0], [t0].[Sale_price], [t0].[Sell_price], [t0].[Status], [t0].[Unit_id], [t].[Customer_name], [t].[isDelete], [t].[Phone]
FROM (
    SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat], [c].[Customer_id] AS [Customer_id0], [c].[Customer_name], [c].[isDelete], [c].[Phone]
    FROM [Invoice] AS [i]
    LEFT JOIN [Customer] AS [c] ON [i].[Customer_id] = [c].[Customer_id]
    WHERE [i].[Invoice_id] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [i0].[Invoice_detail_id], [i0].[Invoice_id], [i0].[Price], [i0].[Product_id], [i0].[Product_name], [i0].[Product_note], [i0].[Product_vat], [i0].[Quantity], [m].[Product_id] AS [Product_id0], [m].[Cost_price], [m].[Description], [m].[IsAvailable], [m].[IsDelete], [m].[Product_category_id], [m].[Product_name] AS [Product_name0], [m].[Product_vat] AS [Product_vat0], [m].[Sale_price], [m].[Sell_price], [m].[Status], [m].[Unit_id]
    FROM [Invoice_detail] AS [i0]
    INNER JOIN [Menu] AS [m] ON [i0].[Product_id] = [m].[Product_id]
) AS [t0] ON [t].[Invoice_id] = [t0].[Invoice_id]
ORDER BY [t].[Invoice_id], [t].[Customer_id0], [t0].[Invoice_detail_id]
2025-04-01 22:41:35.526 +07:00 [INF] Executing FileContentResult, sending file with download name 'Invoice_1.pdf' ...
2025-04-01 22:41:35.532 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API) in 1246.1201ms
2025-04-01 22:41:35.533 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API)'
2025-04-01 22:41:35.536 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/pdf/1 - - - 200 58449 application/pdf 1310.3706ms
2025-04-01 22:43:02.080 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-01 22:43:02.182 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-01 22:43:02.182 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-01 22:43:02.269 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-01 22:43:02.270 +07:00 [INF] Hosting environment: Development
2025-04-01 22:43:02.270 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-01 22:43:02.704 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-01 22:43:02.819 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 117.2626ms
2025-04-01 22:43:02.837 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-01 22:43:02.837 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-01 22:43:02.840 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 2.8502ms
2025-04-01 22:43:02.862 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 24.8259ms
2025-04-01 22:43:03.178 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-01 22:43:03.213 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 34.6933ms
2025-04-01 22:43:09.263 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/pdf/1 - -
2025-04-01 22:43:09.296 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API)'
2025-04-01 22:43:09.308 +07:00 [INF] Route matched with {action = "GetInvoicePdf", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetInvoicePdf(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-01 22:43:09.917 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-01 22:43:10.320 +07:00 [INF] Executed DbCommand (31ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Invoice_id], [t].[Amount_due], [t].[Cashier_id], [t].[Check_in_time], [t].[Check_out_time], [t].[Customer_id], [t].[Invoice_discount], [t].[Invoice_note], [t].[Order_id], [t].[Order_type_id], [t].[Other_payment], [t].[Payment_method_id], [t].[Room_id], [t].[Shipper_id], [t].[Status], [t].[Subtotal], [t].[Total_quantity], [t].[Total_vat], [t].[Customer_id0], [t0].[Invoice_detail_id], [t0].[Invoice_id], [t0].[Price], [t0].[Product_id], [t0].[Product_name], [t0].[Product_note], [t0].[Product_vat], [t0].[Quantity], [t0].[Product_id0], [t0].[Cost_price], [t0].[Description], [t0].[IsAvailable], [t0].[IsDelete], [t0].[Product_category_id], [t0].[Product_name0], [t0].[Product_vat0], [t0].[Sale_price], [t0].[Sell_price], [t0].[Status], [t0].[Unit_id], [t].[Customer_name], [t].[isDelete], [t].[Phone]
FROM (
    SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat], [c].[Customer_id] AS [Customer_id0], [c].[Customer_name], [c].[isDelete], [c].[Phone]
    FROM [Invoice] AS [i]
    LEFT JOIN [Customer] AS [c] ON [i].[Customer_id] = [c].[Customer_id]
    WHERE [i].[Invoice_id] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [i0].[Invoice_detail_id], [i0].[Invoice_id], [i0].[Price], [i0].[Product_id], [i0].[Product_name], [i0].[Product_note], [i0].[Product_vat], [i0].[Quantity], [m].[Product_id] AS [Product_id0], [m].[Cost_price], [m].[Description], [m].[IsAvailable], [m].[IsDelete], [m].[Product_category_id], [m].[Product_name] AS [Product_name0], [m].[Product_vat] AS [Product_vat0], [m].[Sale_price], [m].[Sell_price], [m].[Status], [m].[Unit_id]
    FROM [Invoice_detail] AS [i0]
    INNER JOIN [Menu] AS [m] ON [i0].[Product_id] = [m].[Product_id]
) AS [t0] ON [t].[Invoice_id] = [t0].[Invoice_id]
ORDER BY [t].[Invoice_id], [t].[Customer_id0], [t0].[Invoice_detail_id]
2025-04-01 22:43:10.521 +07:00 [INF] Executing FileContentResult, sending file with download name 'Invoice_1.pdf' ...
2025-04-01 22:43:10.527 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API) in 1214.9916ms
2025-04-01 22:43:10.528 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API)'
2025-04-01 22:43:10.532 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/pdf/1 - - - 200 58452 application/pdf 1268.4098ms
2025-04-01 22:43:28.135 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-01 22:43:28.243 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-01 22:43:28.246 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-01 22:43:28.371 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-01 22:43:28.371 +07:00 [INF] Hosting environment: Development
2025-04-01 22:43:28.372 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-01 22:43:28.482 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-01 22:43:28.611 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 131.8815ms
2025-04-01 22:43:28.631 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-01 22:43:28.631 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-01 22:43:28.633 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 2.8676ms
2025-04-01 22:43:28.655 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 24.5074ms
2025-04-01 22:43:28.779 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-01 22:43:28.805 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 25.7143ms
2025-04-01 22:43:35.221 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/pdf/1 - -
2025-04-01 22:43:35.254 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API)'
2025-04-01 22:43:35.267 +07:00 [INF] Route matched with {action = "GetInvoicePdf", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetInvoicePdf(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-01 22:43:35.869 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-01 22:43:36.288 +07:00 [INF] Executed DbCommand (32ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Invoice_id], [t].[Amount_due], [t].[Cashier_id], [t].[Check_in_time], [t].[Check_out_time], [t].[Customer_id], [t].[Invoice_discount], [t].[Invoice_note], [t].[Order_id], [t].[Order_type_id], [t].[Other_payment], [t].[Payment_method_id], [t].[Room_id], [t].[Shipper_id], [t].[Status], [t].[Subtotal], [t].[Total_quantity], [t].[Total_vat], [t].[Customer_id0], [t0].[Invoice_detail_id], [t0].[Invoice_id], [t0].[Price], [t0].[Product_id], [t0].[Product_name], [t0].[Product_note], [t0].[Product_vat], [t0].[Quantity], [t0].[Product_id0], [t0].[Cost_price], [t0].[Description], [t0].[IsAvailable], [t0].[IsDelete], [t0].[Product_category_id], [t0].[Product_name0], [t0].[Product_vat0], [t0].[Sale_price], [t0].[Sell_price], [t0].[Status], [t0].[Unit_id], [t].[Customer_name], [t].[isDelete], [t].[Phone]
FROM (
    SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat], [c].[Customer_id] AS [Customer_id0], [c].[Customer_name], [c].[isDelete], [c].[Phone]
    FROM [Invoice] AS [i]
    LEFT JOIN [Customer] AS [c] ON [i].[Customer_id] = [c].[Customer_id]
    WHERE [i].[Invoice_id] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [i0].[Invoice_detail_id], [i0].[Invoice_id], [i0].[Price], [i0].[Product_id], [i0].[Product_name], [i0].[Product_note], [i0].[Product_vat], [i0].[Quantity], [m].[Product_id] AS [Product_id0], [m].[Cost_price], [m].[Description], [m].[IsAvailable], [m].[IsDelete], [m].[Product_category_id], [m].[Product_name] AS [Product_name0], [m].[Product_vat] AS [Product_vat0], [m].[Sale_price], [m].[Sell_price], [m].[Status], [m].[Unit_id]
    FROM [Invoice_detail] AS [i0]
    INNER JOIN [Menu] AS [m] ON [i0].[Product_id] = [m].[Product_id]
) AS [t0] ON [t].[Invoice_id] = [t0].[Invoice_id]
ORDER BY [t].[Invoice_id], [t].[Customer_id0], [t0].[Invoice_detail_id]
2025-04-01 22:43:36.492 +07:00 [INF] Executing FileContentResult, sending file with download name 'Invoice_1.pdf' ...
2025-04-01 22:43:36.499 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API) in 1228.2749ms
2025-04-01 22:43:36.501 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API)'
2025-04-01 22:43:36.505 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/pdf/1 - - - 200 58450 application/pdf 1283.8340ms
