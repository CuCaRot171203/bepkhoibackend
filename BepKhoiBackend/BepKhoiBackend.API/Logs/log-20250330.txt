2025-03-30 00:51:02.784 +07:00 [INF] User profile is available. Using 'C:\Users\phams\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-30 00:51:03.022 +07:00 [INF] Now listening on: https://localhost:7257
2025-03-30 00:51:03.023 +07:00 [INF] Now listening on: http://localhost:5287
2025-03-30 00:51:03.025 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-30 00:51:03.026 +07:00 [INF] Hosting environment: Development
2025-03-30 00:51:03.026 +07:00 [INF] Content root path: C:\Users\phams\Desktop\Do an SP25\Backend\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-03-30 00:51:03.585 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger - -
2025-03-30 00:51:03.714 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger - - - 301 0 - 131.7189ms
2025-03-30 00:51:03.717 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-03-30 00:51:03.817 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 99.4988ms
2025-03-30 00:51:03.830 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/swagger-ui.css - -
2025-03-30 00:51:03.831 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/swagger-ui-bundle.js - -
2025-03-30 00:51:03.831 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/swagger-ui-standalone-preset.js - -
2025-03-30 00:51:03.831 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-03-30 00:51:03.835 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 13772 application/javascript;+charset=utf-8 4.3563ms
2025-03-30 00:51:03.842 +07:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2025-03-30 00:51:03.844 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/swagger-ui.css - - - 200 144929 text/css 13.3484ms
2025-03-30 00:51:03.845 +07:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2025-03-30 00:51:03.847 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/swagger-ui-standalone-preset.js - - - 200 312163 application/javascript 16.2359ms
2025-03-30 00:51:03.850 +07:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2025-03-30 00:51:03.852 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/swagger-ui-bundle.js - - - 200 1061536 application/javascript 21.8515ms
2025-03-30 00:51:03.860 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-03-30 00:51:03.892 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 32.4677ms
2025-03-30 00:51:04.052 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-03-30 00:51:04.159 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 107.0484ms
2025-03-30 00:51:23.385 +07:00 [INF] Request starting HTTP/2 PUT https://localhost:7257/api/order-detail/confirm/1 - 0
2025-03-30 00:51:23.411 +07:00 [INF] CORS policy execution failed.
2025-03-30 00:51:23.412 +07:00 [INF] Request origin https://localhost:7257 does not have permission to access the resource.
2025-03-30 00:51:23.436 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.ConfirmOrderPos (BepKhoiBackend.API)'
2025-03-30 00:51:23.457 +07:00 [INF] Route matched with {action = "ConfirmOrderPos", controller = "OrderDetailControllers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConfirmOrderPos(Int32) on controller BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers (BepKhoiBackend.API).
2025-03-30 00:51:24.186 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-03-30 00:51:25.532 +07:00 [ERR] An error occurred using the connection to database 'bepkhoi' on server '(local)'.
2025-03-30 00:51:25.558 +07:00 [ERR] An exception occurred while iterating over the results of a query for context type 'BepKhoiBackend.DataAccess.Models.bepkhoiContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Login failed for user 'sa'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:5989e771-cb9a-4402-b84b-585ac0e36873
Error Number:18456,State:1,Class:14
Microsoft.Data.SqlClient.SqlException (0x80131904): Login failed for user 'sa'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:5989e771-cb9a-4402-b84b-585ac0e36873
Error Number:18456,State:1,Class:14
2025-03-30 00:51:25.582 +07:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-30 00:51:25.598 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.ConfirmOrderPos (BepKhoiBackend.API) in 2136.5929ms
2025-03-30 00:51:25.601 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.ConfirmOrderPos (BepKhoiBackend.API)'
2025-03-30 00:51:25.605 +07:00 [INF] Request finished HTTP/2 PUT https://localhost:7257/api/order-detail/confirm/1 - 0 - 500 - application/json;+charset=utf-8 2219.4677ms
2025-03-30 00:52:16.535 +07:00 [INF] Request starting HTTP/2 PUT https://localhost:7257/api/order-detail/confirm/1 - 0
2025-03-30 00:52:16.539 +07:00 [INF] CORS policy execution failed.
2025-03-30 00:52:16.541 +07:00 [INF] Request origin https://localhost:7257 does not have permission to access the resource.
2025-03-30 00:52:16.543 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.ConfirmOrderPos (BepKhoiBackend.API)'
2025-03-30 00:52:16.545 +07:00 [INF] Route matched with {action = "ConfirmOrderPos", controller = "OrderDetailControllers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConfirmOrderPos(Int32) on controller BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers (BepKhoiBackend.API).
2025-03-30 00:52:16.553 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-03-30 00:52:17.632 +07:00 [INF] Executed DbCommand (39ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Order_detail_id], [o].[Order_id], [o].[Price], [o].[Product_id], [o].[Product_name], [o].[Product_note], [o].[Quantity], [o].[Status]
FROM [Order_detail] AS [o]
WHERE [o].[Order_id] = @__orderId_0
2025-03-30 00:52:17.705 +07:00 [INF] Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-30 00:52:17.708 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.ConfirmOrderPos (BepKhoiBackend.API) in 1160.8119ms
2025-03-30 00:52:17.709 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.ConfirmOrderPos (BepKhoiBackend.API)'
2025-03-30 00:52:17.710 +07:00 [INF] Request finished HTTP/2 PUT https://localhost:7257/api/order-detail/confirm/1 - 0 - 404 - application/json;+charset=utf-8 1174.7101ms
2025-03-30 00:52:47.140 +07:00 [INF] Request starting HTTP/2 PUT https://localhost:7257/api/order-detail/confirm/2 - 0
2025-03-30 00:52:47.141 +07:00 [INF] CORS policy execution failed.
2025-03-30 00:52:47.142 +07:00 [INF] Request origin https://localhost:7257 does not have permission to access the resource.
2025-03-30 00:52:47.144 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.ConfirmOrderPos (BepKhoiBackend.API)'
2025-03-30 00:52:47.145 +07:00 [INF] Route matched with {action = "ConfirmOrderPos", controller = "OrderDetailControllers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConfirmOrderPos(Int32) on controller BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers (BepKhoiBackend.API).
2025-03-30 00:52:47.183 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-03-30 00:52:47.189 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Order_detail_id], [o].[Order_id], [o].[Price], [o].[Product_id], [o].[Product_name], [o].[Product_note], [o].[Quantity], [o].[Status]
FROM [Order_detail] AS [o]
WHERE [o].[Order_id] = @__orderId_0
2025-03-30 00:52:47.193 +07:00 [INF] Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-30 00:52:47.194 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.ConfirmOrderPos (BepKhoiBackend.API) in 46.2792ms
2025-03-30 00:52:47.197 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.ConfirmOrderPos (BepKhoiBackend.API)'
2025-03-30 00:52:47.199 +07:00 [INF] Request finished HTTP/2 PUT https://localhost:7257/api/order-detail/confirm/2 - 0 - 404 - application/json;+charset=utf-8 59.2103ms
2025-03-30 00:56:01.746 +07:00 [INF] Request starting HTTP/2 PUT https://localhost:7257/api/order-detail/confirm/2 - 0
2025-03-30 00:56:01.747 +07:00 [INF] CORS policy execution failed.
2025-03-30 00:56:01.748 +07:00 [INF] Request origin https://localhost:7257 does not have permission to access the resource.
2025-03-30 00:56:01.749 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.ConfirmOrderPos (BepKhoiBackend.API)'
2025-03-30 00:56:01.751 +07:00 [INF] Route matched with {action = "ConfirmOrderPos", controller = "OrderDetailControllers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConfirmOrderPos(Int32) on controller BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers (BepKhoiBackend.API).
2025-03-30 00:56:01.754 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-03-30 00:56:01.759 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Order_detail_id], [o].[Order_id], [o].[Price], [o].[Product_id], [o].[Product_name], [o].[Product_note], [o].[Quantity], [o].[Status]
FROM [Order_detail] AS [o]
WHERE [o].[Order_id] = @__orderId_0
2025-03-30 00:56:01.764 +07:00 [INF] Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-30 00:56:01.765 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.ConfirmOrderPos (BepKhoiBackend.API) in 12.582ms
2025-03-30 00:56:01.767 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.ConfirmOrderPos (BepKhoiBackend.API)'
2025-03-30 00:56:01.769 +07:00 [INF] Request finished HTTP/2 PUT https://localhost:7257/api/order-detail/confirm/2 - 0 - 404 - application/json;+charset=utf-8 22.4568ms
2025-03-30 00:56:03.617 +07:00 [INF] Request starting HTTP/2 PUT https://localhost:7257/api/order-detail/confirm/2 - 0
2025-03-30 00:56:03.619 +07:00 [INF] CORS policy execution failed.
2025-03-30 00:56:03.619 +07:00 [INF] Request origin https://localhost:7257 does not have permission to access the resource.
2025-03-30 00:56:03.620 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.ConfirmOrderPos (BepKhoiBackend.API)'
2025-03-30 00:56:03.621 +07:00 [INF] Route matched with {action = "ConfirmOrderPos", controller = "OrderDetailControllers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConfirmOrderPos(Int32) on controller BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers (BepKhoiBackend.API).
2025-03-30 00:56:03.624 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-03-30 00:56:03.628 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Order_detail_id], [o].[Order_id], [o].[Price], [o].[Product_id], [o].[Product_name], [o].[Product_note], [o].[Quantity], [o].[Status]
FROM [Order_detail] AS [o]
WHERE [o].[Order_id] = @__orderId_0
2025-03-30 00:56:03.630 +07:00 [INF] Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-30 00:56:03.632 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.ConfirmOrderPos (BepKhoiBackend.API) in 8.6469ms
2025-03-30 00:56:03.633 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.ConfirmOrderPos (BepKhoiBackend.API)'
2025-03-30 00:56:03.634 +07:00 [INF] Request finished HTTP/2 PUT https://localhost:7257/api/order-detail/confirm/2 - 0 - 404 - application/json;+charset=utf-8 16.3580ms
2025-03-30 00:56:04.698 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-03-30 00:56:04.702 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 3.6362ms
2025-03-30 00:56:04.720 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-03-30 00:56:04.721 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 13772 application/javascript;+charset=utf-8 1.1385ms
2025-03-30 00:56:04.747 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-03-30 00:56:04.750 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 3.2797ms
2025-03-30 00:56:04.945 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-03-30 00:56:04.957 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/favicon-32x32.png - -
2025-03-30 00:56:04.959 +07:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2025-03-30 00:56:04.960 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/favicon-32x32.png - - - 200 628 image/png 2.4104ms
2025-03-30 00:56:04.968 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 22.7470ms
2025-03-30 00:56:14.101 +07:00 [INF] Request starting HTTP/2 PUT https://localhost:7257/api/order-detail/confirm/1 - 0
2025-03-30 00:56:14.103 +07:00 [INF] CORS policy execution failed.
2025-03-30 00:56:14.103 +07:00 [INF] Request origin https://localhost:7257 does not have permission to access the resource.
2025-03-30 00:56:14.104 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.ConfirmOrderPos (BepKhoiBackend.API)'
2025-03-30 00:56:14.105 +07:00 [INF] Route matched with {action = "ConfirmOrderPos", controller = "OrderDetailControllers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConfirmOrderPos(Int32) on controller BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers (BepKhoiBackend.API).
2025-03-30 00:56:14.109 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-03-30 00:56:14.115 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Order_detail_id], [o].[Order_id], [o].[Price], [o].[Product_id], [o].[Product_name], [o].[Product_note], [o].[Quantity], [o].[Status]
FROM [Order_detail] AS [o]
WHERE [o].[Order_id] = @__orderId_0
2025-03-30 00:56:14.117 +07:00 [INF] Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-30 00:56:14.119 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.ConfirmOrderPos (BepKhoiBackend.API) in 10.9537ms
2025-03-30 00:56:14.121 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.ConfirmOrderPos (BepKhoiBackend.API)'
2025-03-30 00:56:14.123 +07:00 [INF] Request finished HTTP/2 PUT https://localhost:7257/api/order-detail/confirm/1 - 0 - 404 - application/json;+charset=utf-8 21.5419ms
2025-03-30 00:56:36.333 +07:00 [INF] Request starting HTTP/2 PUT https://localhost:7257/api/order-detail/confirm/4 - 0
2025-03-30 00:56:36.334 +07:00 [INF] CORS policy execution failed.
2025-03-30 00:56:36.337 +07:00 [INF] Request origin https://localhost:7257 does not have permission to access the resource.
2025-03-30 00:56:36.338 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.ConfirmOrderPos (BepKhoiBackend.API)'
2025-03-30 00:56:36.339 +07:00 [INF] Route matched with {action = "ConfirmOrderPos", controller = "OrderDetailControllers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConfirmOrderPos(Int32) on controller BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers (BepKhoiBackend.API).
2025-03-30 00:56:36.343 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-03-30 00:56:36.348 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Order_detail_id], [o].[Order_id], [o].[Price], [o].[Product_id], [o].[Product_name], [o].[Product_note], [o].[Quantity], [o].[Status]
FROM [Order_detail] AS [o]
WHERE [o].[Order_id] = @__orderId_0
2025-03-30 00:56:36.397 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Order_detail] SET [Status] = @p0
WHERE [Order_detail_id] = @p1;
SELECT @@ROWCOUNT;
2025-03-30 00:56:36.416 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-30 00:56:36.418 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.ConfirmOrderPos (BepKhoiBackend.API) in 76.0268ms
2025-03-30 00:56:36.420 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.ConfirmOrderPos (BepKhoiBackend.API)'
2025-03-30 00:56:36.421 +07:00 [INF] Request finished HTTP/2 PUT https://localhost:7257/api/order-detail/confirm/4 - 0 - 200 - application/json;+charset=utf-8 88.2942ms
2025-03-30 00:56:49.423 +07:00 [INF] Request starting HTTP/2 PUT https://localhost:7257/api/order-detail/confirm/6 - 0
2025-03-30 00:56:49.426 +07:00 [INF] CORS policy execution failed.
2025-03-30 00:56:49.426 +07:00 [INF] Request origin https://localhost:7257 does not have permission to access the resource.
2025-03-30 00:56:49.427 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.ConfirmOrderPos (BepKhoiBackend.API)'
2025-03-30 00:56:49.428 +07:00 [INF] Route matched with {action = "ConfirmOrderPos", controller = "OrderDetailControllers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConfirmOrderPos(Int32) on controller BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers (BepKhoiBackend.API).
2025-03-30 00:56:49.432 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-03-30 00:56:49.434 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Order_detail_id], [o].[Order_id], [o].[Price], [o].[Product_id], [o].[Product_name], [o].[Product_note], [o].[Quantity], [o].[Status]
FROM [Order_detail] AS [o]
WHERE [o].[Order_id] = @__orderId_0
2025-03-30 00:56:49.440 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Order_detail] SET [Status] = @p0
WHERE [Order_detail_id] = @p1;
SELECT @@ROWCOUNT;
2025-03-30 00:56:49.443 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Order_detail] SET [Status] = @p0
WHERE [Order_detail_id] = @p1;
SELECT @@ROWCOUNT;
2025-03-30 00:56:49.445 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-30 00:56:49.446 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.ConfirmOrderPos (BepKhoiBackend.API) in 14.8074ms
2025-03-30 00:56:49.447 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.ConfirmOrderPos (BepKhoiBackend.API)'
2025-03-30 00:56:49.448 +07:00 [INF] Request finished HTTP/2 PUT https://localhost:7257/api/order-detail/confirm/6 - 0 - 200 - application/json;+charset=utf-8 24.6132ms
2025-03-30 00:56:54.895 +07:00 [INF] Request starting HTTP/2 PUT https://localhost:7257/api/order-detail/confirm/1 - 0
2025-03-30 00:56:54.896 +07:00 [INF] CORS policy execution failed.
2025-03-30 00:56:54.897 +07:00 [INF] Request origin https://localhost:7257 does not have permission to access the resource.
2025-03-30 00:56:54.898 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.ConfirmOrderPos (BepKhoiBackend.API)'
2025-03-30 00:56:54.899 +07:00 [INF] Route matched with {action = "ConfirmOrderPos", controller = "OrderDetailControllers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConfirmOrderPos(Int32) on controller BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers (BepKhoiBackend.API).
2025-03-30 00:56:54.901 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-03-30 00:56:54.903 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Order_detail_id], [o].[Order_id], [o].[Price], [o].[Product_id], [o].[Product_name], [o].[Product_note], [o].[Quantity], [o].[Status]
FROM [Order_detail] AS [o]
WHERE [o].[Order_id] = @__orderId_0
2025-03-30 00:56:54.905 +07:00 [INF] Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-30 00:56:54.906 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.ConfirmOrderPos (BepKhoiBackend.API) in 5.2536ms
2025-03-30 00:56:54.907 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.ConfirmOrderPos (BepKhoiBackend.API)'
2025-03-30 00:56:54.907 +07:00 [INF] Request finished HTTP/2 PUT https://localhost:7257/api/order-detail/confirm/1 - 0 - 404 - application/json;+charset=utf-8 12.6338ms
2025-03-30 01:01:48.682 +07:00 [INF] Request starting HTTP/2 PUT https://localhost:7257/api/order-detail/confirm/1 - 0
2025-03-30 01:01:48.683 +07:00 [INF] CORS policy execution failed.
2025-03-30 01:01:48.684 +07:00 [INF] Request origin https://localhost:7257 does not have permission to access the resource.
2025-03-30 01:01:48.687 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.ConfirmOrderPos (BepKhoiBackend.API)'
2025-03-30 01:01:48.688 +07:00 [INF] Route matched with {action = "ConfirmOrderPos", controller = "OrderDetailControllers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConfirmOrderPos(Int32) on controller BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers (BepKhoiBackend.API).
2025-03-30 01:01:48.691 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-03-30 01:01:48.696 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Order_detail_id], [o].[Order_id], [o].[Price], [o].[Product_id], [o].[Product_name], [o].[Product_note], [o].[Quantity], [o].[Status]
FROM [Order_detail] AS [o]
WHERE [o].[Order_id] = @__orderId_0
2025-03-30 01:01:48.698 +07:00 [INF] Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-30 01:01:48.699 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.ConfirmOrderPos (BepKhoiBackend.API) in 9.3339ms
2025-03-30 01:01:48.701 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.ConfirmOrderPos (BepKhoiBackend.API)'
2025-03-30 01:01:48.702 +07:00 [INF] Request finished HTTP/2 PUT https://localhost:7257/api/order-detail/confirm/1 - 0 - 404 - application/json;+charset=utf-8 20.0096ms
2025-03-30 01:01:50.808 +07:00 [INF] Request starting HTTP/2 PUT https://localhost:7257/api/order-detail/confirm/1 - 0
2025-03-30 01:01:50.810 +07:00 [INF] CORS policy execution failed.
2025-03-30 01:01:50.810 +07:00 [INF] Request origin https://localhost:7257 does not have permission to access the resource.
2025-03-30 01:01:50.811 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.ConfirmOrderPos (BepKhoiBackend.API)'
2025-03-30 01:01:50.812 +07:00 [INF] Route matched with {action = "ConfirmOrderPos", controller = "OrderDetailControllers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConfirmOrderPos(Int32) on controller BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers (BepKhoiBackend.API).
2025-03-30 01:01:50.815 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-03-30 01:01:50.819 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Order_detail_id], [o].[Order_id], [o].[Price], [o].[Product_id], [o].[Product_name], [o].[Product_note], [o].[Quantity], [o].[Status]
FROM [Order_detail] AS [o]
WHERE [o].[Order_id] = @__orderId_0
2025-03-30 01:01:50.822 +07:00 [INF] Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-30 01:01:50.823 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.ConfirmOrderPos (BepKhoiBackend.API) in 10.0875ms
2025-03-30 01:01:50.824 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.ConfirmOrderPos (BepKhoiBackend.API)'
2025-03-30 01:01:50.825 +07:00 [INF] Request finished HTTP/2 PUT https://localhost:7257/api/order-detail/confirm/1 - 0 - 404 - application/json;+charset=utf-8 17.3849ms
2025-03-30 01:01:54.370 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-03-30 01:01:54.375 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 4.1763ms
2025-03-30 01:01:54.404 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-03-30 01:01:54.405 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 13772 application/javascript;+charset=utf-8 1.2176ms
2025-03-30 01:01:54.417 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-03-30 01:01:54.420 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 2.5667ms
2025-03-30 01:01:54.558 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-03-30 01:01:54.583 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 24.4348ms
2025-03-30 01:02:04.395 +07:00 [INF] Request starting HTTP/2 PUT https://localhost:7257/api/order-detail/confirm/1 - 0
2025-03-30 01:02:04.397 +07:00 [INF] CORS policy execution failed.
2025-03-30 01:02:04.397 +07:00 [INF] Request origin https://localhost:7257 does not have permission to access the resource.
2025-03-30 01:02:04.398 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.ConfirmOrderPos (BepKhoiBackend.API)'
2025-03-30 01:02:04.402 +07:00 [INF] Route matched with {action = "ConfirmOrderPos", controller = "OrderDetailControllers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConfirmOrderPos(Int32) on controller BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers (BepKhoiBackend.API).
2025-03-30 01:02:04.405 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-03-30 01:02:04.410 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Order_detail_id], [o].[Order_id], [o].[Price], [o].[Product_id], [o].[Product_name], [o].[Product_note], [o].[Quantity], [o].[Status]
FROM [Order_detail] AS [o]
WHERE [o].[Order_id] = @__orderId_0
2025-03-30 01:02:04.414 +07:00 [INF] Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-30 01:02:04.415 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.ConfirmOrderPos (BepKhoiBackend.API) in 11.2549ms
2025-03-30 01:02:04.417 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.ConfirmOrderPos (BepKhoiBackend.API)'
2025-03-30 01:02:04.419 +07:00 [INF] Request finished HTTP/2 PUT https://localhost:7257/api/order-detail/confirm/1 - 0 - 404 - application/json;+charset=utf-8 23.3382ms
2025-03-30 01:02:16.027 +07:00 [INF] Request starting HTTP/2 PUT https://localhost:7257/api/order-detail/confirm/5 - 0
2025-03-30 01:02:16.029 +07:00 [INF] CORS policy execution failed.
2025-03-30 01:02:16.029 +07:00 [INF] Request origin https://localhost:7257 does not have permission to access the resource.
2025-03-30 01:02:16.030 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.ConfirmOrderPos (BepKhoiBackend.API)'
2025-03-30 01:02:16.031 +07:00 [INF] Route matched with {action = "ConfirmOrderPos", controller = "OrderDetailControllers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConfirmOrderPos(Int32) on controller BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers (BepKhoiBackend.API).
2025-03-30 01:02:16.034 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-03-30 01:02:16.037 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Order_detail_id], [o].[Order_id], [o].[Price], [o].[Product_id], [o].[Product_name], [o].[Product_note], [o].[Quantity], [o].[Status]
FROM [Order_detail] AS [o]
WHERE [o].[Order_id] = @__orderId_0
2025-03-30 01:02:16.043 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Order_detail] SET [Status] = @p0
WHERE [Order_detail_id] = @p1;
SELECT @@ROWCOUNT;
2025-03-30 01:02:16.046 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-30 01:02:16.047 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.ConfirmOrderPos (BepKhoiBackend.API) in 13.884ms
2025-03-30 01:02:16.048 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.ConfirmOrderPos (BepKhoiBackend.API)'
2025-03-30 01:02:16.049 +07:00 [INF] Request finished HTTP/2 PUT https://localhost:7257/api/order-detail/confirm/5 - 0 - 200 - application/json;+charset=utf-8 22.1915ms
2025-03-30 01:02:19.917 +07:00 [INF] Request starting HTTP/2 PUT https://localhost:7257/api/order-detail/confirm/1 - 0
2025-03-30 01:02:19.918 +07:00 [INF] CORS policy execution failed.
2025-03-30 01:02:19.919 +07:00 [INF] Request origin https://localhost:7257 does not have permission to access the resource.
2025-03-30 01:02:19.919 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.ConfirmOrderPos (BepKhoiBackend.API)'
2025-03-30 01:02:19.920 +07:00 [INF] Route matched with {action = "ConfirmOrderPos", controller = "OrderDetailControllers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConfirmOrderPos(Int32) on controller BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers (BepKhoiBackend.API).
2025-03-30 01:02:19.923 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-03-30 01:02:19.925 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Order_detail_id], [o].[Order_id], [o].[Price], [o].[Product_id], [o].[Product_name], [o].[Product_note], [o].[Quantity], [o].[Status]
FROM [Order_detail] AS [o]
WHERE [o].[Order_id] = @__orderId_0
2025-03-30 01:02:19.926 +07:00 [INF] Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-30 01:02:19.927 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.ConfirmOrderPos (BepKhoiBackend.API) in 4.9311ms
2025-03-30 01:02:19.928 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.ConfirmOrderPos (BepKhoiBackend.API)'
2025-03-30 01:02:19.929 +07:00 [INF] Request finished HTTP/2 PUT https://localhost:7257/api/order-detail/confirm/1 - 0 - 404 - application/json;+charset=utf-8 12.3959ms
2025-03-30 01:03:06.742 +07:00 [INF] Request starting HTTP/2 PUT https://localhost:7257/api/order-detail/confirm/1 - 0
2025-03-30 01:03:06.743 +07:00 [INF] CORS policy execution failed.
2025-03-30 01:03:06.743 +07:00 [INF] Request origin https://localhost:7257 does not have permission to access the resource.
2025-03-30 01:03:06.746 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.ConfirmOrderPos (BepKhoiBackend.API)'
2025-03-30 01:03:06.747 +07:00 [INF] Route matched with {action = "ConfirmOrderPos", controller = "OrderDetailControllers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConfirmOrderPos(Int32) on controller BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers (BepKhoiBackend.API).
2025-03-30 01:03:06.750 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-03-30 01:03:06.755 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Order_detail_id], [o].[Order_id], [o].[Price], [o].[Product_id], [o].[Product_name], [o].[Product_note], [o].[Quantity], [o].[Status]
FROM [Order_detail] AS [o]
WHERE [o].[Order_id] = @__orderId_0
2025-03-30 01:03:06.757 +07:00 [INF] Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-30 01:03:06.758 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.ConfirmOrderPos (BepKhoiBackend.API) in 8.732ms
2025-03-30 01:03:06.760 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.ConfirmOrderPos (BepKhoiBackend.API)'
2025-03-30 01:03:06.761 +07:00 [INF] Request finished HTTP/2 PUT https://localhost:7257/api/order-detail/confirm/1 - 0 - 404 - application/json;+charset=utf-8 19.1542ms
2025-03-30 01:03:08.019 +07:00 [INF] Request starting HTTP/2 PUT https://localhost:7257/api/order-detail/confirm/1 - 0
2025-03-30 01:03:08.020 +07:00 [INF] CORS policy execution failed.
2025-03-30 01:03:08.021 +07:00 [INF] Request origin https://localhost:7257 does not have permission to access the resource.
2025-03-30 01:03:08.022 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.ConfirmOrderPos (BepKhoiBackend.API)'
2025-03-30 01:03:08.022 +07:00 [INF] Route matched with {action = "ConfirmOrderPos", controller = "OrderDetailControllers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConfirmOrderPos(Int32) on controller BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers (BepKhoiBackend.API).
2025-03-30 01:03:08.027 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-03-30 01:03:08.029 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Order_detail_id], [o].[Order_id], [o].[Price], [o].[Product_id], [o].[Product_name], [o].[Product_note], [o].[Quantity], [o].[Status]
FROM [Order_detail] AS [o]
WHERE [o].[Order_id] = @__orderId_0
2025-03-30 01:03:08.033 +07:00 [INF] Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-30 01:03:08.035 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.ConfirmOrderPos (BepKhoiBackend.API) in 8.9726ms
2025-03-30 01:03:08.036 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.ConfirmOrderPos (BepKhoiBackend.API)'
2025-03-30 01:03:08.037 +07:00 [INF] Request finished HTTP/2 PUT https://localhost:7257/api/order-detail/confirm/1 - 0 - 404 - application/json;+charset=utf-8 17.8285ms
2025-03-30 01:03:08.627 +07:00 [INF] Request starting HTTP/2 PUT https://localhost:7257/api/order-detail/confirm/1 - 0
2025-03-30 01:03:08.629 +07:00 [INF] CORS policy execution failed.
2025-03-30 01:03:08.629 +07:00 [INF] Request origin https://localhost:7257 does not have permission to access the resource.
2025-03-30 01:03:08.630 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.ConfirmOrderPos (BepKhoiBackend.API)'
2025-03-30 01:03:08.631 +07:00 [INF] Route matched with {action = "ConfirmOrderPos", controller = "OrderDetailControllers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConfirmOrderPos(Int32) on controller BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers (BepKhoiBackend.API).
2025-03-30 01:03:08.633 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-03-30 01:03:08.636 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Order_detail_id], [o].[Order_id], [o].[Price], [o].[Product_id], [o].[Product_name], [o].[Product_note], [o].[Quantity], [o].[Status]
FROM [Order_detail] AS [o]
WHERE [o].[Order_id] = @__orderId_0
2025-03-30 01:03:08.638 +07:00 [INF] Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-30 01:03:08.639 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.ConfirmOrderPos (BepKhoiBackend.API) in 7.0292ms
2025-03-30 01:03:08.641 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.ConfirmOrderPos (BepKhoiBackend.API)'
2025-03-30 01:03:08.641 +07:00 [INF] Request finished HTTP/2 PUT https://localhost:7257/api/order-detail/confirm/1 - 0 - 404 - application/json;+charset=utf-8 14.1803ms
2025-03-30 01:03:09.346 +07:00 [INF] Request starting HTTP/2 PUT https://localhost:7257/api/order-detail/confirm/1 - 0
2025-03-30 01:03:09.348 +07:00 [INF] CORS policy execution failed.
2025-03-30 01:03:09.348 +07:00 [INF] Request origin https://localhost:7257 does not have permission to access the resource.
2025-03-30 01:03:09.349 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.ConfirmOrderPos (BepKhoiBackend.API)'
2025-03-30 01:03:09.350 +07:00 [INF] Route matched with {action = "ConfirmOrderPos", controller = "OrderDetailControllers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConfirmOrderPos(Int32) on controller BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers (BepKhoiBackend.API).
2025-03-30 01:03:09.353 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-03-30 01:03:09.356 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Order_detail_id], [o].[Order_id], [o].[Price], [o].[Product_id], [o].[Product_name], [o].[Product_note], [o].[Quantity], [o].[Status]
FROM [Order_detail] AS [o]
WHERE [o].[Order_id] = @__orderId_0
2025-03-30 01:03:09.359 +07:00 [INF] Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-30 01:03:09.361 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.ConfirmOrderPos (BepKhoiBackend.API) in 8.8134ms
2025-03-30 01:03:09.362 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.ConfirmOrderPos (BepKhoiBackend.API)'
2025-03-30 01:03:09.363 +07:00 [INF] Request finished HTTP/2 PUT https://localhost:7257/api/order-detail/confirm/1 - 0 - 404 - application/json;+charset=utf-8 16.5164ms
2025-03-30 01:04:30.754 +07:00 [INF] Request starting HTTP/2 PUT https://localhost:7257/api/order-detail/confirm/1 - 0
2025-03-30 01:04:30.756 +07:00 [INF] CORS policy execution failed.
2025-03-30 01:04:30.756 +07:00 [INF] Request origin https://localhost:7257 does not have permission to access the resource.
2025-03-30 01:04:30.757 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.ConfirmOrderPos (BepKhoiBackend.API)'
2025-03-30 01:04:30.759 +07:00 [INF] Route matched with {action = "ConfirmOrderPos", controller = "OrderDetailControllers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConfirmOrderPos(Int32) on controller BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers (BepKhoiBackend.API).
2025-03-30 01:04:30.762 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-03-30 01:04:30.767 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Order_detail_id], [o].[Order_id], [o].[Price], [o].[Product_id], [o].[Product_name], [o].[Product_note], [o].[Quantity], [o].[Status]
FROM [Order_detail] AS [o]
WHERE [o].[Order_id] = @__orderId_0
2025-03-30 01:04:30.771 +07:00 [INF] Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-30 01:04:30.773 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.ConfirmOrderPos (BepKhoiBackend.API) in 10.6821ms
2025-03-30 01:04:30.774 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.ConfirmOrderPos (BepKhoiBackend.API)'
2025-03-30 01:04:30.777 +07:00 [INF] Request finished HTTP/2 PUT https://localhost:7257/api/order-detail/confirm/1 - 0 - 404 - application/json;+charset=utf-8 22.8516ms
2025-03-30 01:04:43.258 +07:00 [INF] User profile is available. Using 'C:\Users\phams\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-30 01:04:43.371 +07:00 [INF] Now listening on: https://localhost:7257
2025-03-30 01:04:43.372 +07:00 [INF] Now listening on: http://localhost:5287
2025-03-30 01:04:43.375 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-30 01:04:43.375 +07:00 [INF] Hosting environment: Development
2025-03-30 01:04:43.376 +07:00 [INF] Content root path: C:\Users\phams\Desktop\Do an SP25\Backend\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-03-30 01:04:43.978 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-03-30 01:04:44.147 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 171.6608ms
2025-03-30 01:04:44.164 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-03-30 01:04:44.167 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 13772 application/javascript;+charset=utf-8 2.9305ms
2025-03-30 01:04:44.192 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-03-30 01:04:44.218 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 25.2752ms
2025-03-30 01:04:44.327 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-03-30 01:04:44.432 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 104.8438ms
2025-03-30 01:04:54.448 +07:00 [INF] Request starting HTTP/2 PUT https://localhost:7257/api/order-detail/confirm/1 - 0
2025-03-30 01:04:54.474 +07:00 [INF] CORS policy execution failed.
2025-03-30 01:04:54.475 +07:00 [INF] Request origin https://localhost:7257 does not have permission to access the resource.
2025-03-30 01:04:54.493 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.ConfirmOrderPos (BepKhoiBackend.API)'
2025-03-30 01:04:54.511 +07:00 [INF] Route matched with {action = "ConfirmOrderPos", controller = "OrderDetailControllers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConfirmOrderPos(Int32) on controller BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers (BepKhoiBackend.API).
2025-03-30 01:04:55.172 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-03-30 01:04:56.519 +07:00 [INF] Executed DbCommand (31ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Order_detail_id], [o].[Order_id], [o].[Price], [o].[Product_id], [o].[Product_name], [o].[Product_note], [o].[Quantity], [o].[Status]
FROM [Order_detail] AS [o]
WHERE [o].[Order_id] = @__orderId_0
2025-03-30 01:04:56.578 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-30 01:04:56.594 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.ConfirmOrderPos (BepKhoiBackend.API) in 2077.7698ms
2025-03-30 01:04:56.596 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.ConfirmOrderPos (BepKhoiBackend.API)'
2025-03-30 01:04:56.600 +07:00 [INF] Request finished HTTP/2 PUT https://localhost:7257/api/order-detail/confirm/1 - 0 - 200 - application/json;+charset=utf-8 2152.2054ms
2025-03-30 01:05:02.451 +07:00 [INF] Request starting HTTP/2 PUT https://localhost:7257/api/order-detail/confirm/2 - 0
2025-03-30 01:05:02.455 +07:00 [INF] CORS policy execution failed.
2025-03-30 01:05:02.456 +07:00 [INF] Request origin https://localhost:7257 does not have permission to access the resource.
2025-03-30 01:05:02.457 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.ConfirmOrderPos (BepKhoiBackend.API)'
2025-03-30 01:05:02.459 +07:00 [INF] Route matched with {action = "ConfirmOrderPos", controller = "OrderDetailControllers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConfirmOrderPos(Int32) on controller BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers (BepKhoiBackend.API).
2025-03-30 01:05:02.468 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-03-30 01:05:02.475 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Order_detail_id], [o].[Order_id], [o].[Price], [o].[Product_id], [o].[Product_name], [o].[Product_note], [o].[Quantity], [o].[Status]
FROM [Order_detail] AS [o]
WHERE [o].[Order_id] = @__orderId_0
2025-03-30 01:05:02.478 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-30 01:05:02.479 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.ConfirmOrderPos (BepKhoiBackend.API) in 18.1729ms
2025-03-30 01:05:02.480 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.ConfirmOrderPos (BepKhoiBackend.API)'
2025-03-30 01:05:02.481 +07:00 [INF] Request finished HTTP/2 PUT https://localhost:7257/api/order-detail/confirm/2 - 0 - 200 - application/json;+charset=utf-8 29.8186ms
2025-03-30 01:05:05.856 +07:00 [INF] Request starting HTTP/2 PUT https://localhost:7257/api/order-detail/confirm/6 - 0
2025-03-30 01:05:05.858 +07:00 [INF] CORS policy execution failed.
2025-03-30 01:05:05.859 +07:00 [INF] Request origin https://localhost:7257 does not have permission to access the resource.
2025-03-30 01:05:05.861 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.ConfirmOrderPos (BepKhoiBackend.API)'
2025-03-30 01:05:05.862 +07:00 [INF] Route matched with {action = "ConfirmOrderPos", controller = "OrderDetailControllers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConfirmOrderPos(Int32) on controller BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers (BepKhoiBackend.API).
2025-03-30 01:05:05.897 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-03-30 01:05:05.902 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Order_detail_id], [o].[Order_id], [o].[Price], [o].[Product_id], [o].[Product_name], [o].[Product_note], [o].[Quantity], [o].[Status]
FROM [Order_detail] AS [o]
WHERE [o].[Order_id] = @__orderId_0
2025-03-30 01:05:05.904 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-30 01:05:05.905 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.ConfirmOrderPos (BepKhoiBackend.API) in 41.7516ms
2025-03-30 01:05:05.906 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.ConfirmOrderPos (BepKhoiBackend.API)'
2025-03-30 01:05:05.907 +07:00 [INF] Request finished HTTP/2 PUT https://localhost:7257/api/order-detail/confirm/6 - 0 - 200 - application/json;+charset=utf-8 51.1161ms
2025-03-30 01:05:08.390 +07:00 [INF] Request starting HTTP/2 PUT https://localhost:7257/api/order-detail/confirm/7 - 0
2025-03-30 01:05:08.391 +07:00 [INF] CORS policy execution failed.
2025-03-30 01:05:08.393 +07:00 [INF] Request origin https://localhost:7257 does not have permission to access the resource.
2025-03-30 01:05:08.393 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.ConfirmOrderPos (BepKhoiBackend.API)'
2025-03-30 01:05:08.394 +07:00 [INF] Route matched with {action = "ConfirmOrderPos", controller = "OrderDetailControllers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConfirmOrderPos(Int32) on controller BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers (BepKhoiBackend.API).
2025-03-30 01:05:08.396 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-03-30 01:05:08.400 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Order_detail_id], [o].[Order_id], [o].[Price], [o].[Product_id], [o].[Product_name], [o].[Product_note], [o].[Quantity], [o].[Status]
FROM [Order_detail] AS [o]
WHERE [o].[Order_id] = @__orderId_0
2025-03-30 01:05:08.402 +07:00 [INF] Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-30 01:05:08.403 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.ConfirmOrderPos (BepKhoiBackend.API) in 7.2148ms
2025-03-30 01:05:08.404 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.ConfirmOrderPos (BepKhoiBackend.API)'
2025-03-30 01:05:08.405 +07:00 [INF] Request finished HTTP/2 PUT https://localhost:7257/api/order-detail/confirm/7 - 0 - 404 - application/json;+charset=utf-8 14.6679ms
2025-03-30 01:06:34.154 +07:00 [INF] Request starting HTTP/2 PUT https://localhost:7257/api/order-detail/confirm/1 - 0
2025-03-30 01:06:34.156 +07:00 [INF] CORS policy execution failed.
2025-03-30 01:06:34.156 +07:00 [INF] Request origin https://localhost:7257 does not have permission to access the resource.
2025-03-30 01:06:34.157 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.ConfirmOrderPos (BepKhoiBackend.API)'
2025-03-30 01:06:34.158 +07:00 [INF] Route matched with {action = "ConfirmOrderPos", controller = "OrderDetailControllers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConfirmOrderPos(Int32) on controller BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers (BepKhoiBackend.API).
2025-03-30 01:06:34.162 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-03-30 01:06:34.166 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Order_detail_id], [o].[Order_id], [o].[Price], [o].[Product_id], [o].[Product_name], [o].[Product_note], [o].[Quantity], [o].[Status]
FROM [Order_detail] AS [o]
WHERE [o].[Order_id] = @__orderId_0
2025-03-30 01:06:34.169 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-30 01:06:34.170 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.ConfirmOrderPos (BepKhoiBackend.API) in 9.0771ms
2025-03-30 01:06:34.172 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.ConfirmOrderPos (BepKhoiBackend.API)'
2025-03-30 01:06:34.174 +07:00 [INF] Request finished HTTP/2 PUT https://localhost:7257/api/order-detail/confirm/1 - 0 - 200 - application/json;+charset=utf-8 19.7218ms
2025-03-30 01:06:36.293 +07:00 [INF] Request starting HTTP/2 PUT https://localhost:7257/api/order-detail/confirm/1 - 0
2025-03-30 01:06:36.296 +07:00 [INF] CORS policy execution failed.
2025-03-30 01:06:36.296 +07:00 [INF] Request origin https://localhost:7257 does not have permission to access the resource.
2025-03-30 01:06:36.297 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.ConfirmOrderPos (BepKhoiBackend.API)'
2025-03-30 01:06:36.300 +07:00 [INF] Route matched with {action = "ConfirmOrderPos", controller = "OrderDetailControllers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConfirmOrderPos(Int32) on controller BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers (BepKhoiBackend.API).
2025-03-30 01:06:36.303 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-03-30 01:06:36.307 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Order_detail_id], [o].[Order_id], [o].[Price], [o].[Product_id], [o].[Product_name], [o].[Product_note], [o].[Quantity], [o].[Status]
FROM [Order_detail] AS [o]
WHERE [o].[Order_id] = @__orderId_0
2025-03-30 01:06:36.311 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-30 01:06:36.312 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.ConfirmOrderPos (BepKhoiBackend.API) in 9.9903ms
2025-03-30 01:06:36.314 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.ConfirmOrderPos (BepKhoiBackend.API)'
2025-03-30 01:06:36.316 +07:00 [INF] Request finished HTTP/2 PUT https://localhost:7257/api/order-detail/confirm/1 - 0 - 200 - application/json;+charset=utf-8 22.1381ms
2025-03-30 05:23:48.380 +07:00 [INF] User profile is available. Using 'C:\Users\phams\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-30 05:23:48.485 +07:00 [INF] Now listening on: https://localhost:7257
2025-03-30 05:23:48.486 +07:00 [INF] Now listening on: http://localhost:5287
2025-03-30 05:23:48.489 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-30 05:23:48.490 +07:00 [INF] Hosting environment: Development
2025-03-30 05:23:48.491 +07:00 [INF] Content root path: C:\Users\phams\Desktop\Do an SP25\Backend\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-03-30 05:23:49.001 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-03-30 05:23:49.178 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 178.6841ms
2025-03-30 05:23:49.196 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-03-30 05:23:49.199 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 13772 application/javascript;+charset=utf-8 2.9336ms
2025-03-30 05:23:49.222 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-03-30 05:23:49.245 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 22.6368ms
2025-03-30 05:23:49.362 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-03-30 05:23:49.465 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 102.2194ms
2025-03-30 05:26:27.979 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7257/api/order-detail/SplitOrderPos application/json 217
2025-03-30 05:26:27.999 +07:00 [INF] CORS policy execution failed.
2025-03-30 05:26:28.001 +07:00 [INF] Request origin https://localhost:7257 does not have permission to access the resource.
2025-03-30 05:26:28.020 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.SplitOrderPos (BepKhoiBackend.API)'
2025-03-30 05:26:28.037 +07:00 [INF] Route matched with {action = "SplitOrderPos", controller = "OrderDetailControllers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SplitOrderPos(BepKhoiBackend.BusinessObject.dtos.OrderDetailDto.SplitOrderPosRquest) on controller BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers (BepKhoiBackend.API).
2025-03-30 05:26:28.745 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-03-30 05:26:30.085 +07:00 [INF] Executed DbCommand (30ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Order] AS [o]
        WHERE [o].[Order_id] = @__orderId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-30 05:26:30.107 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Order] AS [o]
        WHERE [o].[Order_id] = @__orderId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-30 05:26:30.141 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__sourceOrderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Order_detail_id], [o].[Order_id], [o].[Price], [o].[Product_id], [o].[Product_name], [o].[Product_note], [o].[Quantity], [o].[Status]
FROM [Order_detail] AS [o]
WHERE [o].[Order_id] = @__sourceOrderId_0
2025-03-30 05:26:30.178 +07:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-30 05:26:30.194 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.SplitOrderPos (BepKhoiBackend.API) in 2151.2852ms
2025-03-30 05:26:30.196 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.SplitOrderPos (BepKhoiBackend.API)'
2025-03-30 05:26:30.201 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7257/api/order-detail/SplitOrderPos application/json 217 - 500 - application/json;+charset=utf-8 2221.8361ms
2025-03-30 05:26:42.719 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7257/api/order-detail/SplitOrderPos application/json 217
2025-03-30 05:26:42.723 +07:00 [INF] CORS policy execution failed.
2025-03-30 05:26:42.723 +07:00 [INF] Request origin https://localhost:7257 does not have permission to access the resource.
2025-03-30 05:26:42.729 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.SplitOrderPos (BepKhoiBackend.API)'
2025-03-30 05:26:42.730 +07:00 [INF] Route matched with {action = "SplitOrderPos", controller = "OrderDetailControllers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SplitOrderPos(BepKhoiBackend.BusinessObject.dtos.OrderDetailDto.SplitOrderPosRquest) on controller BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers (BepKhoiBackend.API).
2025-03-30 05:26:42.737 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-03-30 05:26:42.740 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Order] AS [o]
        WHERE [o].[Order_id] = @__orderId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-30 05:26:42.742 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Order] AS [o]
        WHERE [o].[Order_id] = @__orderId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-30 05:26:42.744 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__sourceOrderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Order_detail_id], [o].[Order_id], [o].[Price], [o].[Product_id], [o].[Product_name], [o].[Product_note], [o].[Quantity], [o].[Status]
FROM [Order_detail] AS [o]
WHERE [o].[Order_id] = @__sourceOrderId_0
2025-03-30 05:26:42.754 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__8__locals1_targetOrderId_0='?' (DbType = Int32), @__productId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Order_detail_id], [o].[Order_id], [o].[Price], [o].[Product_id], [o].[Product_name], [o].[Product_note], [o].[Quantity], [o].[Status]
FROM [Order_detail] AS [o]
WHERE ([o].[Order_id] = @__8__locals1_targetOrderId_0) AND ([o].[Product_id] = @__productId_1)
2025-03-30 05:26:42.844 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Order_id], [t].[Amount_due], [t].[Created_time], [t].[Customer_id], [t].[Delivery_information_id], [t].[Order_note], [t].[Order_status_id], [t].[Order_type_id], [t].[Room_id], [t].[Shipper_id], [t].[Total_quantity], [o0].[Order_detail_id], [o0].[Order_id], [o0].[Price], [o0].[Product_id], [o0].[Product_name], [o0].[Product_note], [o0].[Quantity], [o0].[Status]
FROM (
    SELECT TOP(1) [o].[Order_id], [o].[Amount_due], [o].[Created_time], [o].[Customer_id], [o].[Delivery_information_id], [o].[Order_note], [o].[Order_status_id], [o].[Order_type_id], [o].[Room_id], [o].[Shipper_id], [o].[Total_quantity]
    FROM [Order] AS [o]
    WHERE [o].[Order_id] = @__orderId_0
) AS [t]
LEFT JOIN [Order_detail] AS [o0] ON [t].[Order_id] = [o0].[Order_id]
ORDER BY [t].[Order_id]
2025-03-30 05:26:42.975 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[@p10='?' (DbType = Int32), @p0='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 255), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Order] SET [Amount_due] = @p0, [Created_time] = @p1, [Customer_id] = @p2, [Delivery_information_id] = @p3, [Order_note] = @p4, [Order_status_id] = @p5, [Order_type_id] = @p6, [Room_id] = @p7, [Shipper_id] = @p8, [Total_quantity] = @p9
WHERE [Order_id] = @p10;
SELECT @@ROWCOUNT;
2025-03-30 05:26:42.985 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [Order_detail]
WHERE [Order_detail_id] = @p0;
SELECT @@ROWCOUNT;
2025-03-30 05:26:43.002 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='?' (DbType = Int32), @p2='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p3='?' (DbType = Int32), @p4='?' (Size = 100), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Order_detail] ([Order_id], [Price], [Product_id], [Product_name], [Product_note], [Quantity], [Status])
VALUES (@p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT [Order_detail_id]
FROM [Order_detail]
WHERE @@ROWCOUNT = 1 AND [Order_detail_id] = scope_identity();
2025-03-30 05:26:43.032 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Order_id], [t].[Amount_due], [t].[Created_time], [t].[Customer_id], [t].[Delivery_information_id], [t].[Order_note], [t].[Order_status_id], [t].[Order_type_id], [t].[Room_id], [t].[Shipper_id], [t].[Total_quantity], [o0].[Order_detail_id], [o0].[Order_id], [o0].[Price], [o0].[Product_id], [o0].[Product_name], [o0].[Product_note], [o0].[Quantity], [o0].[Status]
FROM (
    SELECT TOP(1) [o].[Order_id], [o].[Amount_due], [o].[Created_time], [o].[Customer_id], [o].[Delivery_information_id], [o].[Order_note], [o].[Order_status_id], [o].[Order_type_id], [o].[Room_id], [o].[Shipper_id], [o].[Total_quantity]
    FROM [Order] AS [o]
    WHERE [o].[Order_id] = @__orderId_0
) AS [t]
LEFT JOIN [Order_detail] AS [o0] ON [t].[Order_id] = [o0].[Order_id]
ORDER BY [t].[Order_id]
2025-03-30 05:26:43.040 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@p10='?' (DbType = Int32), @p0='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 255), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Order] SET [Amount_due] = @p0, [Created_time] = @p1, [Customer_id] = @p2, [Delivery_information_id] = @p3, [Order_note] = @p4, [Order_status_id] = @p5, [Order_type_id] = @p6, [Room_id] = @p7, [Shipper_id] = @p8, [Total_quantity] = @p9
WHERE [Order_id] = @p10;
SELECT @@ROWCOUNT;
2025-03-30 05:26:43.044 +07:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-30 05:26:43.046 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.SplitOrderPos (BepKhoiBackend.API) in 314.149ms
2025-03-30 05:26:43.047 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.SplitOrderPos (BepKhoiBackend.API)'
2025-03-30 05:26:43.048 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7257/api/order-detail/SplitOrderPos application/json 217 - 400 - application/json;+charset=utf-8 329.8763ms
2025-03-30 05:29:15.378 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7257/api/order-detail/SplitOrderPos application/json 217
2025-03-30 05:29:15.379 +07:00 [INF] CORS policy execution failed.
2025-03-30 05:29:15.379 +07:00 [INF] Request origin https://localhost:7257 does not have permission to access the resource.
2025-03-30 05:29:15.381 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.SplitOrderPos (BepKhoiBackend.API)'
2025-03-30 05:29:15.382 +07:00 [INF] Route matched with {action = "SplitOrderPos", controller = "OrderDetailControllers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SplitOrderPos(BepKhoiBackend.BusinessObject.dtos.OrderDetailDto.SplitOrderPosRquest) on controller BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers (BepKhoiBackend.API).
2025-03-30 05:29:15.418 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-03-30 05:29:15.423 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Order] AS [o]
        WHERE [o].[Order_id] = @__orderId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-30 05:29:15.425 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Order] AS [o]
        WHERE [o].[Order_id] = @__orderId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-30 05:29:15.427 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__sourceOrderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Order_detail_id], [o].[Order_id], [o].[Price], [o].[Product_id], [o].[Product_name], [o].[Product_note], [o].[Quantity], [o].[Status]
FROM [Order_detail] AS [o]
WHERE [o].[Order_id] = @__sourceOrderId_0
2025-03-30 05:29:15.429 +07:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-30 05:29:15.431 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.SplitOrderPos (BepKhoiBackend.API) in 46.9659ms
2025-03-30 05:29:15.432 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.SplitOrderPos (BepKhoiBackend.API)'
2025-03-30 05:29:15.433 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7257/api/order-detail/SplitOrderPos application/json 217 - 500 - application/json;+charset=utf-8 55.2342ms
2025-03-30 05:30:50.743 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7257/api/order-detail/SplitOrderPos application/json 217
2025-03-30 05:30:50.745 +07:00 [INF] CORS policy execution failed.
2025-03-30 05:30:50.746 +07:00 [INF] Request origin https://localhost:7257 does not have permission to access the resource.
2025-03-30 05:30:50.747 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.SplitOrderPos (BepKhoiBackend.API)'
2025-03-30 05:30:50.748 +07:00 [INF] Route matched with {action = "SplitOrderPos", controller = "OrderDetailControllers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SplitOrderPos(BepKhoiBackend.BusinessObject.dtos.OrderDetailDto.SplitOrderPosRquest) on controller BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers (BepKhoiBackend.API).
2025-03-30 05:30:50.751 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-03-30 05:30:50.754 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Order] AS [o]
        WHERE [o].[Order_id] = @__orderId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-30 05:30:50.756 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Order] AS [o]
        WHERE [o].[Order_id] = @__orderId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-30 05:30:50.759 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__sourceOrderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Order_detail_id], [o].[Order_id], [o].[Price], [o].[Product_id], [o].[Product_name], [o].[Product_note], [o].[Quantity], [o].[Status]
FROM [Order_detail] AS [o]
WHERE [o].[Order_id] = @__sourceOrderId_0
2025-03-30 05:30:50.761 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__8__locals1_targetOrderId_0='?' (DbType = Int32), @__productId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Order_detail_id], [o].[Order_id], [o].[Price], [o].[Product_id], [o].[Product_name], [o].[Product_note], [o].[Quantity], [o].[Status]
FROM [Order_detail] AS [o]
WHERE ([o].[Order_id] = @__8__locals1_targetOrderId_0) AND ([o].[Product_id] = @__productId_1)
2025-03-30 05:30:50.765 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Order_id], [t].[Amount_due], [t].[Created_time], [t].[Customer_id], [t].[Delivery_information_id], [t].[Order_note], [t].[Order_status_id], [t].[Order_type_id], [t].[Room_id], [t].[Shipper_id], [t].[Total_quantity], [o0].[Order_detail_id], [o0].[Order_id], [o0].[Price], [o0].[Product_id], [o0].[Product_name], [o0].[Product_note], [o0].[Quantity], [o0].[Status]
FROM (
    SELECT TOP(1) [o].[Order_id], [o].[Amount_due], [o].[Created_time], [o].[Customer_id], [o].[Delivery_information_id], [o].[Order_note], [o].[Order_status_id], [o].[Order_type_id], [o].[Room_id], [o].[Shipper_id], [o].[Total_quantity]
    FROM [Order] AS [o]
    WHERE [o].[Order_id] = @__orderId_0
) AS [t]
LEFT JOIN [Order_detail] AS [o0] ON [t].[Order_id] = [o0].[Order_id]
ORDER BY [t].[Order_id]
2025-03-30 05:30:50.771 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@p10='?' (DbType = Int32), @p0='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 255), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Order] SET [Amount_due] = @p0, [Created_time] = @p1, [Customer_id] = @p2, [Delivery_information_id] = @p3, [Order_note] = @p4, [Order_status_id] = @p5, [Order_type_id] = @p6, [Room_id] = @p7, [Shipper_id] = @p8, [Total_quantity] = @p9
WHERE [Order_id] = @p10;
SELECT @@ROWCOUNT;
2025-03-30 05:30:50.775 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Order_detail] SET [Quantity] = @p0
WHERE [Order_detail_id] = @p1;
SELECT @@ROWCOUNT;
2025-03-30 05:30:50.778 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p2='?' (DbType = Int32), @p3='?' (Size = 100), @p4='?' (Size = 255), @p5='?' (DbType = Int32), @p6='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Order_detail] ([Order_id], [Price], [Product_id], [Product_name], [Product_note], [Quantity], [Status])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT [Order_detail_id]
FROM [Order_detail]
WHERE @@ROWCOUNT = 1 AND [Order_detail_id] = scope_identity();
2025-03-30 05:30:50.781 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Order_id], [t].[Amount_due], [t].[Created_time], [t].[Customer_id], [t].[Delivery_information_id], [t].[Order_note], [t].[Order_status_id], [t].[Order_type_id], [t].[Room_id], [t].[Shipper_id], [t].[Total_quantity], [o0].[Order_detail_id], [o0].[Order_id], [o0].[Price], [o0].[Product_id], [o0].[Product_name], [o0].[Product_note], [o0].[Quantity], [o0].[Status]
FROM (
    SELECT TOP(1) [o].[Order_id], [o].[Amount_due], [o].[Created_time], [o].[Customer_id], [o].[Delivery_information_id], [o].[Order_note], [o].[Order_status_id], [o].[Order_type_id], [o].[Room_id], [o].[Shipper_id], [o].[Total_quantity]
    FROM [Order] AS [o]
    WHERE [o].[Order_id] = @__orderId_0
) AS [t]
LEFT JOIN [Order_detail] AS [o0] ON [t].[Order_id] = [o0].[Order_id]
ORDER BY [t].[Order_id]
2025-03-30 05:30:50.784 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@p10='?' (DbType = Int32), @p0='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 255), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Order] SET [Amount_due] = @p0, [Created_time] = @p1, [Customer_id] = @p2, [Delivery_information_id] = @p3, [Order_note] = @p4, [Order_status_id] = @p5, [Order_type_id] = @p6, [Room_id] = @p7, [Shipper_id] = @p8, [Total_quantity] = @p9
WHERE [Order_id] = @p10;
SELECT @@ROWCOUNT;
2025-03-30 05:30:50.786 +07:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-30 05:30:50.787 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.SplitOrderPos (BepKhoiBackend.API) in 36.7615ms
2025-03-30 05:30:50.788 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.SplitOrderPos (BepKhoiBackend.API)'
2025-03-30 05:30:50.789 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7257/api/order-detail/SplitOrderPos application/json 217 - 400 - application/json;+charset=utf-8 45.0403ms
2025-03-30 05:31:46.389 +07:00 [INF] User profile is available. Using 'C:\Users\phams\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-30 05:31:46.637 +07:00 [INF] Now listening on: https://localhost:7257
2025-03-30 05:31:46.638 +07:00 [INF] Now listening on: http://localhost:5287
2025-03-30 05:31:46.640 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-30 05:31:46.640 +07:00 [INF] Hosting environment: Development
2025-03-30 05:31:46.641 +07:00 [INF] Content root path: C:\Users\phams\Desktop\Do an SP25\Backend\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-03-30 05:31:47.440 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-03-30 05:31:47.821 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 382.4848ms
2025-03-30 05:31:47.834 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-03-30 05:31:47.838 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 13772 application/javascript;+charset=utf-8 3.7348ms
2025-03-30 05:31:47.860 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-03-30 05:31:47.902 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 42.3031ms
2025-03-30 05:31:48.011 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-03-30 05:31:48.192 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 181.3084ms
2025-03-30 05:33:07.367 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7257/api/order-detail/SplitOrderPos application/json 217
2025-03-30 05:33:07.394 +07:00 [INF] CORS policy execution failed.
2025-03-30 05:33:07.395 +07:00 [INF] Request origin https://localhost:7257 does not have permission to access the resource.
2025-03-30 05:33:07.461 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.SplitOrderPos (BepKhoiBackend.API)'
2025-03-30 05:33:07.485 +07:00 [INF] Route matched with {action = "SplitOrderPos", controller = "OrderDetailControllers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SplitOrderPos(BepKhoiBackend.BusinessObject.dtos.OrderDetailDto.SplitOrderPosRquest) on controller BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers (BepKhoiBackend.API).
2025-03-30 05:34:24.535 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-03-30 05:34:26.186 +07:00 [INF] Executed DbCommand (62ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Order] AS [o]
        WHERE [o].[Order_id] = @__orderId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-30 05:34:26.236 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Order] AS [o]
        WHERE [o].[Order_id] = @__orderId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-30 05:34:26.273 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__sourceOrderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Order_detail_id], [o].[Order_id], [o].[Price], [o].[Product_id], [o].[Product_name], [o].[Product_note], [o].[Quantity], [o].[Status]
FROM [Order_detail] AS [o]
WHERE [o].[Order_id] = @__sourceOrderId_0
2025-03-30 05:34:26.336 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__8__locals1_targetOrderId_0='?' (DbType = Int32), @__productId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Order_detail_id], [o].[Order_id], [o].[Price], [o].[Product_id], [o].[Product_name], [o].[Product_note], [o].[Quantity], [o].[Status]
FROM [Order_detail] AS [o]
WHERE ([o].[Order_id] = @__8__locals1_targetOrderId_0) AND ([o].[Product_id] = @__productId_1)
2025-03-30 05:34:26.486 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Order_id], [t].[Amount_due], [t].[Created_time], [t].[Customer_id], [t].[Delivery_information_id], [t].[Order_note], [t].[Order_status_id], [t].[Order_type_id], [t].[Room_id], [t].[Shipper_id], [t].[Total_quantity], [o0].[Order_detail_id], [o0].[Order_id], [o0].[Price], [o0].[Product_id], [o0].[Product_name], [o0].[Product_note], [o0].[Quantity], [o0].[Status]
FROM (
    SELECT TOP(1) [o].[Order_id], [o].[Amount_due], [o].[Created_time], [o].[Customer_id], [o].[Delivery_information_id], [o].[Order_note], [o].[Order_status_id], [o].[Order_type_id], [o].[Room_id], [o].[Shipper_id], [o].[Total_quantity]
    FROM [Order] AS [o]
    WHERE [o].[Order_id] = @__orderId_0
) AS [t]
LEFT JOIN [Order_detail] AS [o0] ON [t].[Order_id] = [o0].[Order_id]
ORDER BY [t].[Order_id]
2025-03-30 05:34:26.655 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@p10='?' (DbType = Int32), @p0='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 255), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Order] SET [Amount_due] = @p0, [Created_time] = @p1, [Customer_id] = @p2, [Delivery_information_id] = @p3, [Order_note] = @p4, [Order_status_id] = @p5, [Order_type_id] = @p6, [Room_id] = @p7, [Shipper_id] = @p8, [Total_quantity] = @p9
WHERE [Order_id] = @p10;
SELECT @@ROWCOUNT;
2025-03-30 05:34:26.665 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Order_detail] SET [Quantity] = @p0
WHERE [Order_detail_id] = @p1;
SELECT @@ROWCOUNT;
2025-03-30 05:34:26.679 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p2='?' (DbType = Int32), @p3='?' (Size = 100), @p4='?' (Size = 255), @p5='?' (DbType = Int32), @p6='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Order_detail] ([Order_id], [Price], [Product_id], [Product_name], [Product_note], [Quantity], [Status])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT [Order_detail_id]
FROM [Order_detail]
WHERE @@ROWCOUNT = 1 AND [Order_detail_id] = scope_identity();
2025-03-30 05:34:26.722 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Order_id], [t].[Amount_due], [t].[Created_time], [t].[Customer_id], [t].[Delivery_information_id], [t].[Order_note], [t].[Order_status_id], [t].[Order_type_id], [t].[Room_id], [t].[Shipper_id], [t].[Total_quantity], [o0].[Order_detail_id], [o0].[Order_id], [o0].[Price], [o0].[Product_id], [o0].[Product_name], [o0].[Product_note], [o0].[Quantity], [o0].[Status]
FROM (
    SELECT TOP(1) [o].[Order_id], [o].[Amount_due], [o].[Created_time], [o].[Customer_id], [o].[Delivery_information_id], [o].[Order_note], [o].[Order_status_id], [o].[Order_type_id], [o].[Room_id], [o].[Shipper_id], [o].[Total_quantity]
    FROM [Order] AS [o]
    WHERE [o].[Order_id] = @__orderId_0
) AS [t]
LEFT JOIN [Order_detail] AS [o0] ON [t].[Order_id] = [o0].[Order_id]
ORDER BY [t].[Order_id]
2025-03-30 05:34:26.727 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@p10='?' (DbType = Int32), @p0='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 255), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Order] SET [Amount_due] = @p0, [Created_time] = @p1, [Customer_id] = @p2, [Delivery_information_id] = @p3, [Order_note] = @p4, [Order_status_id] = @p5, [Order_type_id] = @p6, [Room_id] = @p7, [Shipper_id] = @p8, [Total_quantity] = @p9
WHERE [Order_id] = @p10;
SELECT @@ROWCOUNT;
2025-03-30 05:34:26.738 +07:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-30 05:34:26.759 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.SplitOrderPos (BepKhoiBackend.API) in 79268.0215ms
2025-03-30 05:34:26.762 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.SplitOrderPos (BepKhoiBackend.API)'
2025-03-30 05:34:26.773 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7257/api/order-detail/SplitOrderPos application/json 217 - 400 - application/json;+charset=utf-8 79405.6985ms
2025-03-30 05:34:53.606 +07:00 [INF] User profile is available. Using 'C:\Users\phams\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-30 05:34:53.838 +07:00 [INF] Now listening on: https://localhost:7257
2025-03-30 05:34:53.839 +07:00 [INF] Now listening on: http://localhost:5287
2025-03-30 05:34:53.842 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-30 05:34:53.842 +07:00 [INF] Hosting environment: Development
2025-03-30 05:34:53.843 +07:00 [INF] Content root path: C:\Users\phams\Desktop\Do an SP25\Backend\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-03-30 05:34:54.905 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-03-30 05:34:55.190 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 287.7677ms
2025-03-30 05:34:55.203 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-03-30 05:34:55.207 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 13772 application/javascript;+charset=utf-8 3.6750ms
2025-03-30 05:34:55.230 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-03-30 05:34:55.282 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 51.4844ms
2025-03-30 05:34:55.402 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-03-30 05:34:55.549 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 147.5409ms
2025-03-30 05:35:03.024 +07:00 [INF] User profile is available. Using 'C:\Users\phams\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-30 05:35:03.278 +07:00 [INF] Now listening on: https://localhost:7257
2025-03-30 05:35:03.279 +07:00 [INF] Now listening on: http://localhost:5287
2025-03-30 05:35:03.281 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-30 05:35:03.282 +07:00 [INF] Hosting environment: Development
2025-03-30 05:35:03.282 +07:00 [INF] Content root path: C:\Users\phams\Desktop\Do an SP25\Backend\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-03-30 05:35:03.689 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-03-30 05:35:03.965 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 278.9304ms
2025-03-30 05:35:03.980 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-03-30 05:35:03.986 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 13772 application/javascript;+charset=utf-8 5.7244ms
2025-03-30 05:35:04.005 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-03-30 05:35:04.048 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 43.2769ms
2025-03-30 05:35:04.157 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-03-30 05:35:04.306 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 149.5012ms
2025-03-30 05:36:59.225 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7257/api/order-detail/SplitOrderPos application/json 217
2025-03-30 05:36:59.255 +07:00 [INF] CORS policy execution failed.
2025-03-30 05:36:59.257 +07:00 [INF] Request origin https://localhost:7257 does not have permission to access the resource.
2025-03-30 05:36:59.312 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.SplitOrderPos (BepKhoiBackend.API)'
2025-03-30 05:36:59.333 +07:00 [INF] Route matched with {action = "SplitOrderPos", controller = "OrderDetailControllers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SplitOrderPos(BepKhoiBackend.BusinessObject.dtos.OrderDetailDto.SplitOrderPosRquest) on controller BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers (BepKhoiBackend.API).
2025-03-30 05:37:00.371 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-03-30 05:37:02.013 +07:00 [INF] Executed DbCommand (61ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Order] AS [o]
        WHERE [o].[Order_id] = @__orderId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-30 05:37:02.067 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Order] AS [o]
        WHERE [o].[Order_id] = @__orderId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-30 05:37:02.110 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__sourceOrderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Order_detail_id], [o].[Order_id], [o].[Price], [o].[Product_id], [o].[Product_name], [o].[Product_note], [o].[Quantity], [o].[Status]
FROM [Order_detail] AS [o]
WHERE [o].[Order_id] = @__sourceOrderId_0
2025-03-30 05:37:02.176 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__8__locals1_targetOrderId_0='?' (DbType = Int32), @__productId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Order_detail_id], [o].[Order_id], [o].[Price], [o].[Product_id], [o].[Product_name], [o].[Product_note], [o].[Quantity], [o].[Status]
FROM [Order_detail] AS [o]
WHERE ([o].[Order_id] = @__8__locals1_targetOrderId_0) AND ([o].[Product_id] = @__productId_1)
2025-03-30 05:37:02.329 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Order_id], [t].[Amount_due], [t].[Created_time], [t].[Customer_id], [t].[Delivery_information_id], [t].[Order_note], [t].[Order_status_id], [t].[Order_type_id], [t].[Room_id], [t].[Shipper_id], [t].[Total_quantity], [o0].[Order_detail_id], [o0].[Order_id], [o0].[Price], [o0].[Product_id], [o0].[Product_name], [o0].[Product_note], [o0].[Quantity], [o0].[Status]
FROM (
    SELECT TOP(1) [o].[Order_id], [o].[Amount_due], [o].[Created_time], [o].[Customer_id], [o].[Delivery_information_id], [o].[Order_note], [o].[Order_status_id], [o].[Order_type_id], [o].[Room_id], [o].[Shipper_id], [o].[Total_quantity]
    FROM [Order] AS [o]
    WHERE [o].[Order_id] = @__orderId_0
) AS [t]
LEFT JOIN [Order_detail] AS [o0] ON [t].[Order_id] = [o0].[Order_id]
ORDER BY [t].[Order_id]
2025-03-30 05:37:02.500 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@p10='?' (DbType = Int32), @p0='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 255), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Order] SET [Amount_due] = @p0, [Created_time] = @p1, [Customer_id] = @p2, [Delivery_information_id] = @p3, [Order_note] = @p4, [Order_status_id] = @p5, [Order_type_id] = @p6, [Room_id] = @p7, [Shipper_id] = @p8, [Total_quantity] = @p9
WHERE [Order_id] = @p10;
SELECT @@ROWCOUNT;
2025-03-30 05:37:02.512 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [Order_detail]
WHERE [Order_detail_id] = @p0;
SELECT @@ROWCOUNT;
2025-03-30 05:37:02.527 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p2='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p3='?' (DbType = Int32), @p4='?' (Size = 100), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Order_detail] ([Order_id], [Price], [Product_id], [Product_name], [Product_note], [Quantity], [Status])
VALUES (@p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT [Order_detail_id]
FROM [Order_detail]
WHERE @@ROWCOUNT = 1 AND [Order_detail_id] = scope_identity();
2025-03-30 05:37:02.576 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Order_id], [t].[Amount_due], [t].[Created_time], [t].[Customer_id], [t].[Delivery_information_id], [t].[Order_note], [t].[Order_status_id], [t].[Order_type_id], [t].[Room_id], [t].[Shipper_id], [t].[Total_quantity], [o0].[Order_detail_id], [o0].[Order_id], [o0].[Price], [o0].[Product_id], [o0].[Product_name], [o0].[Product_note], [o0].[Quantity], [o0].[Status]
FROM (
    SELECT TOP(1) [o].[Order_id], [o].[Amount_due], [o].[Created_time], [o].[Customer_id], [o].[Delivery_information_id], [o].[Order_note], [o].[Order_status_id], [o].[Order_type_id], [o].[Room_id], [o].[Shipper_id], [o].[Total_quantity]
    FROM [Order] AS [o]
    WHERE [o].[Order_id] = @__orderId_0
) AS [t]
LEFT JOIN [Order_detail] AS [o0] ON [t].[Order_id] = [o0].[Order_id]
ORDER BY [t].[Order_id]
2025-03-30 05:37:02.582 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@p10='?' (DbType = Int32), @p0='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 255), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Order] SET [Amount_due] = @p0, [Created_time] = @p1, [Customer_id] = @p2, [Delivery_information_id] = @p3, [Order_note] = @p4, [Order_status_id] = @p5, [Order_type_id] = @p6, [Room_id] = @p7, [Shipper_id] = @p8, [Total_quantity] = @p9
WHERE [Order_id] = @p10;
SELECT @@ROWCOUNT;
2025-03-30 05:46:28.528 +07:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-30 05:46:28.551 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.SplitOrderPos (BepKhoiBackend.API) in 569210.9145ms
2025-03-30 05:46:28.553 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.SplitOrderPos (BepKhoiBackend.API)'
2025-03-30 05:46:28.564 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7257/api/order-detail/SplitOrderPos application/json 217 - 400 - application/json;+charset=utf-8 569338.8864ms
2025-03-30 05:46:34.297 +07:00 [INF] User profile is available. Using 'C:\Users\phams\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-30 05:46:34.524 +07:00 [INF] Now listening on: https://localhost:7257
2025-03-30 05:46:34.525 +07:00 [INF] Now listening on: http://localhost:5287
2025-03-30 05:46:34.529 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-30 05:46:34.530 +07:00 [INF] Hosting environment: Development
2025-03-30 05:46:34.530 +07:00 [INF] Content root path: C:\Users\phams\Desktop\Do an SP25\Backend\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-03-30 05:46:34.835 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-03-30 05:46:35.099 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 265.9228ms
2025-03-30 05:46:35.113 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-03-30 05:46:35.116 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 13772 application/javascript;+charset=utf-8 3.1871ms
2025-03-30 05:46:35.136 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-03-30 05:46:35.182 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 45.8300ms
2025-03-30 05:46:35.288 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-03-30 05:46:35.457 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 168.5761ms
2025-03-30 05:48:04.449 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7257/api/order-detail/SplitOrderPos application/json 217
2025-03-30 05:48:04.482 +07:00 [INF] CORS policy execution failed.
2025-03-30 05:48:04.484 +07:00 [INF] Request origin https://localhost:7257 does not have permission to access the resource.
2025-03-30 05:48:04.538 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.SplitOrderPos (BepKhoiBackend.API)'
2025-03-30 05:48:04.559 +07:00 [INF] Route matched with {action = "SplitOrderPos", controller = "OrderDetailControllers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SplitOrderPos(BepKhoiBackend.BusinessObject.dtos.OrderDetailDto.SplitOrderPosRquest) on controller BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers (BepKhoiBackend.API).
2025-03-30 05:48:22.938 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-03-30 05:48:24.580 +07:00 [INF] Executed DbCommand (63ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Order] AS [o]
        WHERE [o].[Order_id] = @__orderId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-30 05:48:24.632 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Order] AS [o]
        WHERE [o].[Order_id] = @__orderId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-30 05:48:24.675 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__sourceOrderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Order_detail_id], [o].[Order_id], [o].[Price], [o].[Product_id], [o].[Product_name], [o].[Product_note], [o].[Quantity], [o].[Status]
FROM [Order_detail] AS [o]
WHERE [o].[Order_id] = @__sourceOrderId_0
2025-03-30 05:48:24.781 +07:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-30 05:48:24.803 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.SplitOrderPos (BepKhoiBackend.API) in 20238.0678ms
2025-03-30 05:48:24.806 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.SplitOrderPos (BepKhoiBackend.API)'
2025-03-30 05:48:24.816 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7257/api/order-detail/SplitOrderPos application/json 217 - 500 - application/json;+charset=utf-8 20367.1637ms
2025-03-30 05:49:08.483 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7257/api/order-detail/SplitOrderPos application/json 217
2025-03-30 05:49:08.487 +07:00 [INF] CORS policy execution failed.
2025-03-30 05:49:08.488 +07:00 [INF] Request origin https://localhost:7257 does not have permission to access the resource.
2025-03-30 05:49:08.489 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.SplitOrderPos (BepKhoiBackend.API)'
2025-03-30 05:49:08.490 +07:00 [INF] Route matched with {action = "SplitOrderPos", controller = "OrderDetailControllers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SplitOrderPos(BepKhoiBackend.BusinessObject.dtos.OrderDetailDto.SplitOrderPosRquest) on controller BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers (BepKhoiBackend.API).
2025-03-30 05:49:08.511 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-03-30 05:49:08.522 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Order] AS [o]
        WHERE [o].[Order_id] = @__orderId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-30 05:49:08.525 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Order] AS [o]
        WHERE [o].[Order_id] = @__orderId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-30 05:49:08.528 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__sourceOrderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Order_detail_id], [o].[Order_id], [o].[Price], [o].[Product_id], [o].[Product_name], [o].[Product_note], [o].[Quantity], [o].[Status]
FROM [Order_detail] AS [o]
WHERE [o].[Order_id] = @__sourceOrderId_0
2025-03-30 05:49:08.596 +07:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-30 05:49:08.597 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.SplitOrderPos (BepKhoiBackend.API) in 106.0528ms
2025-03-30 05:49:08.601 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.SplitOrderPos (BepKhoiBackend.API)'
2025-03-30 05:49:08.602 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7257/api/order-detail/SplitOrderPos application/json 217 - 500 - application/json;+charset=utf-8 119.2725ms
2025-03-30 05:49:16.229 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7257/api/order-detail/SplitOrderPos application/json 216
2025-03-30 05:49:16.230 +07:00 [INF] CORS policy execution failed.
2025-03-30 05:49:16.231 +07:00 [INF] Request origin https://localhost:7257 does not have permission to access the resource.
2025-03-30 05:49:16.233 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.SplitOrderPos (BepKhoiBackend.API)'
2025-03-30 05:49:16.234 +07:00 [INF] Route matched with {action = "SplitOrderPos", controller = "OrderDetailControllers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SplitOrderPos(BepKhoiBackend.BusinessObject.dtos.OrderDetailDto.SplitOrderPosRquest) on controller BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers (BepKhoiBackend.API).
2025-03-30 05:49:16.270 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-03-30 05:49:16.276 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Order] AS [o]
        WHERE [o].[Order_id] = @__orderId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-30 05:49:16.278 +07:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-30 05:49:16.280 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.SplitOrderPos (BepKhoiBackend.API) in 44.8141ms
2025-03-30 05:49:16.281 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.SplitOrderPos (BepKhoiBackend.API)'
2025-03-30 05:49:16.282 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7257/api/order-detail/SplitOrderPos application/json 216 - 400 - application/json;+charset=utf-8 52.7924ms
2025-03-30 05:49:16.965 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7257/api/order-detail/SplitOrderPos application/json 216
2025-03-30 05:49:16.967 +07:00 [INF] CORS policy execution failed.
2025-03-30 05:49:16.967 +07:00 [INF] Request origin https://localhost:7257 does not have permission to access the resource.
2025-03-30 05:49:16.968 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.SplitOrderPos (BepKhoiBackend.API)'
2025-03-30 05:49:16.969 +07:00 [INF] Route matched with {action = "SplitOrderPos", controller = "OrderDetailControllers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SplitOrderPos(BepKhoiBackend.BusinessObject.dtos.OrderDetailDto.SplitOrderPosRquest) on controller BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers (BepKhoiBackend.API).
2025-03-30 05:49:16.972 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-03-30 05:49:16.975 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Order] AS [o]
        WHERE [o].[Order_id] = @__orderId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-30 05:49:16.977 +07:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-30 05:49:16.978 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.SplitOrderPos (BepKhoiBackend.API) in 7.5481ms
2025-03-30 05:49:16.979 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.SplitOrderPos (BepKhoiBackend.API)'
2025-03-30 05:49:16.980 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7257/api/order-detail/SplitOrderPos application/json 216 - 400 - application/json;+charset=utf-8 14.8109ms
2025-03-30 05:49:17.644 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7257/api/order-detail/SplitOrderPos application/json 216
2025-03-30 05:49:17.645 +07:00 [INF] CORS policy execution failed.
2025-03-30 05:49:17.646 +07:00 [INF] Request origin https://localhost:7257 does not have permission to access the resource.
2025-03-30 05:49:17.646 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.SplitOrderPos (BepKhoiBackend.API)'
2025-03-30 05:49:17.647 +07:00 [INF] Route matched with {action = "SplitOrderPos", controller = "OrderDetailControllers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SplitOrderPos(BepKhoiBackend.BusinessObject.dtos.OrderDetailDto.SplitOrderPosRquest) on controller BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers (BepKhoiBackend.API).
2025-03-30 05:49:17.650 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-03-30 05:49:17.653 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Order] AS [o]
        WHERE [o].[Order_id] = @__orderId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-30 05:49:17.655 +07:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-30 05:49:17.656 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.SplitOrderPos (BepKhoiBackend.API) in 6.7663ms
2025-03-30 05:49:17.657 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.SplitOrderPos (BepKhoiBackend.API)'
2025-03-30 05:49:17.658 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7257/api/order-detail/SplitOrderPos application/json 216 - 400 - application/json;+charset=utf-8 14.3728ms
2025-03-30 05:49:31.177 +07:00 [INF] User profile is available. Using 'C:\Users\phams\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-30 05:49:31.272 +07:00 [INF] Now listening on: https://localhost:7257
2025-03-30 05:49:31.274 +07:00 [INF] Now listening on: http://localhost:5287
2025-03-30 05:49:31.276 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-30 05:49:31.276 +07:00 [INF] Hosting environment: Development
2025-03-30 05:49:31.277 +07:00 [INF] Content root path: C:\Users\phams\Desktop\Do an SP25\Backend\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-03-30 05:49:35.891 +07:00 [INF] User profile is available. Using 'C:\Users\phams\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-30 05:49:36.125 +07:00 [INF] Now listening on: https://localhost:7257
2025-03-30 05:49:36.126 +07:00 [INF] Now listening on: http://localhost:5287
2025-03-30 05:49:36.128 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-30 05:49:36.128 +07:00 [INF] Hosting environment: Development
2025-03-30 05:49:36.129 +07:00 [INF] Content root path: C:\Users\phams\Desktop\Do an SP25\Backend\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-03-30 05:49:36.588 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-03-30 05:49:36.884 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 298.5400ms
2025-03-30 05:49:36.899 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-03-30 05:49:36.902 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 13772 application/javascript;+charset=utf-8 3.2669ms
2025-03-30 05:49:36.919 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-03-30 05:49:36.962 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 42.9937ms
2025-03-30 05:49:37.066 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-03-30 05:49:37.216 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 150.0323ms
2025-03-30 05:50:01.035 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7257/api/order-detail/SplitOrderPos application/json 217
2025-03-30 05:50:01.063 +07:00 [INF] CORS policy execution failed.
2025-03-30 05:50:01.065 +07:00 [INF] Request origin https://localhost:7257 does not have permission to access the resource.
2025-03-30 05:50:01.126 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.SplitOrderPos (BepKhoiBackend.API)'
2025-03-30 05:50:01.152 +07:00 [INF] Route matched with {action = "SplitOrderPos", controller = "OrderDetailControllers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SplitOrderPos(BepKhoiBackend.BusinessObject.dtos.OrderDetailDto.SplitOrderPosRquest) on controller BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers (BepKhoiBackend.API).
2025-03-30 05:50:02.185 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-03-30 05:50:03.848 +07:00 [INF] Executed DbCommand (65ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Order] AS [o]
        WHERE [o].[Order_id] = @__orderId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-30 05:50:03.901 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Order] AS [o]
        WHERE [o].[Order_id] = @__orderId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-30 05:50:03.943 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__sourceOrderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Order_detail_id], [o].[Order_id], [o].[Price], [o].[Product_id], [o].[Product_name], [o].[Product_note], [o].[Quantity], [o].[Status]
FROM [Order_detail] AS [o]
WHERE [o].[Order_id] = @__sourceOrderId_0
2025-03-30 05:50:04.051 +07:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-30 05:50:04.073 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.SplitOrderPos (BepKhoiBackend.API) in 2914.5349ms
2025-03-30 05:50:04.075 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.SplitOrderPos (BepKhoiBackend.API)'
2025-03-30 05:50:04.087 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7257/api/order-detail/SplitOrderPos application/json 217 - 500 - application/json;+charset=utf-8 3051.9317ms
2025-03-30 05:50:40.534 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7257/api/order-detail/SplitOrderPos application/json 217
2025-03-30 05:50:40.548 +07:00 [INF] CORS policy execution failed.
2025-03-30 05:50:40.551 +07:00 [INF] Request origin https://localhost:7257 does not have permission to access the resource.
2025-03-30 05:50:40.552 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.SplitOrderPos (BepKhoiBackend.API)'
2025-03-30 05:50:40.553 +07:00 [INF] Route matched with {action = "SplitOrderPos", controller = "OrderDetailControllers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SplitOrderPos(BepKhoiBackend.BusinessObject.dtos.OrderDetailDto.SplitOrderPosRquest) on controller BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers (BepKhoiBackend.API).
2025-03-30 05:50:40.571 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-03-30 05:50:40.575 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Order] AS [o]
        WHERE [o].[Order_id] = @__orderId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-30 05:50:40.578 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Order] AS [o]
        WHERE [o].[Order_id] = @__orderId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-30 05:50:40.581 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__sourceOrderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Order_detail_id], [o].[Order_id], [o].[Price], [o].[Product_id], [o].[Product_name], [o].[Product_note], [o].[Quantity], [o].[Status]
FROM [Order_detail] AS [o]
WHERE [o].[Order_id] = @__sourceOrderId_0
2025-03-30 05:50:40.651 +07:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-30 05:50:40.654 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.SplitOrderPos (BepKhoiBackend.API) in 99.3018ms
2025-03-30 05:50:40.655 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.SplitOrderPos (BepKhoiBackend.API)'
2025-03-30 05:50:40.658 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7257/api/order-detail/SplitOrderPos application/json 217 - 500 - application/json;+charset=utf-8 124.4482ms
2025-03-30 05:50:51.181 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7257/api/order-detail/SplitOrderPos application/json 217
2025-03-30 05:50:51.184 +07:00 [INF] CORS policy execution failed.
2025-03-30 05:50:51.184 +07:00 [INF] Request origin https://localhost:7257 does not have permission to access the resource.
2025-03-30 05:50:51.187 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.SplitOrderPos (BepKhoiBackend.API)'
2025-03-30 05:50:51.189 +07:00 [INF] Route matched with {action = "SplitOrderPos", controller = "OrderDetailControllers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SplitOrderPos(BepKhoiBackend.BusinessObject.dtos.OrderDetailDto.SplitOrderPosRquest) on controller BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers (BepKhoiBackend.API).
2025-03-30 05:50:51.226 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-03-30 05:50:51.233 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Order] AS [o]
        WHERE [o].[Order_id] = @__orderId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-30 05:50:51.235 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Order] AS [o]
        WHERE [o].[Order_id] = @__orderId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-30 05:50:51.238 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__sourceOrderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Order_detail_id], [o].[Order_id], [o].[Price], [o].[Product_id], [o].[Product_name], [o].[Product_note], [o].[Quantity], [o].[Status]
FROM [Order_detail] AS [o]
WHERE [o].[Order_id] = @__sourceOrderId_0
2025-03-30 05:50:51.307 +07:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-30 05:50:51.308 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.SplitOrderPos (BepKhoiBackend.API) in 116.0194ms
2025-03-30 05:50:51.310 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.SplitOrderPos (BepKhoiBackend.API)'
2025-03-30 05:50:51.310 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7257/api/order-detail/SplitOrderPos application/json 217 - 500 - application/json;+charset=utf-8 129.5188ms
2025-03-30 05:50:51.892 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7257/api/order-detail/SplitOrderPos application/json 217
2025-03-30 05:50:51.894 +07:00 [INF] CORS policy execution failed.
2025-03-30 05:50:51.896 +07:00 [INF] Request origin https://localhost:7257 does not have permission to access the resource.
2025-03-30 05:50:51.898 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.SplitOrderPos (BepKhoiBackend.API)'
2025-03-30 05:50:51.900 +07:00 [INF] Route matched with {action = "SplitOrderPos", controller = "OrderDetailControllers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SplitOrderPos(BepKhoiBackend.BusinessObject.dtos.OrderDetailDto.SplitOrderPosRquest) on controller BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers (BepKhoiBackend.API).
2025-03-30 05:50:51.904 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-03-30 05:50:51.907 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Order] AS [o]
        WHERE [o].[Order_id] = @__orderId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-30 05:50:51.912 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Order] AS [o]
        WHERE [o].[Order_id] = @__orderId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-30 05:50:51.919 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__sourceOrderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Order_detail_id], [o].[Order_id], [o].[Price], [o].[Product_id], [o].[Product_name], [o].[Product_note], [o].[Quantity], [o].[Status]
FROM [Order_detail] AS [o]
WHERE [o].[Order_id] = @__sourceOrderId_0
2025-03-30 05:50:51.996 +07:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-30 05:50:51.997 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.SplitOrderPos (BepKhoiBackend.API) in 93.7186ms
2025-03-30 05:50:51.999 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.SplitOrderPos (BepKhoiBackend.API)'
2025-03-30 05:50:52.001 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7257/api/order-detail/SplitOrderPos application/json 217 - 500 - application/json;+charset=utf-8 108.9816ms
2025-03-30 05:51:29.231 +07:00 [INF] User profile is available. Using 'C:\Users\phams\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-30 05:51:29.451 +07:00 [INF] Now listening on: https://localhost:7257
2025-03-30 05:51:29.452 +07:00 [INF] Now listening on: http://localhost:5287
2025-03-30 05:51:29.454 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-30 05:51:29.455 +07:00 [INF] Hosting environment: Development
2025-03-30 05:51:29.455 +07:00 [INF] Content root path: C:\Users\phams\Desktop\Do an SP25\Backend\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-03-30 05:51:29.714 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-03-30 05:51:29.987 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 275.2863ms
2025-03-30 05:51:30.001 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-03-30 05:51:30.006 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 13772 application/javascript;+charset=utf-8 4.7850ms
2025-03-30 05:51:30.026 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-03-30 05:51:30.070 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 44.3034ms
2025-03-30 05:51:30.185 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-03-30 05:51:30.330 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 145.8433ms
2025-03-30 05:52:10.353 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7257/api/order-detail/SplitOrderPos application/json 217
2025-03-30 05:52:10.382 +07:00 [INF] CORS policy execution failed.
2025-03-30 05:52:10.383 +07:00 [INF] Request origin https://localhost:7257 does not have permission to access the resource.
2025-03-30 05:52:10.439 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.SplitOrderPos (BepKhoiBackend.API)'
2025-03-30 05:52:10.459 +07:00 [INF] Route matched with {action = "SplitOrderPos", controller = "OrderDetailControllers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SplitOrderPos(BepKhoiBackend.BusinessObject.dtos.OrderDetailDto.SplitOrderPosRquest) on controller BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers (BepKhoiBackend.API).
2025-03-30 05:52:11.488 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-03-30 05:52:13.118 +07:00 [INF] Executed DbCommand (62ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Order] AS [o]
        WHERE [o].[Order_id] = @__orderId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-30 05:52:13.168 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Order] AS [o]
        WHERE [o].[Order_id] = @__orderId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-30 05:55:30.706 +07:00 [INF] User profile is available. Using 'C:\Users\phams\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-30 05:55:30.942 +07:00 [INF] Now listening on: https://localhost:7257
2025-03-30 05:55:30.943 +07:00 [INF] Now listening on: http://localhost:5287
2025-03-30 05:55:30.945 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-30 05:55:30.946 +07:00 [INF] Hosting environment: Development
2025-03-30 05:55:30.947 +07:00 [INF] Content root path: C:\Users\phams\Desktop\Do an SP25\Backend\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-03-30 05:55:31.218 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-03-30 05:55:31.499 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 283.0346ms
2025-03-30 05:55:31.511 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-03-30 05:55:31.514 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 13772 application/javascript;+charset=utf-8 3.2116ms
2025-03-30 05:55:31.535 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-03-30 05:55:31.580 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 44.3776ms
2025-03-30 05:55:31.687 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-03-30 05:55:31.839 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 151.8688ms
2025-03-30 05:58:04.007 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7257/api/order-detail/SplitOrderPos application/json 217
2025-03-30 05:58:04.032 +07:00 [INF] CORS policy execution failed.
2025-03-30 05:58:04.033 +07:00 [INF] Request origin https://localhost:7257 does not have permission to access the resource.
2025-03-30 05:58:04.089 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.SplitOrderPos (BepKhoiBackend.API)'
2025-03-30 05:58:04.114 +07:00 [INF] Route matched with {action = "SplitOrderPos", controller = "OrderDetailControllers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SplitOrderPos(BepKhoiBackend.BusinessObject.dtos.OrderDetailDto.SplitOrderPosRquest) on controller BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers (BepKhoiBackend.API).
2025-03-30 05:58:05.159 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-03-30 05:58:06.831 +07:00 [INF] Executed DbCommand (60ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Order] AS [o]
        WHERE [o].[Order_id] = @__orderId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-30 05:58:06.889 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Order] AS [o]
        WHERE [o].[Order_id] = @__orderId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-30 06:01:54.024 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__sourceOrderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Order_detail_id], [o].[Order_id], [o].[Price], [o].[Product_id], [o].[Product_name], [o].[Product_note], [o].[Quantity], [o].[Status]
FROM [Order_detail] AS [o]
WHERE [o].[Order_id] = @__sourceOrderId_0
2025-03-30 06:02:55.942 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__8__locals1_targetOrderId_0='?' (DbType = Int32), @__productId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Order_detail_id], [o].[Order_id], [o].[Price], [o].[Product_id], [o].[Product_name], [o].[Product_note], [o].[Quantity], [o].[Status]
FROM [Order_detail] AS [o]
WHERE ([o].[Order_id] = @__8__locals1_targetOrderId_0) AND ([o].[Product_id] = @__productId_1)
2025-03-30 06:02:56.081 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Order_id], [t].[Amount_due], [t].[Created_time], [t].[Customer_id], [t].[Delivery_information_id], [t].[Order_note], [t].[Order_status_id], [t].[Order_type_id], [t].[Room_id], [t].[Shipper_id], [t].[Total_quantity], [o0].[Order_detail_id], [o0].[Order_id], [o0].[Price], [o0].[Product_id], [o0].[Product_name], [o0].[Product_note], [o0].[Quantity], [o0].[Status]
FROM (
    SELECT TOP(1) [o].[Order_id], [o].[Amount_due], [o].[Created_time], [o].[Customer_id], [o].[Delivery_information_id], [o].[Order_note], [o].[Order_status_id], [o].[Order_type_id], [o].[Room_id], [o].[Shipper_id], [o].[Total_quantity]
    FROM [Order] AS [o]
    WHERE [o].[Order_id] = @__orderId_0
) AS [t]
LEFT JOIN [Order_detail] AS [o0] ON [t].[Order_id] = [o0].[Order_id]
ORDER BY [t].[Order_id]
2025-03-30 06:02:56.244 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@p10='?' (DbType = Int32), @p0='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 255), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Order] SET [Amount_due] = @p0, [Created_time] = @p1, [Customer_id] = @p2, [Delivery_information_id] = @p3, [Order_note] = @p4, [Order_status_id] = @p5, [Order_type_id] = @p6, [Room_id] = @p7, [Shipper_id] = @p8, [Total_quantity] = @p9
WHERE [Order_id] = @p10;
SELECT @@ROWCOUNT;
2025-03-30 06:02:56.253 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Order_detail] SET [Quantity] = @p0
WHERE [Order_detail_id] = @p1;
SELECT @@ROWCOUNT;
2025-03-30 06:02:56.263 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p2='?' (DbType = Int32), @p3='?' (Size = 100), @p4='?' (Size = 255), @p5='?' (DbType = Int32), @p6='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Order_detail] ([Order_id], [Price], [Product_id], [Product_name], [Product_note], [Quantity], [Status])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT [Order_detail_id]
FROM [Order_detail]
WHERE @@ROWCOUNT = 1 AND [Order_detail_id] = scope_identity();
2025-03-30 06:02:56.307 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Order_id], [t].[Amount_due], [t].[Created_time], [t].[Customer_id], [t].[Delivery_information_id], [t].[Order_note], [t].[Order_status_id], [t].[Order_type_id], [t].[Room_id], [t].[Shipper_id], [t].[Total_quantity], [o0].[Order_detail_id], [o0].[Order_id], [o0].[Price], [o0].[Product_id], [o0].[Product_name], [o0].[Product_note], [o0].[Quantity], [o0].[Status]
FROM (
    SELECT TOP(1) [o].[Order_id], [o].[Amount_due], [o].[Created_time], [o].[Customer_id], [o].[Delivery_information_id], [o].[Order_note], [o].[Order_status_id], [o].[Order_type_id], [o].[Room_id], [o].[Shipper_id], [o].[Total_quantity]
    FROM [Order] AS [o]
    WHERE [o].[Order_id] = @__orderId_0
) AS [t]
LEFT JOIN [Order_detail] AS [o0] ON [t].[Order_id] = [o0].[Order_id]
ORDER BY [t].[Order_id]
2025-03-30 06:02:56.313 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@p10='?' (DbType = Int32), @p0='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 255), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Order] SET [Amount_due] = @p0, [Created_time] = @p1, [Customer_id] = @p2, [Delivery_information_id] = @p3, [Order_note] = @p4, [Order_status_id] = @p5, [Order_type_id] = @p6, [Room_id] = @p7, [Shipper_id] = @p8, [Total_quantity] = @p9
WHERE [Order_id] = @p10;
SELECT @@ROWCOUNT;
2025-03-30 06:03:03.573 +07:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-30 06:03:03.594 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.SplitOrderPos (BepKhoiBackend.API) in 299473.5792ms
2025-03-30 06:03:03.596 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.SplitOrderPos (BepKhoiBackend.API)'
2025-03-30 06:03:03.606 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7257/api/order-detail/SplitOrderPos application/json 217 - 400 - application/json;+charset=utf-8 299599.5967ms
2025-03-30 06:05:42.122 +07:00 [INF] User profile is available. Using 'C:\Users\phams\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-30 06:05:42.375 +07:00 [INF] Now listening on: https://localhost:7257
2025-03-30 06:05:42.376 +07:00 [INF] Now listening on: http://localhost:5287
2025-03-30 06:05:42.378 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-30 06:05:42.379 +07:00 [INF] Hosting environment: Development
2025-03-30 06:05:42.379 +07:00 [INF] Content root path: C:\Users\phams\Desktop\Do an SP25\Backend\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-03-30 06:05:43.136 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-03-30 06:05:43.401 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 268.1452ms
2025-03-30 06:05:43.414 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-03-30 06:05:43.418 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 13772 application/javascript;+charset=utf-8 3.8096ms
2025-03-30 06:05:43.439 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-03-30 06:05:43.482 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 43.0847ms
2025-03-30 06:05:43.586 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-03-30 06:05:43.727 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 141.1479ms
2025-03-30 06:07:54.049 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7257/api/order-detail/SplitOrderPos application/json 217
2025-03-30 06:07:54.087 +07:00 [INF] CORS policy execution failed.
2025-03-30 06:07:54.088 +07:00 [INF] Request origin https://localhost:7257 does not have permission to access the resource.
2025-03-30 06:07:54.146 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.SplitOrderPos (BepKhoiBackend.API)'
2025-03-30 06:07:54.168 +07:00 [INF] Route matched with {action = "SplitOrderPos", controller = "OrderDetailControllers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SplitOrderPos(BepKhoiBackend.BusinessObject.dtos.OrderDetailDto.SplitOrderPosRquest) on controller BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers (BepKhoiBackend.API).
2025-03-30 06:09:38.888 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-03-30 06:09:40.515 +07:00 [INF] Executed DbCommand (60ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Order] AS [o]
        WHERE [o].[Order_id] = @__orderId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-30 06:09:56.227 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Order] AS [o]
        WHERE [o].[Order_id] = @__orderId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-30 06:09:59.184 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__sourceOrderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Order_detail_id], [o].[Order_id], [o].[Price], [o].[Product_id], [o].[Product_name], [o].[Product_note], [o].[Quantity], [o].[Status]
FROM [Order_detail] AS [o]
WHERE [o].[Order_id] = @__sourceOrderId_0
2025-03-30 06:10:14.286 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__8__locals1_targetOrderId_0='?' (DbType = Int32), @__productId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Order_detail_id], [o].[Order_id], [o].[Price], [o].[Product_id], [o].[Product_name], [o].[Product_note], [o].[Quantity], [o].[Status]
FROM [Order_detail] AS [o]
WHERE ([o].[Order_id] = @__8__locals1_targetOrderId_0) AND ([o].[Product_id] = @__productId_1)
2025-03-30 06:10:14.431 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Order_id], [t].[Amount_due], [t].[Created_time], [t].[Customer_id], [t].[Delivery_information_id], [t].[Order_note], [t].[Order_status_id], [t].[Order_type_id], [t].[Room_id], [t].[Shipper_id], [t].[Total_quantity], [o0].[Order_detail_id], [o0].[Order_id], [o0].[Price], [o0].[Product_id], [o0].[Product_name], [o0].[Product_note], [o0].[Quantity], [o0].[Status]
FROM (
    SELECT TOP(1) [o].[Order_id], [o].[Amount_due], [o].[Created_time], [o].[Customer_id], [o].[Delivery_information_id], [o].[Order_note], [o].[Order_status_id], [o].[Order_type_id], [o].[Room_id], [o].[Shipper_id], [o].[Total_quantity]
    FROM [Order] AS [o]
    WHERE [o].[Order_id] = @__orderId_0
) AS [t]
LEFT JOIN [Order_detail] AS [o0] ON [t].[Order_id] = [o0].[Order_id]
ORDER BY [t].[Order_id]
2025-03-30 06:10:14.593 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@p10='?' (DbType = Int32), @p0='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 255), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Order] SET [Amount_due] = @p0, [Created_time] = @p1, [Customer_id] = @p2, [Delivery_information_id] = @p3, [Order_note] = @p4, [Order_status_id] = @p5, [Order_type_id] = @p6, [Room_id] = @p7, [Shipper_id] = @p8, [Total_quantity] = @p9
WHERE [Order_id] = @p10;
SELECT @@ROWCOUNT;
2025-03-30 06:10:14.606 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [Order_detail]
WHERE [Order_detail_id] = @p0;
SELECT @@ROWCOUNT;
2025-03-30 06:10:14.616 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p2='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p3='?' (DbType = Int32), @p4='?' (Size = 100), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Order_detail] ([Order_id], [Price], [Product_id], [Product_name], [Product_note], [Quantity], [Status])
VALUES (@p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT [Order_detail_id]
FROM [Order_detail]
WHERE @@ROWCOUNT = 1 AND [Order_detail_id] = scope_identity();
2025-03-30 06:10:14.665 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Order_id], [t].[Amount_due], [t].[Created_time], [t].[Customer_id], [t].[Delivery_information_id], [t].[Order_note], [t].[Order_status_id], [t].[Order_type_id], [t].[Room_id], [t].[Shipper_id], [t].[Total_quantity], [o0].[Order_detail_id], [o0].[Order_id], [o0].[Price], [o0].[Product_id], [o0].[Product_name], [o0].[Product_note], [o0].[Quantity], [o0].[Status]
FROM (
    SELECT TOP(1) [o].[Order_id], [o].[Amount_due], [o].[Created_time], [o].[Customer_id], [o].[Delivery_information_id], [o].[Order_note], [o].[Order_status_id], [o].[Order_type_id], [o].[Room_id], [o].[Shipper_id], [o].[Total_quantity]
    FROM [Order] AS [o]
    WHERE [o].[Order_id] = @__orderId_0
) AS [t]
LEFT JOIN [Order_detail] AS [o0] ON [t].[Order_id] = [o0].[Order_id]
ORDER BY [t].[Order_id]
2025-03-30 06:10:14.669 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@p10='?' (DbType = Int32), @p0='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 255), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Order] SET [Amount_due] = @p0, [Created_time] = @p1, [Customer_id] = @p2, [Delivery_information_id] = @p3, [Order_note] = @p4, [Order_status_id] = @p5, [Order_type_id] = @p6, [Room_id] = @p7, [Shipper_id] = @p8, [Total_quantity] = @p9
WHERE [Order_id] = @p10;
SELECT @@ROWCOUNT;
2025-03-30 06:10:14.680 +07:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-30 06:10:14.702 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.SplitOrderPos (BepKhoiBackend.API) in 140528.025ms
2025-03-30 06:10:14.706 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.SplitOrderPos (BepKhoiBackend.API)'
2025-03-30 06:10:14.717 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7257/api/order-detail/SplitOrderPos application/json 217 - 400 - application/json;+charset=utf-8 140667.3616ms
2025-03-30 06:18:55.861 +07:00 [INF] User profile is available. Using 'C:\Users\phams\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-30 06:18:56.116 +07:00 [INF] Now listening on: https://localhost:7257
2025-03-30 06:18:56.117 +07:00 [INF] Now listening on: http://localhost:5287
2025-03-30 06:18:56.119 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-30 06:18:56.119 +07:00 [INF] Hosting environment: Development
2025-03-30 06:18:56.120 +07:00 [INF] Content root path: C:\Users\phams\Desktop\Do an SP25\Backend\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-03-30 06:18:56.629 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-03-30 06:18:56.900 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 273.0971ms
2025-03-30 06:18:56.915 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-03-30 06:18:56.919 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 13772 application/javascript;+charset=utf-8 3.4300ms
2025-03-30 06:18:56.937 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-03-30 06:18:56.986 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 49.0268ms
2025-03-30 06:18:57.093 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-03-30 06:18:57.246 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 153.6281ms
2025-03-30 06:22:52.055 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7257/api/order-detail/SplitOrderPos application/json 216
2025-03-30 06:22:52.083 +07:00 [INF] CORS policy execution failed.
2025-03-30 06:22:52.084 +07:00 [INF] Request origin https://localhost:7257 does not have permission to access the resource.
2025-03-30 06:22:52.140 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.SplitOrderPos (BepKhoiBackend.API)'
2025-03-30 06:22:52.162 +07:00 [INF] Route matched with {action = "SplitOrderPos", controller = "OrderDetailControllers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SplitOrderPos(BepKhoiBackend.BusinessObject.dtos.OrderDetailDto.SplitOrderPosRquest) on controller BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers (BepKhoiBackend.API).
2025-03-30 06:24:28.815 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-03-30 06:24:30.457 +07:00 [INF] Executed DbCommand (61ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Order] AS [o]
        WHERE [o].[Order_id] = @__orderId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-30 06:24:30.543 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__sourceOrderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Order_detail_id], [o].[Order_id], [o].[Price], [o].[Product_id], [o].[Product_name], [o].[Product_note], [o].[Quantity], [o].[Status]
FROM [Order_detail] AS [o]
WHERE [o].[Order_id] = @__sourceOrderId_0
2025-03-30 06:24:30.788 +07:00 [ERR] Failed executing DbCommand (17ms) [Parameters=[@p0='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 255), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Order] ([Amount_due], [Customer_id], [Delivery_information_id], [Order_note], [Order_status_id], [Order_type_id], [Room_id], [Shipper_id], [Total_quantity])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT [Order_id], [Created_time]
FROM [Order]
WHERE @@ROWCOUNT = 1 AND [Order_id] = scope_identity();
2025-03-30 06:24:30.844 +07:00 [ERR] An exception occurred in the database while saving changes for context type 'BepKhoiBackend.DataAccess.Models.bepkhoiContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK__Order__Order_typ__7E37BEF6". The conflict occurred in database "bepkhoi", table "dbo.Order_type", column 'Order_type_id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:b0f6dca2-70f0-4bdf-9ca5-7b825b6398f9
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK__Order__Order_typ__7E37BEF6". The conflict occurred in database "bepkhoi", table "dbo.Order_type", column 'Order_type_id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:b0f6dca2-70f0-4bdf-9ca5-7b825b6398f9
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-03-30 06:24:30.992 +07:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-30 06:24:31.016 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.SplitOrderPos (BepKhoiBackend.API) in 98846.0896ms
2025-03-30 06:24:31.019 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.SplitOrderPos (BepKhoiBackend.API)'
2025-03-30 06:24:31.029 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7257/api/order-detail/SplitOrderPos application/json 216 - 500 - application/json;+charset=utf-8 98974.4132ms
2025-03-30 06:24:59.335 +07:00 [INF] User profile is available. Using 'C:\Users\phams\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-30 06:24:59.575 +07:00 [INF] Now listening on: https://localhost:7257
2025-03-30 06:24:59.576 +07:00 [INF] Now listening on: http://localhost:5287
2025-03-30 06:24:59.578 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-30 06:24:59.579 +07:00 [INF] Hosting environment: Development
2025-03-30 06:24:59.580 +07:00 [INF] Content root path: C:\Users\phams\Desktop\Do an SP25\Backend\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-03-30 06:25:00.303 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-03-30 06:25:00.570 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 270.0360ms
2025-03-30 06:25:00.581 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-03-30 06:25:00.585 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 13772 application/javascript;+charset=utf-8 3.6984ms
2025-03-30 06:25:00.610 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-03-30 06:25:00.650 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 40.3299ms
2025-03-30 06:25:00.756 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-03-30 06:25:00.914 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 158.2407ms
2025-03-30 06:25:55.113 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7257/api/order-detail/SplitOrderPos application/json 217
2025-03-30 06:25:55.143 +07:00 [INF] CORS policy execution failed.
2025-03-30 06:25:55.145 +07:00 [INF] Request origin https://localhost:7257 does not have permission to access the resource.
2025-03-30 06:25:55.198 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.SplitOrderPos (BepKhoiBackend.API)'
2025-03-30 06:25:55.219 +07:00 [INF] Route matched with {action = "SplitOrderPos", controller = "OrderDetailControllers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SplitOrderPos(BepKhoiBackend.BusinessObject.dtos.OrderDetailDto.SplitOrderPosRquest) on controller BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers (BepKhoiBackend.API).
2025-03-30 06:30:00.411 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-03-30 06:30:02.035 +07:00 [INF] Executed DbCommand (59ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Order] AS [o]
        WHERE [o].[Order_id] = @__orderId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-30 06:30:04.878 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Order] AS [o]
        WHERE [o].[Order_id] = @__orderId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-30 06:30:18.581 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__sourceOrderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Order_detail_id], [o].[Order_id], [o].[Price], [o].[Product_id], [o].[Product_name], [o].[Product_note], [o].[Quantity], [o].[Status]
FROM [Order_detail] AS [o]
WHERE [o].[Order_id] = @__sourceOrderId_0
2025-03-30 06:32:08.312 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__8__locals1_targetOrderId_0='?' (DbType = Int32), @__productId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Order_detail_id], [o].[Order_id], [o].[Price], [o].[Product_id], [o].[Product_name], [o].[Product_note], [o].[Quantity], [o].[Status]
FROM [Order_detail] AS [o]
WHERE ([o].[Order_id] = @__8__locals1_targetOrderId_0) AND ([o].[Product_id] = @__productId_1)
2025-03-30 06:32:25.542 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Order_id], [t].[Amount_due], [t].[Created_time], [t].[Customer_id], [t].[Delivery_information_id], [t].[Order_note], [t].[Order_status_id], [t].[Order_type_id], [t].[Room_id], [t].[Shipper_id], [t].[Total_quantity], [o0].[Order_detail_id], [o0].[Order_id], [o0].[Price], [o0].[Product_id], [o0].[Product_name], [o0].[Product_note], [o0].[Quantity], [o0].[Status]
FROM (
    SELECT TOP(1) [o].[Order_id], [o].[Amount_due], [o].[Created_time], [o].[Customer_id], [o].[Delivery_information_id], [o].[Order_note], [o].[Order_status_id], [o].[Order_type_id], [o].[Room_id], [o].[Shipper_id], [o].[Total_quantity]
    FROM [Order] AS [o]
    WHERE [o].[Order_id] = @__orderId_0
) AS [t]
LEFT JOIN [Order_detail] AS [o0] ON [t].[Order_id] = [o0].[Order_id]
ORDER BY [t].[Order_id]
2025-03-30 06:32:25.700 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@p10='?' (DbType = Int32), @p0='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 255), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Order] SET [Amount_due] = @p0, [Created_time] = @p1, [Customer_id] = @p2, [Delivery_information_id] = @p3, [Order_note] = @p4, [Order_status_id] = @p5, [Order_type_id] = @p6, [Room_id] = @p7, [Shipper_id] = @p8, [Total_quantity] = @p9
WHERE [Order_id] = @p10;
SELECT @@ROWCOUNT;
2025-03-30 06:32:25.710 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Order_detail] SET [Quantity] = @p0
WHERE [Order_detail_id] = @p1;
SELECT @@ROWCOUNT;
2025-03-30 06:32:25.725 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p2='?' (DbType = Int32), @p3='?' (Size = 100), @p4='?' (Size = 255), @p5='?' (DbType = Int32), @p6='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Order_detail] ([Order_id], [Price], [Product_id], [Product_name], [Product_note], [Quantity], [Status])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT [Order_detail_id]
FROM [Order_detail]
WHERE @@ROWCOUNT = 1 AND [Order_detail_id] = scope_identity();
2025-03-30 06:32:26.785 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Order_id], [t].[Amount_due], [t].[Created_time], [t].[Customer_id], [t].[Delivery_information_id], [t].[Order_note], [t].[Order_status_id], [t].[Order_type_id], [t].[Room_id], [t].[Shipper_id], [t].[Total_quantity], [o0].[Order_detail_id], [o0].[Order_id], [o0].[Price], [o0].[Product_id], [o0].[Product_name], [o0].[Product_note], [o0].[Quantity], [o0].[Status]
FROM (
    SELECT TOP(1) [o].[Order_id], [o].[Amount_due], [o].[Created_time], [o].[Customer_id], [o].[Delivery_information_id], [o].[Order_note], [o].[Order_status_id], [o].[Order_type_id], [o].[Room_id], [o].[Shipper_id], [o].[Total_quantity]
    FROM [Order] AS [o]
    WHERE [o].[Order_id] = @__orderId_0
) AS [t]
LEFT JOIN [Order_detail] AS [o0] ON [t].[Order_id] = [o0].[Order_id]
ORDER BY [t].[Order_id]
2025-03-30 06:32:26.793 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@p10='?' (DbType = Int32), @p0='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 255), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Order] SET [Amount_due] = @p0, [Created_time] = @p1, [Customer_id] = @p2, [Delivery_information_id] = @p3, [Order_note] = @p4, [Order_status_id] = @p5, [Order_type_id] = @p6, [Room_id] = @p7, [Shipper_id] = @p8, [Total_quantity] = @p9
WHERE [Order_id] = @p10;
SELECT @@ROWCOUNT;
2025-03-30 06:32:51.309 +07:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-30 06:32:51.331 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.SplitOrderPos (BepKhoiBackend.API) in 416105.7708ms
2025-03-30 06:32:51.334 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.SplitOrderPos (BepKhoiBackend.API)'
2025-03-30 06:32:51.351 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7257/api/order-detail/SplitOrderPos application/json 217 - 400 - application/json;+charset=utf-8 416238.2371ms
2025-03-30 06:34:57.807 +07:00 [INF] User profile is available. Using 'C:\Users\phams\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-30 06:34:58.079 +07:00 [INF] Now listening on: https://localhost:7257
2025-03-30 06:34:58.081 +07:00 [INF] Now listening on: http://localhost:5287
2025-03-30 06:34:58.084 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-30 06:34:58.085 +07:00 [INF] Hosting environment: Development
2025-03-30 06:34:58.086 +07:00 [INF] Content root path: C:\Users\phams\Desktop\Do an SP25\Backend\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-03-30 06:34:58.531 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-03-30 06:34:58.805 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 276.0867ms
2025-03-30 06:34:58.817 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-03-30 06:34:58.821 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 13772 application/javascript;+charset=utf-8 3.7449ms
2025-03-30 06:34:58.841 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-03-30 06:34:58.883 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 42.2555ms
2025-03-30 06:34:58.994 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-03-30 06:34:59.142 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 148.1230ms
2025-03-30 06:36:08.189 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7257/api/order-detail/SplitOrderPos application/json 217
2025-03-30 06:36:08.220 +07:00 [INF] CORS policy execution failed.
2025-03-30 06:36:08.221 +07:00 [INF] Request origin https://localhost:7257 does not have permission to access the resource.
2025-03-30 06:36:08.278 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.SplitOrderPos (BepKhoiBackend.API)'
2025-03-30 06:36:08.300 +07:00 [INF] Route matched with {action = "SplitOrderPos", controller = "OrderDetailControllers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SplitOrderPos(BepKhoiBackend.BusinessObject.dtos.OrderDetailDto.SplitOrderPosRquest) on controller BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers (BepKhoiBackend.API).
2025-03-30 06:40:35.408 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-03-30 06:40:37.030 +07:00 [INF] Executed DbCommand (61ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Order] AS [o]
        WHERE [o].[Order_id] = @__orderId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-30 06:40:38.502 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Order] AS [o]
        WHERE [o].[Order_id] = @__orderId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-30 06:40:43.116 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__sourceOrderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Order_detail_id], [o].[Order_id], [o].[Price], [o].[Product_id], [o].[Product_name], [o].[Product_note], [o].[Quantity], [o].[Status]
FROM [Order_detail] AS [o]
WHERE [o].[Order_id] = @__sourceOrderId_0
2025-03-30 06:41:10.301 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__8__locals1_targetOrderId_0='?' (DbType = Int32), @__productId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Order_detail_id], [o].[Order_id], [o].[Price], [o].[Product_id], [o].[Product_name], [o].[Product_note], [o].[Quantity], [o].[Status]
FROM [Order_detail] AS [o]
WHERE ([o].[Order_id] = @__8__locals1_targetOrderId_0) AND ([o].[Product_id] = @__productId_1)
2025-03-30 06:41:24.473 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Order_id], [t].[Amount_due], [t].[Created_time], [t].[Customer_id], [t].[Delivery_information_id], [t].[Order_note], [t].[Order_status_id], [t].[Order_type_id], [t].[Room_id], [t].[Shipper_id], [t].[Total_quantity], [o0].[Order_detail_id], [o0].[Order_id], [o0].[Price], [o0].[Product_id], [o0].[Product_name], [o0].[Product_note], [o0].[Quantity], [o0].[Status]
FROM (
    SELECT TOP(1) [o].[Order_id], [o].[Amount_due], [o].[Created_time], [o].[Customer_id], [o].[Delivery_information_id], [o].[Order_note], [o].[Order_status_id], [o].[Order_type_id], [o].[Room_id], [o].[Shipper_id], [o].[Total_quantity]
    FROM [Order] AS [o]
    WHERE [o].[Order_id] = @__orderId_0
) AS [t]
LEFT JOIN [Order_detail] AS [o0] ON [t].[Order_id] = [o0].[Order_id]
ORDER BY [t].[Order_id]
2025-03-30 06:41:24.645 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@p10='?' (DbType = Int32), @p0='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 255), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Order] SET [Amount_due] = @p0, [Created_time] = @p1, [Customer_id] = @p2, [Delivery_information_id] = @p3, [Order_note] = @p4, [Order_status_id] = @p5, [Order_type_id] = @p6, [Room_id] = @p7, [Shipper_id] = @p8, [Total_quantity] = @p9
WHERE [Order_id] = @p10;
SELECT @@ROWCOUNT;
2025-03-30 06:41:24.658 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [Order_detail]
WHERE [Order_detail_id] = @p0;
SELECT @@ROWCOUNT;
2025-03-30 06:41:24.660 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Order_detail] SET [Quantity] = @p0
WHERE [Order_detail_id] = @p1;
SELECT @@ROWCOUNT;
2025-03-30 06:41:25.811 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Order_id], [t].[Amount_due], [t].[Created_time], [t].[Customer_id], [t].[Delivery_information_id], [t].[Order_note], [t].[Order_status_id], [t].[Order_type_id], [t].[Room_id], [t].[Shipper_id], [t].[Total_quantity], [o0].[Order_detail_id], [o0].[Order_id], [o0].[Price], [o0].[Product_id], [o0].[Product_name], [o0].[Product_note], [o0].[Quantity], [o0].[Status]
FROM (
    SELECT TOP(1) [o].[Order_id], [o].[Amount_due], [o].[Created_time], [o].[Customer_id], [o].[Delivery_information_id], [o].[Order_note], [o].[Order_status_id], [o].[Order_type_id], [o].[Room_id], [o].[Shipper_id], [o].[Total_quantity]
    FROM [Order] AS [o]
    WHERE [o].[Order_id] = @__orderId_0
) AS [t]
LEFT JOIN [Order_detail] AS [o0] ON [t].[Order_id] = [o0].[Order_id]
ORDER BY [t].[Order_id]
2025-03-30 06:41:25.819 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@p10='?' (DbType = Int32), @p0='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 255), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Order] SET [Amount_due] = @p0, [Created_time] = @p1, [Customer_id] = @p2, [Delivery_information_id] = @p3, [Order_note] = @p4, [Order_status_id] = @p5, [Order_type_id] = @p6, [Room_id] = @p7, [Shipper_id] = @p8, [Total_quantity] = @p9
WHERE [Order_id] = @p10;
SELECT @@ROWCOUNT;
2025-03-30 06:41:41.238 +07:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-30 06:41:41.259 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.SplitOrderPos (BepKhoiBackend.API) in 332953.4401ms
2025-03-30 06:41:41.262 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.SplitOrderPos (BepKhoiBackend.API)'
2025-03-30 06:41:41.272 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7257/api/order-detail/SplitOrderPos application/json 217 - 400 - application/json;+charset=utf-8 333082.9184ms
2025-03-30 06:50:38.592 +07:00 [INF] User profile is available. Using 'C:\Users\phams\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-30 06:50:38.838 +07:00 [INF] Now listening on: https://localhost:7257
2025-03-30 06:50:38.840 +07:00 [INF] Now listening on: http://localhost:5287
2025-03-30 06:50:38.843 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-30 06:50:38.843 +07:00 [INF] Hosting environment: Development
2025-03-30 06:50:38.844 +07:00 [INF] Content root path: C:\Users\phams\Desktop\Do an SP25\Backend\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-03-30 06:50:39.498 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-03-30 06:50:39.769 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 272.4980ms
2025-03-30 06:50:39.782 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-03-30 06:50:39.786 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 13772 application/javascript;+charset=utf-8 3.9501ms
2025-03-30 06:50:39.808 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-03-30 06:50:39.850 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 41.5925ms
2025-03-30 06:50:39.983 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-03-30 06:50:40.139 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 155.5885ms
2025-03-30 06:52:13.147 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7257/api/order-detail/SplitOrderPos application/json 218
2025-03-30 06:52:13.178 +07:00 [INF] CORS policy execution failed.
2025-03-30 06:52:13.179 +07:00 [INF] Request origin https://localhost:7257 does not have permission to access the resource.
2025-03-30 06:52:13.234 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.SplitOrderPos (BepKhoiBackend.API)'
2025-03-30 06:52:13.256 +07:00 [INF] Route matched with {action = "SplitOrderPos", controller = "OrderDetailControllers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SplitOrderPos(BepKhoiBackend.BusinessObject.dtos.OrderDetailDto.SplitOrderPosRquest) on controller BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers (BepKhoiBackend.API).
2025-03-30 06:59:23.798 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-03-30 06:59:25.412 +07:00 [INF] Executed DbCommand (58ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Order] AS [o]
        WHERE [o].[Order_id] = @__orderId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-30 06:59:29.408 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Order] AS [o]
        WHERE [o].[Order_id] = @__orderId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-30 06:59:33.411 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__sourceOrderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Order_detail_id], [o].[Order_id], [o].[Price], [o].[Product_id], [o].[Product_name], [o].[Product_note], [o].[Quantity], [o].[Status]
FROM [Order_detail] AS [o]
WHERE [o].[Order_id] = @__sourceOrderId_0
2025-03-30 06:59:39.520 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__8__locals1_targetOrderId_0='?' (DbType = Int32), @__productId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Order_detail_id], [o].[Order_id], [o].[Price], [o].[Product_id], [o].[Product_name], [o].[Product_note], [o].[Quantity], [o].[Status]
FROM [Order_detail] AS [o]
WHERE ([o].[Order_id] = @__8__locals1_targetOrderId_0) AND ([o].[Product_id] = @__productId_1)
2025-03-30 06:59:39.664 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Order_id], [t].[Amount_due], [t].[Created_time], [t].[Customer_id], [t].[Delivery_information_id], [t].[Order_note], [t].[Order_status_id], [t].[Order_type_id], [t].[Room_id], [t].[Shipper_id], [t].[Total_quantity], [o0].[Order_detail_id], [o0].[Order_id], [o0].[Price], [o0].[Product_id], [o0].[Product_name], [o0].[Product_note], [o0].[Quantity], [o0].[Status]
FROM (
    SELECT TOP(1) [o].[Order_id], [o].[Amount_due], [o].[Created_time], [o].[Customer_id], [o].[Delivery_information_id], [o].[Order_note], [o].[Order_status_id], [o].[Order_type_id], [o].[Room_id], [o].[Shipper_id], [o].[Total_quantity]
    FROM [Order] AS [o]
    WHERE [o].[Order_id] = @__orderId_0
) AS [t]
LEFT JOIN [Order_detail] AS [o0] ON [t].[Order_id] = [o0].[Order_id]
ORDER BY [t].[Order_id]
2025-03-30 06:59:39.820 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@p10='?' (DbType = Int32), @p0='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 255), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Order] SET [Amount_due] = @p0, [Created_time] = @p1, [Customer_id] = @p2, [Delivery_information_id] = @p3, [Order_note] = @p4, [Order_status_id] = @p5, [Order_type_id] = @p6, [Room_id] = @p7, [Shipper_id] = @p8, [Total_quantity] = @p9
WHERE [Order_id] = @p10;
SELECT @@ROWCOUNT;
2025-03-30 06:59:39.831 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [Order_detail]
WHERE [Order_detail_id] = @p0;
SELECT @@ROWCOUNT;
2025-03-30 06:59:39.841 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p2='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p3='?' (DbType = Int32), @p4='?' (Size = 100), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Order_detail] ([Order_id], [Price], [Product_id], [Product_name], [Product_note], [Quantity], [Status])
VALUES (@p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT [Order_detail_id]
FROM [Order_detail]
WHERE @@ROWCOUNT = 1 AND [Order_detail_id] = scope_identity();
2025-03-30 06:59:39.892 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Order_id], [t].[Amount_due], [t].[Created_time], [t].[Customer_id], [t].[Delivery_information_id], [t].[Order_note], [t].[Order_status_id], [t].[Order_type_id], [t].[Room_id], [t].[Shipper_id], [t].[Total_quantity], [o0].[Order_detail_id], [o0].[Order_id], [o0].[Price], [o0].[Product_id], [o0].[Product_name], [o0].[Product_note], [o0].[Quantity], [o0].[Status]
FROM (
    SELECT TOP(1) [o].[Order_id], [o].[Amount_due], [o].[Created_time], [o].[Customer_id], [o].[Delivery_information_id], [o].[Order_note], [o].[Order_status_id], [o].[Order_type_id], [o].[Room_id], [o].[Shipper_id], [o].[Total_quantity]
    FROM [Order] AS [o]
    WHERE [o].[Order_id] = @__orderId_0
) AS [t]
LEFT JOIN [Order_detail] AS [o0] ON [t].[Order_id] = [o0].[Order_id]
ORDER BY [t].[Order_id]
2025-03-30 06:59:39.897 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@p10='?' (DbType = Int32), @p0='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 255), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Order] SET [Amount_due] = @p0, [Created_time] = @p1, [Customer_id] = @p2, [Delivery_information_id] = @p3, [Order_note] = @p4, [Order_status_id] = @p5, [Order_type_id] = @p6, [Room_id] = @p7, [Shipper_id] = @p8, [Total_quantity] = @p9
WHERE [Order_id] = @p10;
SELECT @@ROWCOUNT;
2025-03-30 06:59:39.908 +07:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-30 06:59:39.927 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.SplitOrderPos (BepKhoiBackend.API) in 446665.2326ms
2025-03-30 06:59:39.931 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.SplitOrderPos (BepKhoiBackend.API)'
2025-03-30 06:59:39.942 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7257/api/order-detail/SplitOrderPos application/json 218 - 400 - application/json;+charset=utf-8 446794.9511ms
2025-03-30 07:05:38.613 +07:00 [INF] User profile is available. Using 'C:\Users\phams\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-30 07:05:38.730 +07:00 [INF] Now listening on: https://localhost:7257
2025-03-30 07:05:38.732 +07:00 [INF] Now listening on: http://localhost:5287
2025-03-30 07:05:38.734 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-30 07:05:38.734 +07:00 [INF] Hosting environment: Development
2025-03-30 07:05:38.735 +07:00 [INF] Content root path: C:\Users\phams\Desktop\Do an SP25\Backend\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-03-30 07:05:39.262 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-03-30 07:05:39.429 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 169.6484ms
2025-03-30 07:05:39.452 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-03-30 07:05:39.454 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 13772 application/javascript;+charset=utf-8 2.2137ms
2025-03-30 07:05:39.516 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-03-30 07:05:39.536 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 20.2232ms
2025-03-30 07:05:40.057 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-03-30 07:05:40.059 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/favicon-32x32.png - -
2025-03-30 07:05:40.067 +07:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2025-03-30 07:05:40.068 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/favicon-32x32.png - - - 200 628 image/png 9.0419ms
2025-03-30 07:05:40.179 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 121.8903ms
2025-03-30 07:06:48.993 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7257/api/order-detail/SplitOrderPos application/json 218
2025-03-30 07:06:49.013 +07:00 [INF] CORS policy execution failed.
2025-03-30 07:06:49.015 +07:00 [INF] Request origin https://localhost:7257 does not have permission to access the resource.
2025-03-30 07:06:49.033 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.SplitOrderPos (BepKhoiBackend.API)'
2025-03-30 07:06:49.049 +07:00 [INF] Route matched with {action = "SplitOrderPos", controller = "OrderDetailControllers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SplitOrderPos(BepKhoiBackend.BusinessObject.dtos.OrderDetailDto.SplitOrderPosRquest) on controller BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers (BepKhoiBackend.API).
2025-03-30 07:06:49.735 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-03-30 07:06:51.044 +07:00 [INF] Executed DbCommand (28ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Order] AS [o]
        WHERE [o].[Order_id] = @__orderId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-30 07:06:51.067 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Order] AS [o]
        WHERE [o].[Order_id] = @__orderId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-30 07:06:51.095 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__sourceOrderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Order_detail_id], [o].[Order_id], [o].[Price], [o].[Product_id], [o].[Product_name], [o].[Product_note], [o].[Quantity], [o].[Status]
FROM [Order_detail] AS [o]
WHERE [o].[Order_id] = @__sourceOrderId_0
2025-03-30 07:06:51.132 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__8__locals1_targetOrderId_0='?' (DbType = Int32), @__productId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Order_detail_id], [o].[Order_id], [o].[Price], [o].[Product_id], [o].[Product_name], [o].[Product_note], [o].[Quantity], [o].[Status]
FROM [Order_detail] AS [o]
WHERE ([o].[Order_id] = @__8__locals1_targetOrderId_0) AND ([o].[Product_id] = @__productId_1)
2025-03-30 07:06:51.215 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Order_id], [t].[Amount_due], [t].[Created_time], [t].[Customer_id], [t].[Delivery_information_id], [t].[Order_note], [t].[Order_status_id], [t].[Order_type_id], [t].[Room_id], [t].[Shipper_id], [t].[Total_quantity], [o0].[Order_detail_id], [o0].[Order_id], [o0].[Price], [o0].[Product_id], [o0].[Product_name], [o0].[Product_note], [o0].[Quantity], [o0].[Status]
FROM (
    SELECT TOP(1) [o].[Order_id], [o].[Amount_due], [o].[Created_time], [o].[Customer_id], [o].[Delivery_information_id], [o].[Order_note], [o].[Order_status_id], [o].[Order_type_id], [o].[Room_id], [o].[Shipper_id], [o].[Total_quantity]
    FROM [Order] AS [o]
    WHERE [o].[Order_id] = @__orderId_0
) AS [t]
LEFT JOIN [Order_detail] AS [o0] ON [t].[Order_id] = [o0].[Order_id]
ORDER BY [t].[Order_id]
2025-03-30 07:06:51.324 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@p10='?' (DbType = Int32), @p0='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 255), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Order] SET [Amount_due] = @p0, [Created_time] = @p1, [Customer_id] = @p2, [Delivery_information_id] = @p3, [Order_note] = @p4, [Order_status_id] = @p5, [Order_type_id] = @p6, [Room_id] = @p7, [Shipper_id] = @p8, [Total_quantity] = @p9
WHERE [Order_id] = @p10;
SELECT @@ROWCOUNT;
2025-03-30 07:06:51.332 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [Order_detail]
WHERE [Order_detail_id] = @p0;
SELECT @@ROWCOUNT;
2025-03-30 07:06:51.339 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p2='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p3='?' (DbType = Int32), @p4='?' (Size = 100), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Order_detail] ([Order_id], [Price], [Product_id], [Product_name], [Product_note], [Quantity], [Status])
VALUES (@p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT [Order_detail_id]
FROM [Order_detail]
WHERE @@ROWCOUNT = 1 AND [Order_detail_id] = scope_identity();
2025-03-30 07:06:51.366 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Order_id], [t].[Amount_due], [t].[Created_time], [t].[Customer_id], [t].[Delivery_information_id], [t].[Order_note], [t].[Order_status_id], [t].[Order_type_id], [t].[Room_id], [t].[Shipper_id], [t].[Total_quantity], [o0].[Order_detail_id], [o0].[Order_id], [o0].[Price], [o0].[Product_id], [o0].[Product_name], [o0].[Product_note], [o0].[Quantity], [o0].[Status]
FROM (
    SELECT TOP(1) [o].[Order_id], [o].[Amount_due], [o].[Created_time], [o].[Customer_id], [o].[Delivery_information_id], [o].[Order_note], [o].[Order_status_id], [o].[Order_type_id], [o].[Room_id], [o].[Shipper_id], [o].[Total_quantity]
    FROM [Order] AS [o]
    WHERE [o].[Order_id] = @__orderId_0
) AS [t]
LEFT JOIN [Order_detail] AS [o0] ON [t].[Order_id] = [o0].[Order_id]
ORDER BY [t].[Order_id]
2025-03-30 07:06:51.374 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@p10='?' (DbType = Int32), @p0='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 255), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Order] SET [Amount_due] = @p0, [Created_time] = @p1, [Customer_id] = @p2, [Delivery_information_id] = @p3, [Order_note] = @p4, [Order_status_id] = @p5, [Order_type_id] = @p6, [Room_id] = @p7, [Shipper_id] = @p8, [Total_quantity] = @p9
WHERE [Order_id] = @p10;
SELECT @@ROWCOUNT;
2025-03-30 07:06:51.379 +07:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-30 07:06:51.393 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.SplitOrderPos (BepKhoiBackend.API) in 2337.9925ms
2025-03-30 07:06:51.395 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.SplitOrderPos (BepKhoiBackend.API)'
2025-03-30 07:06:51.399 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7257/api/order-detail/SplitOrderPos application/json 218 - 400 - application/json;+charset=utf-8 2405.1248ms
2025-03-30 07:06:59.100 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7257/api/order-detail/SplitOrderPos application/json 218
2025-03-30 07:06:59.105 +07:00 [INF] CORS policy execution failed.
2025-03-30 07:06:59.106 +07:00 [INF] Request origin https://localhost:7257 does not have permission to access the resource.
2025-03-30 07:06:59.107 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.SplitOrderPos (BepKhoiBackend.API)'
2025-03-30 07:06:59.108 +07:00 [INF] Route matched with {action = "SplitOrderPos", controller = "OrderDetailControllers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SplitOrderPos(BepKhoiBackend.BusinessObject.dtos.OrderDetailDto.SplitOrderPosRquest) on controller BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers (BepKhoiBackend.API).
2025-03-30 07:06:59.115 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-03-30 07:06:59.118 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Order] AS [o]
        WHERE [o].[Order_id] = @__orderId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-30 07:06:59.121 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Order] AS [o]
        WHERE [o].[Order_id] = @__orderId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-30 07:06:59.124 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__sourceOrderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Order_detail_id], [o].[Order_id], [o].[Price], [o].[Product_id], [o].[Product_name], [o].[Product_note], [o].[Quantity], [o].[Status]
FROM [Order_detail] AS [o]
WHERE [o].[Order_id] = @__sourceOrderId_0
2025-03-30 07:06:59.126 +07:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-30 07:06:59.127 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.SplitOrderPos (BepKhoiBackend.API) in 18.1043ms
2025-03-30 07:06:59.128 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.SplitOrderPos (BepKhoiBackend.API)'
2025-03-30 07:06:59.129 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7257/api/order-detail/SplitOrderPos application/json 218 - 500 - application/json;+charset=utf-8 29.1585ms
2025-03-30 07:07:01.891 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7257/api/order-detail/SplitOrderPos application/json 218
2025-03-30 07:07:01.893 +07:00 [INF] CORS policy execution failed.
2025-03-30 07:07:01.893 +07:00 [INF] Request origin https://localhost:7257 does not have permission to access the resource.
2025-03-30 07:07:01.895 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.SplitOrderPos (BepKhoiBackend.API)'
2025-03-30 07:07:01.896 +07:00 [INF] Route matched with {action = "SplitOrderPos", controller = "OrderDetailControllers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SplitOrderPos(BepKhoiBackend.BusinessObject.dtos.OrderDetailDto.SplitOrderPosRquest) on controller BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers (BepKhoiBackend.API).
2025-03-30 07:07:01.932 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-03-30 07:07:01.936 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Order] AS [o]
        WHERE [o].[Order_id] = @__orderId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-30 07:07:01.938 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Order] AS [o]
        WHERE [o].[Order_id] = @__orderId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-30 07:07:01.941 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__sourceOrderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Order_detail_id], [o].[Order_id], [o].[Price], [o].[Product_id], [o].[Product_name], [o].[Product_note], [o].[Quantity], [o].[Status]
FROM [Order_detail] AS [o]
WHERE [o].[Order_id] = @__sourceOrderId_0
2025-03-30 07:07:01.942 +07:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-30 07:07:01.943 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.SplitOrderPos (BepKhoiBackend.API) in 44.5958ms
2025-03-30 07:07:01.944 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.SplitOrderPos (BepKhoiBackend.API)'
2025-03-30 07:07:01.945 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7257/api/order-detail/SplitOrderPos application/json 218 - 500 - application/json;+charset=utf-8 54.4634ms
2025-03-30 07:07:02.688 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7257/api/order-detail/SplitOrderPos application/json 218
2025-03-30 07:07:02.690 +07:00 [INF] CORS policy execution failed.
2025-03-30 07:07:02.691 +07:00 [INF] Request origin https://localhost:7257 does not have permission to access the resource.
2025-03-30 07:07:02.692 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.SplitOrderPos (BepKhoiBackend.API)'
2025-03-30 07:07:02.693 +07:00 [INF] Route matched with {action = "SplitOrderPos", controller = "OrderDetailControllers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SplitOrderPos(BepKhoiBackend.BusinessObject.dtos.OrderDetailDto.SplitOrderPosRquest) on controller BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers (BepKhoiBackend.API).
2025-03-30 07:07:02.696 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-03-30 07:07:02.698 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Order] AS [o]
        WHERE [o].[Order_id] = @__orderId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-30 07:07:02.701 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Order] AS [o]
        WHERE [o].[Order_id] = @__orderId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-30 07:07:02.704 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__sourceOrderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Order_detail_id], [o].[Order_id], [o].[Price], [o].[Product_id], [o].[Product_name], [o].[Product_note], [o].[Quantity], [o].[Status]
FROM [Order_detail] AS [o]
WHERE [o].[Order_id] = @__sourceOrderId_0
2025-03-30 07:07:02.706 +07:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-30 07:07:02.707 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.SplitOrderPos (BepKhoiBackend.API) in 12.3745ms
2025-03-30 07:07:02.708 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.SplitOrderPos (BepKhoiBackend.API)'
2025-03-30 07:07:02.709 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7257/api/order-detail/SplitOrderPos application/json 218 - 500 - application/json;+charset=utf-8 21.0016ms
2025-03-30 07:07:02.871 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7257/api/order-detail/SplitOrderPos application/json 218
2025-03-30 07:07:02.874 +07:00 [INF] CORS policy execution failed.
2025-03-30 07:07:02.874 +07:00 [INF] Request origin https://localhost:7257 does not have permission to access the resource.
2025-03-30 07:07:02.875 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.SplitOrderPos (BepKhoiBackend.API)'
2025-03-30 07:07:02.876 +07:00 [INF] Route matched with {action = "SplitOrderPos", controller = "OrderDetailControllers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SplitOrderPos(BepKhoiBackend.BusinessObject.dtos.OrderDetailDto.SplitOrderPosRquest) on controller BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers (BepKhoiBackend.API).
2025-03-30 07:07:02.878 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-03-30 07:07:02.881 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Order] AS [o]
        WHERE [o].[Order_id] = @__orderId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-30 07:07:02.883 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Order] AS [o]
        WHERE [o].[Order_id] = @__orderId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-30 07:07:02.885 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__sourceOrderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Order_detail_id], [o].[Order_id], [o].[Price], [o].[Product_id], [o].[Product_name], [o].[Product_note], [o].[Quantity], [o].[Status]
FROM [Order_detail] AS [o]
WHERE [o].[Order_id] = @__sourceOrderId_0
2025-03-30 07:07:02.887 +07:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-30 07:07:02.888 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.SplitOrderPos (BepKhoiBackend.API) in 9.9191ms
2025-03-30 07:07:02.889 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.SplitOrderPos (BepKhoiBackend.API)'
2025-03-30 07:07:02.889 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7257/api/order-detail/SplitOrderPos application/json 218 - 500 - application/json;+charset=utf-8 18.1291ms
2025-03-30 07:07:03.030 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7257/api/order-detail/SplitOrderPos application/json 218
2025-03-30 07:07:03.032 +07:00 [INF] CORS policy execution failed.
2025-03-30 07:07:03.033 +07:00 [INF] Request origin https://localhost:7257 does not have permission to access the resource.
2025-03-30 07:07:03.034 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.SplitOrderPos (BepKhoiBackend.API)'
2025-03-30 07:07:03.035 +07:00 [INF] Route matched with {action = "SplitOrderPos", controller = "OrderDetailControllers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SplitOrderPos(BepKhoiBackend.BusinessObject.dtos.OrderDetailDto.SplitOrderPosRquest) on controller BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers (BepKhoiBackend.API).
2025-03-30 07:07:03.037 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-03-30 07:07:03.040 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Order] AS [o]
        WHERE [o].[Order_id] = @__orderId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-30 07:07:03.042 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Order] AS [o]
        WHERE [o].[Order_id] = @__orderId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-30 07:07:03.044 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__sourceOrderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Order_detail_id], [o].[Order_id], [o].[Price], [o].[Product_id], [o].[Product_name], [o].[Product_note], [o].[Quantity], [o].[Status]
FROM [Order_detail] AS [o]
WHERE [o].[Order_id] = @__sourceOrderId_0
2025-03-30 07:07:03.046 +07:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-30 07:07:03.047 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.SplitOrderPos (BepKhoiBackend.API) in 10.6148ms
2025-03-30 07:07:03.048 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.SplitOrderPos (BepKhoiBackend.API)'
2025-03-30 07:07:03.049 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7257/api/order-detail/SplitOrderPos application/json 218 - 500 - application/json;+charset=utf-8 18.3102ms
2025-03-30 07:07:30.723 +07:00 [INF] User profile is available. Using 'C:\Users\phams\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-30 07:07:30.926 +07:00 [INF] Now listening on: https://localhost:7257
2025-03-30 07:07:30.927 +07:00 [INF] Now listening on: http://localhost:5287
2025-03-30 07:07:30.930 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-30 07:07:30.931 +07:00 [INF] Hosting environment: Development
2025-03-30 07:07:30.932 +07:00 [INF] Content root path: C:\Users\phams\Desktop\Do an SP25\Backend\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-03-30 07:07:31.533 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-03-30 07:07:31.816 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 285.7018ms
2025-03-30 07:07:32.376 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-03-30 07:07:32.376 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-03-30 07:07:32.381 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 13772 application/javascript;+charset=utf-8 5.5790ms
2025-03-30 07:07:32.428 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 52.3503ms
2025-03-30 07:07:32.583 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-03-30 07:07:32.738 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 155.5558ms
2025-03-30 07:08:45.665 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7257/api/order-detail/SplitOrderPos application/json 218
2025-03-30 07:08:45.696 +07:00 [INF] CORS policy execution failed.
2025-03-30 07:08:45.698 +07:00 [INF] Request origin https://localhost:7257 does not have permission to access the resource.
2025-03-30 07:08:45.755 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.SplitOrderPos (BepKhoiBackend.API)'
2025-03-30 07:08:45.776 +07:00 [INF] Route matched with {action = "SplitOrderPos", controller = "OrderDetailControllers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SplitOrderPos(BepKhoiBackend.BusinessObject.dtos.OrderDetailDto.SplitOrderPosRquest) on controller BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers (BepKhoiBackend.API).
2025-03-30 07:12:40.629 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-03-30 07:12:42.242 +07:00 [INF] Executed DbCommand (59ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Order] AS [o]
        WHERE [o].[Order_id] = @__orderId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-30 07:12:55.801 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Order] AS [o]
        WHERE [o].[Order_id] = @__orderId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-30 07:13:10.831 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__sourceOrderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Order_detail_id], [o].[Order_id], [o].[Price], [o].[Product_id], [o].[Product_name], [o].[Product_note], [o].[Quantity], [o].[Status]
FROM [Order_detail] AS [o]
WHERE [o].[Order_id] = @__sourceOrderId_0
2025-03-30 07:13:15.650 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__8__locals1_targetOrderId_0='?' (DbType = Int32), @__productId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Order_detail_id], [o].[Order_id], [o].[Price], [o].[Product_id], [o].[Product_name], [o].[Product_note], [o].[Quantity], [o].[Status]
FROM [Order_detail] AS [o]
WHERE ([o].[Order_id] = @__8__locals1_targetOrderId_0) AND ([o].[Product_id] = @__productId_1)
2025-03-30 07:13:15.793 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Order_id], [t].[Amount_due], [t].[Created_time], [t].[Customer_id], [t].[Delivery_information_id], [t].[Order_note], [t].[Order_status_id], [t].[Order_type_id], [t].[Room_id], [t].[Shipper_id], [t].[Total_quantity], [o0].[Order_detail_id], [o0].[Order_id], [o0].[Price], [o0].[Product_id], [o0].[Product_name], [o0].[Product_note], [o0].[Quantity], [o0].[Status]
FROM (
    SELECT TOP(1) [o].[Order_id], [o].[Amount_due], [o].[Created_time], [o].[Customer_id], [o].[Delivery_information_id], [o].[Order_note], [o].[Order_status_id], [o].[Order_type_id], [o].[Room_id], [o].[Shipper_id], [o].[Total_quantity]
    FROM [Order] AS [o]
    WHERE [o].[Order_id] = @__orderId_0
) AS [t]
LEFT JOIN [Order_detail] AS [o0] ON [t].[Order_id] = [o0].[Order_id]
ORDER BY [t].[Order_id]
2025-03-30 07:13:15.957 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@p10='?' (DbType = Int32), @p0='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 255), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Order] SET [Amount_due] = @p0, [Created_time] = @p1, [Customer_id] = @p2, [Delivery_information_id] = @p3, [Order_note] = @p4, [Order_status_id] = @p5, [Order_type_id] = @p6, [Room_id] = @p7, [Shipper_id] = @p8, [Total_quantity] = @p9
WHERE [Order_id] = @p10;
SELECT @@ROWCOUNT;
2025-03-30 07:13:15.966 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [Order_detail]
WHERE [Order_detail_id] = @p0;
SELECT @@ROWCOUNT;
2025-03-30 07:13:15.976 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p2='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p3='?' (DbType = Int32), @p4='?' (Size = 100), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Order_detail] ([Order_id], [Price], [Product_id], [Product_name], [Product_note], [Quantity], [Status])
VALUES (@p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT [Order_detail_id]
FROM [Order_detail]
WHERE @@ROWCOUNT = 1 AND [Order_detail_id] = scope_identity();
2025-03-30 07:13:16.024 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Order_id], [t].[Amount_due], [t].[Created_time], [t].[Customer_id], [t].[Delivery_information_id], [t].[Order_note], [t].[Order_status_id], [t].[Order_type_id], [t].[Room_id], [t].[Shipper_id], [t].[Total_quantity], [o0].[Order_detail_id], [o0].[Order_id], [o0].[Price], [o0].[Product_id], [o0].[Product_name], [o0].[Product_note], [o0].[Quantity], [o0].[Status]
FROM (
    SELECT TOP(1) [o].[Order_id], [o].[Amount_due], [o].[Created_time], [o].[Customer_id], [o].[Delivery_information_id], [o].[Order_note], [o].[Order_status_id], [o].[Order_type_id], [o].[Room_id], [o].[Shipper_id], [o].[Total_quantity]
    FROM [Order] AS [o]
    WHERE [o].[Order_id] = @__orderId_0
) AS [t]
LEFT JOIN [Order_detail] AS [o0] ON [t].[Order_id] = [o0].[Order_id]
ORDER BY [t].[Order_id]
2025-03-30 07:13:16.029 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@p10='?' (DbType = Int32), @p0='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 255), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Order] SET [Amount_due] = @p0, [Created_time] = @p1, [Customer_id] = @p2, [Delivery_information_id] = @p3, [Order_note] = @p4, [Order_status_id] = @p5, [Order_type_id] = @p6, [Room_id] = @p7, [Shipper_id] = @p8, [Total_quantity] = @p9
WHERE [Order_id] = @p10;
SELECT @@ROWCOUNT;
2025-03-30 07:13:16.040 +07:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-30 07:13:16.060 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.SplitOrderPos (BepKhoiBackend.API) in 270278.4731ms
2025-03-30 07:13:16.063 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.SplitOrderPos (BepKhoiBackend.API)'
2025-03-30 07:13:16.073 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7257/api/order-detail/SplitOrderPos application/json 218 - 400 - application/json;+charset=utf-8 270409.0045ms
2025-03-30 07:16:21.393 +07:00 [INF] User profile is available. Using 'C:\Users\phams\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-30 07:16:21.681 +07:00 [INF] Now listening on: https://localhost:7257
2025-03-30 07:16:21.682 +07:00 [INF] Now listening on: http://localhost:5287
2025-03-30 07:16:21.684 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-30 07:16:21.685 +07:00 [INF] Hosting environment: Development
2025-03-30 07:16:21.685 +07:00 [INF] Content root path: C:\Users\phams\Desktop\Do an SP25\Backend\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-03-30 07:16:22.072 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-03-30 07:16:22.338 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 268.0639ms
2025-03-30 07:16:22.350 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-03-30 07:16:22.354 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 13772 application/javascript;+charset=utf-8 4.0720ms
2025-03-30 07:16:22.375 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-03-30 07:16:22.418 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 43.0161ms
2025-03-30 07:16:22.522 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-03-30 07:16:22.667 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 144.8336ms
2025-03-30 07:17:29.284 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7257/api/order-detail/SplitOrderPos application/json 217
2025-03-30 07:17:29.324 +07:00 [INF] CORS policy execution failed.
2025-03-30 07:17:29.326 +07:00 [INF] Request origin https://localhost:7257 does not have permission to access the resource.
2025-03-30 07:17:29.384 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.SplitOrderPos (BepKhoiBackend.API)'
2025-03-30 07:17:29.406 +07:00 [INF] Route matched with {action = "SplitOrderPos", controller = "OrderDetailControllers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SplitOrderPos(BepKhoiBackend.BusinessObject.dtos.OrderDetailDto.SplitOrderPosRquest) on controller BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers (BepKhoiBackend.API).
2025-03-30 07:17:30.446 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-03-30 07:17:32.089 +07:00 [INF] Executed DbCommand (67ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Order] AS [o]
        WHERE [o].[Order_id] = @__orderId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-30 07:17:32.139 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Order] AS [o]
        WHERE [o].[Order_id] = @__orderId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-30 07:17:32.179 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__sourceOrderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Order_detail_id], [o].[Order_id], [o].[Price], [o].[Product_id], [o].[Product_name], [o].[Product_note], [o].[Quantity], [o].[Status]
FROM [Order_detail] AS [o]
WHERE [o].[Order_id] = @__sourceOrderId_0
2025-03-30 07:17:32.242 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__8__locals1_targetOrderId_0='?' (DbType = Int32), @__productId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Order_detail_id], [o].[Order_id], [o].[Price], [o].[Product_id], [o].[Product_name], [o].[Product_note], [o].[Quantity], [o].[Status]
FROM [Order_detail] AS [o]
WHERE ([o].[Order_id] = @__8__locals1_targetOrderId_0) AND ([o].[Product_id] = @__productId_1)
2025-03-30 07:17:32.387 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Order_id], [t].[Amount_due], [t].[Created_time], [t].[Customer_id], [t].[Delivery_information_id], [t].[Order_note], [t].[Order_status_id], [t].[Order_type_id], [t].[Room_id], [t].[Shipper_id], [t].[Total_quantity], [o0].[Order_detail_id], [o0].[Order_id], [o0].[Price], [o0].[Product_id], [o0].[Product_name], [o0].[Product_note], [o0].[Quantity], [o0].[Status]
FROM (
    SELECT TOP(1) [o].[Order_id], [o].[Amount_due], [o].[Created_time], [o].[Customer_id], [o].[Delivery_information_id], [o].[Order_note], [o].[Order_status_id], [o].[Order_type_id], [o].[Room_id], [o].[Shipper_id], [o].[Total_quantity]
    FROM [Order] AS [o]
    WHERE [o].[Order_id] = @__orderId_0
) AS [t]
LEFT JOIN [Order_detail] AS [o0] ON [t].[Order_id] = [o0].[Order_id]
ORDER BY [t].[Order_id]
2025-03-30 07:17:32.557 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@p10='?' (DbType = Int32), @p0='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 255), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Order] SET [Amount_due] = @p0, [Created_time] = @p1, [Customer_id] = @p2, [Delivery_information_id] = @p3, [Order_note] = @p4, [Order_status_id] = @p5, [Order_type_id] = @p6, [Room_id] = @p7, [Shipper_id] = @p8, [Total_quantity] = @p9
WHERE [Order_id] = @p10;
SELECT @@ROWCOUNT;
2025-03-30 07:17:32.567 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [Order_detail]
WHERE [Order_detail_id] = @p0;
SELECT @@ROWCOUNT;
2025-03-30 07:17:32.576 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p2='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p3='?' (DbType = Int32), @p4='?' (Size = 100), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Order_detail] ([Order_id], [Price], [Product_id], [Product_name], [Product_note], [Quantity], [Status])
VALUES (@p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT [Order_detail_id]
FROM [Order_detail]
WHERE @@ROWCOUNT = 1 AND [Order_detail_id] = scope_identity();
2025-03-30 07:17:32.624 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Order_id], [t].[Amount_due], [t].[Created_time], [t].[Customer_id], [t].[Delivery_information_id], [t].[Order_note], [t].[Order_status_id], [t].[Order_type_id], [t].[Room_id], [t].[Shipper_id], [t].[Total_quantity], [o0].[Order_detail_id], [o0].[Order_id], [o0].[Price], [o0].[Product_id], [o0].[Product_name], [o0].[Product_note], [o0].[Quantity], [o0].[Status]
FROM (
    SELECT TOP(1) [o].[Order_id], [o].[Amount_due], [o].[Created_time], [o].[Customer_id], [o].[Delivery_information_id], [o].[Order_note], [o].[Order_status_id], [o].[Order_type_id], [o].[Room_id], [o].[Shipper_id], [o].[Total_quantity]
    FROM [Order] AS [o]
    WHERE [o].[Order_id] = @__orderId_0
) AS [t]
LEFT JOIN [Order_detail] AS [o0] ON [t].[Order_id] = [o0].[Order_id]
ORDER BY [t].[Order_id]
2025-03-30 07:17:32.628 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@p10='?' (DbType = Int32), @p0='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 255), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Order] SET [Amount_due] = @p0, [Created_time] = @p1, [Customer_id] = @p2, [Delivery_information_id] = @p3, [Order_note] = @p4, [Order_status_id] = @p5, [Order_type_id] = @p6, [Room_id] = @p7, [Shipper_id] = @p8, [Total_quantity] = @p9
WHERE [Order_id] = @p10;
SELECT @@ROWCOUNT;
2025-03-30 07:17:32.639 +07:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-30 07:17:32.660 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.SplitOrderPos (BepKhoiBackend.API) in 3247.3742ms
2025-03-30 07:17:32.663 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.SplitOrderPos (BepKhoiBackend.API)'
2025-03-30 07:17:32.673 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7257/api/order-detail/SplitOrderPos application/json 217 - 400 - application/json;+charset=utf-8 3388.7102ms
2025-03-30 07:18:14.788 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7257/api/order-detail/SplitOrderPos application/json 217
2025-03-30 07:18:14.797 +07:00 [INF] CORS policy execution failed.
2025-03-30 07:18:14.797 +07:00 [INF] Request origin https://localhost:7257 does not have permission to access the resource.
2025-03-30 07:18:14.799 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.SplitOrderPos (BepKhoiBackend.API)'
2025-03-30 07:18:14.800 +07:00 [INF] Route matched with {action = "SplitOrderPos", controller = "OrderDetailControllers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SplitOrderPos(BepKhoiBackend.BusinessObject.dtos.OrderDetailDto.SplitOrderPosRquest) on controller BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers (BepKhoiBackend.API).
2025-03-30 07:18:14.830 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-03-30 07:18:14.834 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Order] AS [o]
        WHERE [o].[Order_id] = @__orderId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-30 07:18:14.837 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Order] AS [o]
        WHERE [o].[Order_id] = @__orderId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-30 07:18:14.839 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__sourceOrderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Order_detail_id], [o].[Order_id], [o].[Price], [o].[Product_id], [o].[Product_name], [o].[Product_note], [o].[Quantity], [o].[Status]
FROM [Order_detail] AS [o]
WHERE [o].[Order_id] = @__sourceOrderId_0
2025-03-30 07:18:14.935 +07:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-30 07:18:14.937 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.SplitOrderPos (BepKhoiBackend.API) in 133.7097ms
2025-03-30 07:18:14.938 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.SplitOrderPos (BepKhoiBackend.API)'
2025-03-30 07:18:14.939 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7257/api/order-detail/SplitOrderPos application/json 217 - 500 - application/json;+charset=utf-8 151.3386ms
2025-03-30 16:22:47.087 +07:00 [INF] User profile is available. Using 'C:\Users\phams\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-30 16:22:47.459 +07:00 [INF] Now listening on: https://localhost:7257
2025-03-30 16:22:47.460 +07:00 [INF] Now listening on: http://localhost:5287
2025-03-30 16:22:47.463 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-30 16:22:47.463 +07:00 [INF] Hosting environment: Development
2025-03-30 16:22:47.464 +07:00 [INF] Content root path: C:\Users\phams\Desktop\Do an SP25\Backend\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-03-30 16:22:48.055 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-03-30 16:22:48.358 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 307.0078ms
2025-03-30 16:22:48.824 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-03-30 16:22:48.830 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 13772 application/javascript;+charset=utf-8 6.4764ms
2025-03-30 16:22:48.868 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-03-30 16:22:48.919 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 51.4003ms
2025-03-30 16:22:49.285 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-03-30 16:22:49.444 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 158.1753ms
2025-03-30 16:23:54.127 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7257/api/order-detail/SplitOrderPos application/json 217
2025-03-30 16:23:54.160 +07:00 [INF] CORS policy execution failed.
2025-03-30 16:23:54.160 +07:00 [INF] Request origin https://localhost:7257 does not have permission to access the resource.
2025-03-30 16:23:54.227 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.SplitOrderPos (BepKhoiBackend.API)'
2025-03-30 16:23:54.253 +07:00 [INF] Route matched with {action = "SplitOrderPos", controller = "OrderDetailControllers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SplitOrderPos(BepKhoiBackend.BusinessObject.dtos.OrderDetailDto.SplitOrderPosRquest) on controller BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers (BepKhoiBackend.API).
2025-03-30 16:23:55.349 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-03-30 16:23:57.044 +07:00 [INF] Executed DbCommand (62ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Order] AS [o]
        WHERE [o].[Order_id] = @__orderId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-30 16:23:57.094 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Order] AS [o]
        WHERE [o].[Order_id] = @__orderId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-30 16:23:57.136 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__sourceOrderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Order_detail_id], [o].[Order_id], [o].[Price], [o].[Product_id], [o].[Product_name], [o].[Product_note], [o].[Quantity], [o].[Status]
FROM [Order_detail] AS [o]
WHERE [o].[Order_id] = @__sourceOrderId_0
2025-03-30 16:23:57.195 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__8__locals1_targetOrderId_0='?' (DbType = Int32), @__productId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Order_detail_id], [o].[Order_id], [o].[Price], [o].[Product_id], [o].[Product_name], [o].[Product_note], [o].[Quantity], [o].[Status]
FROM [Order_detail] AS [o]
WHERE ([o].[Order_id] = @__8__locals1_targetOrderId_0) AND ([o].[Product_id] = @__productId_1)
2025-03-30 16:23:57.338 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Order_id], [t].[Amount_due], [t].[Created_time], [t].[Customer_id], [t].[Delivery_information_id], [t].[Order_note], [t].[Order_status_id], [t].[Order_type_id], [t].[Room_id], [t].[Shipper_id], [t].[Total_quantity], [o0].[Order_detail_id], [o0].[Order_id], [o0].[Price], [o0].[Product_id], [o0].[Product_name], [o0].[Product_note], [o0].[Quantity], [o0].[Status]
FROM (
    SELECT TOP(1) [o].[Order_id], [o].[Amount_due], [o].[Created_time], [o].[Customer_id], [o].[Delivery_information_id], [o].[Order_note], [o].[Order_status_id], [o].[Order_type_id], [o].[Room_id], [o].[Shipper_id], [o].[Total_quantity]
    FROM [Order] AS [o]
    WHERE [o].[Order_id] = @__orderId_0
) AS [t]
LEFT JOIN [Order_detail] AS [o0] ON [t].[Order_id] = [o0].[Order_id]
ORDER BY [t].[Order_id]
2025-03-30 16:23:57.501 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@p10='?' (DbType = Int32), @p0='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 255), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Order] SET [Amount_due] = @p0, [Created_time] = @p1, [Customer_id] = @p2, [Delivery_information_id] = @p3, [Order_note] = @p4, [Order_status_id] = @p5, [Order_type_id] = @p6, [Room_id] = @p7, [Shipper_id] = @p8, [Total_quantity] = @p9
WHERE [Order_id] = @p10;
SELECT @@ROWCOUNT;
2025-03-30 16:23:57.513 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [Order_detail]
WHERE [Order_detail_id] = @p0;
SELECT @@ROWCOUNT;
2025-03-30 16:23:57.522 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p2='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p3='?' (DbType = Int32), @p4='?' (Size = 100), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Order_detail] ([Order_id], [Price], [Product_id], [Product_name], [Product_note], [Quantity], [Status])
VALUES (@p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT [Order_detail_id]
FROM [Order_detail]
WHERE @@ROWCOUNT = 1 AND [Order_detail_id] = scope_identity();
2025-03-30 16:23:57.568 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Order_id], [t].[Amount_due], [t].[Created_time], [t].[Customer_id], [t].[Delivery_information_id], [t].[Order_note], [t].[Order_status_id], [t].[Order_type_id], [t].[Room_id], [t].[Shipper_id], [t].[Total_quantity], [o0].[Order_detail_id], [o0].[Order_id], [o0].[Price], [o0].[Product_id], [o0].[Product_name], [o0].[Product_note], [o0].[Quantity], [o0].[Status]
FROM (
    SELECT TOP(1) [o].[Order_id], [o].[Amount_due], [o].[Created_time], [o].[Customer_id], [o].[Delivery_information_id], [o].[Order_note], [o].[Order_status_id], [o].[Order_type_id], [o].[Room_id], [o].[Shipper_id], [o].[Total_quantity]
    FROM [Order] AS [o]
    WHERE [o].[Order_id] = @__orderId_0
) AS [t]
LEFT JOIN [Order_detail] AS [o0] ON [t].[Order_id] = [o0].[Order_id]
ORDER BY [t].[Order_id]
2025-03-30 16:23:57.573 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@p10='?' (DbType = Int32), @p0='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 255), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Order] SET [Amount_due] = @p0, [Created_time] = @p1, [Customer_id] = @p2, [Delivery_information_id] = @p3, [Order_note] = @p4, [Order_status_id] = @p5, [Order_type_id] = @p6, [Room_id] = @p7, [Shipper_id] = @p8, [Total_quantity] = @p9
WHERE [Order_id] = @p10;
SELECT @@ROWCOUNT;
2025-03-30 16:23:57.583 +07:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-30 16:23:57.604 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.SplitOrderPos (BepKhoiBackend.API) in 3346.1247ms
2025-03-30 16:23:57.607 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.SplitOrderPos (BepKhoiBackend.API)'
2025-03-30 16:23:57.616 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7257/api/order-detail/SplitOrderPos application/json 217 - 400 - application/json;+charset=utf-8 3489.5892ms
2025-03-30 16:28:32.065 +07:00 [INF] User profile is available. Using 'C:\Users\phams\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-30 16:28:32.339 +07:00 [INF] Now listening on: https://localhost:7257
2025-03-30 16:28:32.341 +07:00 [INF] Now listening on: http://localhost:5287
2025-03-30 16:28:32.346 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-30 16:28:32.347 +07:00 [INF] Hosting environment: Development
2025-03-30 16:28:32.347 +07:00 [INF] Content root path: C:\Users\phams\Desktop\Do an SP25\Backend\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-03-30 16:28:33.048 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-03-30 16:28:33.339 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 292.8789ms
2025-03-30 16:28:33.352 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-03-30 16:28:33.357 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 13772 application/javascript;+charset=utf-8 4.8452ms
2025-03-30 16:28:33.381 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-03-30 16:28:33.427 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 46.6443ms
2025-03-30 16:28:33.537 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-03-30 16:28:33.684 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 146.3867ms
2025-03-30 16:29:20.530 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7257/api/order-detail/SplitOrderPos application/json 216
2025-03-30 16:29:20.561 +07:00 [INF] CORS policy execution failed.
2025-03-30 16:29:20.562 +07:00 [INF] Request origin https://localhost:7257 does not have permission to access the resource.
2025-03-30 16:29:20.625 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.SplitOrderPos (BepKhoiBackend.API)'
2025-03-30 16:29:20.645 +07:00 [INF] Route matched with {action = "SplitOrderPos", controller = "OrderDetailControllers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SplitOrderPos(BepKhoiBackend.BusinessObject.dtos.OrderDetailDto.SplitOrderPosRquest) on controller BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers (BepKhoiBackend.API).
2025-03-30 16:29:21.672 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-03-30 16:29:23.309 +07:00 [INF] Executed DbCommand (60ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Order] AS [o]
        WHERE [o].[Order_id] = @__orderId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-30 16:29:23.391 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__sourceOrderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Order_detail_id], [o].[Order_id], [o].[Price], [o].[Product_id], [o].[Product_name], [o].[Product_note], [o].[Quantity], [o].[Status]
FROM [Order_detail] AS [o]
WHERE [o].[Order_id] = @__sourceOrderId_0
2025-03-30 16:29:23.638 +07:00 [ERR] Failed executing DbCommand (17ms) [Parameters=[@p0='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 255), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Order] ([Amount_due], [Customer_id], [Delivery_information_id], [Order_note], [Order_status_id], [Order_type_id], [Room_id], [Shipper_id], [Total_quantity])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT [Order_id], [Created_time]
FROM [Order]
WHERE @@ROWCOUNT = 1 AND [Order_id] = scope_identity();
2025-03-30 16:29:23.692 +07:00 [ERR] An exception occurred in the database while saving changes for context type 'BepKhoiBackend.DataAccess.Models.bepkhoiContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK__Order__Order_typ__7E37BEF6". The conflict occurred in database "bepkhoi", table "dbo.Order_type", column 'Order_type_id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:8214b4ae-9af3-46df-8b77-1e59afb7afc5
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK__Order__Order_typ__7E37BEF6". The conflict occurred in database "bepkhoi", table "dbo.Order_type", column 'Order_type_id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:8214b4ae-9af3-46df-8b77-1e59afb7afc5
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-03-30 16:29:23.842 +07:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-30 16:29:23.865 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.SplitOrderPos (BepKhoiBackend.API) in 3214.7437ms
2025-03-30 16:29:23.868 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.SplitOrderPos (BepKhoiBackend.API)'
2025-03-30 16:29:23.878 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7257/api/order-detail/SplitOrderPos application/json 216 - 500 - application/json;+charset=utf-8 3347.8333ms
2025-03-30 16:30:03.947 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7257/api/order-detail/SplitOrderPos application/json 217
2025-03-30 16:30:03.959 +07:00 [INF] CORS policy execution failed.
2025-03-30 16:30:03.960 +07:00 [INF] Request origin https://localhost:7257 does not have permission to access the resource.
2025-03-30 16:30:03.961 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.SplitOrderPos (BepKhoiBackend.API)'
2025-03-30 16:30:03.962 +07:00 [INF] Route matched with {action = "SplitOrderPos", controller = "OrderDetailControllers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SplitOrderPos(BepKhoiBackend.BusinessObject.dtos.OrderDetailDto.SplitOrderPosRquest) on controller BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers (BepKhoiBackend.API).
2025-03-30 16:30:44.893 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-03-30 16:30:44.899 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Order] AS [o]
        WHERE [o].[Order_id] = @__orderId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-30 16:30:46.053 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Order] AS [o]
        WHERE [o].[Order_id] = @__orderId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-30 16:30:47.932 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__sourceOrderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Order_detail_id], [o].[Order_id], [o].[Price], [o].[Product_id], [o].[Product_name], [o].[Product_note], [o].[Quantity], [o].[Status]
FROM [Order_detail] AS [o]
WHERE [o].[Order_id] = @__sourceOrderId_0
2025-03-30 16:31:05.114 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__8__locals1_targetOrderId_0='?' (DbType = Int32), @__productId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Order_detail_id], [o].[Order_id], [o].[Price], [o].[Product_id], [o].[Product_name], [o].[Product_note], [o].[Quantity], [o].[Status]
FROM [Order_detail] AS [o]
WHERE ([o].[Order_id] = @__8__locals1_targetOrderId_0) AND ([o].[Product_id] = @__productId_1)
2025-03-30 16:31:26.123 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Order_id], [t].[Amount_due], [t].[Created_time], [t].[Customer_id], [t].[Delivery_information_id], [t].[Order_note], [t].[Order_status_id], [t].[Order_type_id], [t].[Room_id], [t].[Shipper_id], [t].[Total_quantity], [o0].[Order_detail_id], [o0].[Order_id], [o0].[Price], [o0].[Product_id], [o0].[Product_name], [o0].[Product_note], [o0].[Quantity], [o0].[Status]
FROM (
    SELECT TOP(1) [o].[Order_id], [o].[Amount_due], [o].[Created_time], [o].[Customer_id], [o].[Delivery_information_id], [o].[Order_note], [o].[Order_status_id], [o].[Order_type_id], [o].[Room_id], [o].[Shipper_id], [o].[Total_quantity]
    FROM [Order] AS [o]
    WHERE [o].[Order_id] = @__orderId_0
) AS [t]
LEFT JOIN [Order_detail] AS [o0] ON [t].[Order_id] = [o0].[Order_id]
ORDER BY [t].[Order_id]
2025-03-30 16:31:26.161 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@p10='?' (DbType = Int32), @p0='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 255), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Order] SET [Amount_due] = @p0, [Created_time] = @p1, [Customer_id] = @p2, [Delivery_information_id] = @p3, [Order_note] = @p4, [Order_status_id] = @p5, [Order_type_id] = @p6, [Room_id] = @p7, [Shipper_id] = @p8, [Total_quantity] = @p9
WHERE [Order_id] = @p10;
SELECT @@ROWCOUNT;
2025-03-30 16:31:26.170 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [Order_detail]
WHERE [Order_detail_id] = @p0;
SELECT @@ROWCOUNT;
2025-03-30 16:31:26.173 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p2='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p3='?' (DbType = Int32), @p4='?' (Size = 100), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Order_detail] ([Order_id], [Price], [Product_id], [Product_name], [Product_note], [Quantity], [Status])
VALUES (@p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT [Order_detail_id]
FROM [Order_detail]
WHERE @@ROWCOUNT = 1 AND [Order_detail_id] = scope_identity();
2025-03-30 16:31:26.965 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Order_id], [t].[Amount_due], [t].[Created_time], [t].[Customer_id], [t].[Delivery_information_id], [t].[Order_note], [t].[Order_status_id], [t].[Order_type_id], [t].[Room_id], [t].[Shipper_id], [t].[Total_quantity], [o0].[Order_detail_id], [o0].[Order_id], [o0].[Price], [o0].[Product_id], [o0].[Product_name], [o0].[Product_note], [o0].[Quantity], [o0].[Status]
FROM (
    SELECT TOP(1) [o].[Order_id], [o].[Amount_due], [o].[Created_time], [o].[Customer_id], [o].[Delivery_information_id], [o].[Order_note], [o].[Order_status_id], [o].[Order_type_id], [o].[Room_id], [o].[Shipper_id], [o].[Total_quantity]
    FROM [Order] AS [o]
    WHERE [o].[Order_id] = @__orderId_0
) AS [t]
LEFT JOIN [Order_detail] AS [o0] ON [t].[Order_id] = [o0].[Order_id]
ORDER BY [t].[Order_id]
2025-03-30 16:31:26.971 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@p10='?' (DbType = Int32), @p0='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 255), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Order] SET [Amount_due] = @p0, [Created_time] = @p1, [Customer_id] = @p2, [Delivery_information_id] = @p3, [Order_note] = @p4, [Order_status_id] = @p5, [Order_type_id] = @p6, [Room_id] = @p7, [Shipper_id] = @p8, [Total_quantity] = @p9
WHERE [Order_id] = @p10;
SELECT @@ROWCOUNT;
2025-03-30 16:32:00.356 +07:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-30 16:32:00.364 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.SplitOrderPos (BepKhoiBackend.API) in 116399.8032ms
2025-03-30 16:32:00.366 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.SplitOrderPos (BepKhoiBackend.API)'
2025-03-30 16:32:00.368 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7257/api/order-detail/SplitOrderPos application/json 217 - 400 - application/json;+charset=utf-8 116420.9753ms
2025-03-30 16:47:45.689 +07:00 [INF] User profile is available. Using 'C:\Users\phams\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-30 16:47:45.958 +07:00 [INF] Now listening on: https://localhost:7257
2025-03-30 16:47:45.959 +07:00 [INF] Now listening on: http://localhost:5287
2025-03-30 16:47:45.961 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-30 16:47:45.962 +07:00 [INF] Hosting environment: Development
2025-03-30 16:47:45.963 +07:00 [INF] Content root path: C:\Users\phams\Desktop\Do an SP25\Backend\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-03-30 16:47:46.609 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-03-30 16:47:46.883 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 276.0689ms
2025-03-30 16:47:46.900 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-03-30 16:47:46.904 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 13772 application/javascript;+charset=utf-8 3.4757ms
2025-03-30 16:47:46.926 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-03-30 16:47:46.970 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 44.0396ms
2025-03-30 16:47:47.082 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-03-30 16:47:47.231 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 148.4642ms
2025-03-30 16:48:26.557 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7257/api/order-detail/SplitOrderPos application/json 217
2025-03-30 16:48:26.586 +07:00 [INF] CORS policy execution failed.
2025-03-30 16:48:26.587 +07:00 [INF] Request origin https://localhost:7257 does not have permission to access the resource.
2025-03-30 16:48:26.643 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.SplitOrderPos (BepKhoiBackend.API)'
2025-03-30 16:48:26.664 +07:00 [INF] Route matched with {action = "SplitOrderPos", controller = "OrderDetailControllers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SplitOrderPos(BepKhoiBackend.BusinessObject.dtos.OrderDetailDto.SplitOrderPosRquest) on controller BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers (BepKhoiBackend.API).
2025-03-30 16:48:37.941 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-03-30 16:48:39.552 +07:00 [INF] Executed DbCommand (60ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Order] AS [o]
        WHERE [o].[Order_id] = @__orderId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-30 16:48:39.603 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Order] AS [o]
        WHERE [o].[Order_id] = @__orderId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-30 16:48:39.643 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__sourceOrderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Order_detail_id], [o].[Order_id], [o].[Price], [o].[Product_id], [o].[Product_name], [o].[Product_note], [o].[Quantity], [o].[Status]
FROM [Order_detail] AS [o]
WHERE [o].[Order_id] = @__sourceOrderId_0
2025-03-30 16:48:39.703 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__8__locals1_targetOrderId_0='?' (DbType = Int32), @__productId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Order_detail_id], [o].[Order_id], [o].[Price], [o].[Product_id], [o].[Product_name], [o].[Product_note], [o].[Quantity], [o].[Status]
FROM [Order_detail] AS [o]
WHERE ([o].[Order_id] = @__8__locals1_targetOrderId_0) AND ([o].[Product_id] = @__productId_1)
2025-03-30 16:48:39.859 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Order_id], [t].[Amount_due], [t].[Created_time], [t].[Customer_id], [t].[Delivery_information_id], [t].[Order_note], [t].[Order_status_id], [t].[Order_type_id], [t].[Room_id], [t].[Shipper_id], [t].[Total_quantity], [o0].[Order_detail_id], [o0].[Order_id], [o0].[Price], [o0].[Product_id], [o0].[Product_name], [o0].[Product_note], [o0].[Quantity], [o0].[Status]
FROM (
    SELECT TOP(1) [o].[Order_id], [o].[Amount_due], [o].[Created_time], [o].[Customer_id], [o].[Delivery_information_id], [o].[Order_note], [o].[Order_status_id], [o].[Order_type_id], [o].[Room_id], [o].[Shipper_id], [o].[Total_quantity]
    FROM [Order] AS [o]
    WHERE [o].[Order_id] = @__orderId_0
) AS [t]
LEFT JOIN [Order_detail] AS [o0] ON [t].[Order_id] = [o0].[Order_id]
ORDER BY [t].[Order_id]
2025-03-30 16:48:39.897 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Order_id], [t].[Amount_due], [t].[Created_time], [t].[Customer_id], [t].[Delivery_information_id], [t].[Order_note], [t].[Order_status_id], [t].[Order_type_id], [t].[Room_id], [t].[Shipper_id], [t].[Total_quantity], [o0].[Order_detail_id], [o0].[Order_id], [o0].[Price], [o0].[Product_id], [o0].[Product_name], [o0].[Product_note], [o0].[Quantity], [o0].[Status]
FROM (
    SELECT TOP(1) [o].[Order_id], [o].[Amount_due], [o].[Created_time], [o].[Customer_id], [o].[Delivery_information_id], [o].[Order_note], [o].[Order_status_id], [o].[Order_type_id], [o].[Room_id], [o].[Shipper_id], [o].[Total_quantity]
    FROM [Order] AS [o]
    WHERE [o].[Order_id] = @__orderId_0
) AS [t]
LEFT JOIN [Order_detail] AS [o0] ON [t].[Order_id] = [o0].[Order_id]
ORDER BY [t].[Order_id]
2025-03-30 16:48:40.022 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@p10='?' (DbType = Int32), @p0='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 255), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Order] SET [Amount_due] = @p0, [Created_time] = @p1, [Customer_id] = @p2, [Delivery_information_id] = @p3, [Order_note] = @p4, [Order_status_id] = @p5, [Order_type_id] = @p6, [Room_id] = @p7, [Shipper_id] = @p8, [Total_quantity] = @p9
WHERE [Order_id] = @p10;
SELECT @@ROWCOUNT;
2025-03-30 16:48:40.030 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@p10='?' (DbType = Int32), @p0='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 255), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Order] SET [Amount_due] = @p0, [Created_time] = @p1, [Customer_id] = @p2, [Delivery_information_id] = @p3, [Order_note] = @p4, [Order_status_id] = @p5, [Order_type_id] = @p6, [Room_id] = @p7, [Shipper_id] = @p8, [Total_quantity] = @p9
WHERE [Order_id] = @p10;
SELECT @@ROWCOUNT;
2025-03-30 16:48:40.034 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [Order_detail]
WHERE [Order_detail_id] = @p0;
SELECT @@ROWCOUNT;
2025-03-30 16:48:40.043 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p2='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p3='?' (DbType = Int32), @p4='?' (Size = 100), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Order_detail] ([Order_id], [Price], [Product_id], [Product_name], [Product_note], [Quantity], [Status])
VALUES (@p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT [Order_detail_id]
FROM [Order_detail]
WHERE @@ROWCOUNT = 1 AND [Order_detail_id] = scope_identity();
2025-03-30 16:48:40.099 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-30 16:48:40.120 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.SplitOrderPos (BepKhoiBackend.API) in 13450.47ms
2025-03-30 16:48:40.123 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.SplitOrderPos (BepKhoiBackend.API)'
2025-03-30 16:48:40.133 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7257/api/order-detail/SplitOrderPos application/json 217 - 200 - application/json;+charset=utf-8 13575.9306ms
2025-03-30 17:02:40.362 +07:00 [INF] User profile is available. Using 'C:\Users\phams\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-30 17:02:40.616 +07:00 [INF] Now listening on: https://localhost:7257
2025-03-30 17:02:40.617 +07:00 [INF] Now listening on: http://localhost:5287
2025-03-30 17:02:40.619 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-30 17:02:40.619 +07:00 [INF] Hosting environment: Development
2025-03-30 17:02:40.620 +07:00 [INF] Content root path: C:\Users\phams\Desktop\Do an SP25\Backend\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-03-30 17:02:41.347 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-03-30 17:02:41.626 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 281.2521ms
2025-03-30 17:02:41.636 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-03-30 17:02:41.640 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 13772 application/javascript;+charset=utf-8 3.9606ms
2025-03-30 17:02:42.146 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-03-30 17:02:42.212 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 66.3188ms
2025-03-30 17:02:42.580 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-03-30 17:02:42.731 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 151.0001ms
2025-03-30 17:04:13.474 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7257/api/order-detail/SplitOrderPos application/json 218
2025-03-30 17:04:13.503 +07:00 [INF] CORS policy execution failed.
2025-03-30 17:04:13.504 +07:00 [INF] Request origin https://localhost:7257 does not have permission to access the resource.
2025-03-30 17:04:13.559 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.SplitOrderPos (BepKhoiBackend.API)'
2025-03-30 17:04:13.581 +07:00 [INF] Route matched with {action = "SplitOrderPos", controller = "OrderDetailControllers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SplitOrderPos(BepKhoiBackend.BusinessObject.dtos.OrderDetailDto.SplitOrderPosRquest) on controller BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers (BepKhoiBackend.API).
2025-03-30 17:04:23.684 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-03-30 17:04:25.308 +07:00 [INF] Executed DbCommand (62ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Order] AS [o]
        WHERE [o].[Order_id] = @__orderId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-30 17:04:25.392 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__sourceOrderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Order_detail_id], [o].[Order_id], [o].[Price], [o].[Product_id], [o].[Product_name], [o].[Product_note], [o].[Quantity], [o].[Status]
FROM [Order_detail] AS [o]
WHERE [o].[Order_id] = @__sourceOrderId_0
2025-03-30 17:04:25.617 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 255), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Order] ([Amount_due], [Customer_id], [Delivery_information_id], [Order_note], [Order_status_id], [Order_type_id], [Room_id], [Shipper_id], [Total_quantity])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT [Order_id], [Created_time]
FROM [Order]
WHERE @@ROWCOUNT = 1 AND [Order_id] = scope_identity();
2025-03-30 17:04:25.784 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Order_id], [t].[Amount_due], [t].[Created_time], [t].[Customer_id], [t].[Delivery_information_id], [t].[Order_note], [t].[Order_status_id], [t].[Order_type_id], [t].[Room_id], [t].[Shipper_id], [t].[Total_quantity], [o0].[Order_detail_id], [o0].[Order_id], [o0].[Price], [o0].[Product_id], [o0].[Product_name], [o0].[Product_note], [o0].[Quantity], [o0].[Status]
FROM (
    SELECT TOP(1) [o].[Order_id], [o].[Amount_due], [o].[Created_time], [o].[Customer_id], [o].[Delivery_information_id], [o].[Order_note], [o].[Order_status_id], [o].[Order_type_id], [o].[Room_id], [o].[Shipper_id], [o].[Total_quantity]
    FROM [Order] AS [o]
    WHERE [o].[Order_id] = @__orderId_0
) AS [t]
LEFT JOIN [Order_detail] AS [o0] ON [t].[Order_id] = [o0].[Order_id]
ORDER BY [t].[Order_id]
2025-03-30 17:04:25.797 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Order_id], [t].[Amount_due], [t].[Created_time], [t].[Customer_id], [t].[Delivery_information_id], [t].[Order_note], [t].[Order_status_id], [t].[Order_type_id], [t].[Room_id], [t].[Shipper_id], [t].[Total_quantity], [o0].[Order_detail_id], [o0].[Order_id], [o0].[Price], [o0].[Product_id], [o0].[Product_name], [o0].[Product_note], [o0].[Quantity], [o0].[Status]
FROM (
    SELECT TOP(1) [o].[Order_id], [o].[Amount_due], [o].[Created_time], [o].[Customer_id], [o].[Delivery_information_id], [o].[Order_note], [o].[Order_status_id], [o].[Order_type_id], [o].[Room_id], [o].[Shipper_id], [o].[Total_quantity]
    FROM [Order] AS [o]
    WHERE [o].[Order_id] = @__orderId_0
) AS [t]
LEFT JOIN [Order_detail] AS [o0] ON [t].[Order_id] = [o0].[Order_id]
ORDER BY [t].[Order_id]
2025-03-30 17:04:25.830 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@p10='?' (DbType = Int32), @p0='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 255), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Order] SET [Amount_due] = @p0, [Created_time] = @p1, [Customer_id] = @p2, [Delivery_information_id] = @p3, [Order_note] = @p4, [Order_status_id] = @p5, [Order_type_id] = @p6, [Room_id] = @p7, [Shipper_id] = @p8, [Total_quantity] = @p9
WHERE [Order_id] = @p10;
SELECT @@ROWCOUNT;
2025-03-30 17:04:25.835 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@p10='?' (DbType = Int32), @p0='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 255), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Order] SET [Amount_due] = @p0, [Created_time] = @p1, [Customer_id] = @p2, [Delivery_information_id] = @p3, [Order_note] = @p4, [Order_status_id] = @p5, [Order_type_id] = @p6, [Room_id] = @p7, [Shipper_id] = @p8, [Total_quantity] = @p9
WHERE [Order_id] = @p10;
SELECT @@ROWCOUNT;
2025-03-30 17:04:25.839 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [Order_detail]
WHERE [Order_detail_id] = @p0;
SELECT @@ROWCOUNT;
2025-03-30 17:04:25.843 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p2='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p3='?' (DbType = Int32), @p4='?' (Size = 100), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Order_detail] ([Order_id], [Price], [Product_id], [Product_name], [Product_note], [Quantity], [Status])
VALUES (@p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT [Order_detail_id]
FROM [Order_detail]
WHERE @@ROWCOUNT = 1 AND [Order_detail_id] = scope_identity();
2025-03-30 17:04:25.860 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-30 17:04:25.882 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.SplitOrderPos (BepKhoiBackend.API) in 12296.7031ms
2025-03-30 17:04:25.885 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.SplitOrderPos (BepKhoiBackend.API)'
2025-03-30 17:04:25.895 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7257/api/order-detail/SplitOrderPos application/json 218 - 200 - application/json;+charset=utf-8 12421.6494ms
2025-03-30 17:05:26.779 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7257/api/order-detail/SplitOrderPos application/json 226
2025-03-30 17:05:26.792 +07:00 [INF] CORS policy execution failed.
2025-03-30 17:05:26.793 +07:00 [INF] Request origin https://localhost:7257 does not have permission to access the resource.
2025-03-30 17:05:26.794 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.SplitOrderPos (BepKhoiBackend.API)'
2025-03-30 17:05:26.795 +07:00 [INF] Route matched with {action = "SplitOrderPos", controller = "OrderDetailControllers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SplitOrderPos(BepKhoiBackend.BusinessObject.dtos.OrderDetailDto.SplitOrderPosRquest) on controller BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers (BepKhoiBackend.API).
2025-03-30 17:05:26.811 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-03-30 17:05:26.818 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.SplitOrderPos (BepKhoiBackend.API) in 22.0062ms
2025-03-30 17:05:26.819 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.SplitOrderPos (BepKhoiBackend.API)'
2025-03-30 17:05:26.821 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7257/api/order-detail/SplitOrderPos application/json 226 - 400 - application/problem+json;+charset=utf-8 41.2392ms
2025-03-30 17:09:17.884 +07:00 [INF] User profile is available. Using 'C:\Users\phams\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-30 17:09:18.139 +07:00 [INF] Now listening on: https://localhost:7257
2025-03-30 17:09:18.142 +07:00 [INF] Now listening on: http://localhost:5287
2025-03-30 17:09:18.146 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-30 17:09:18.147 +07:00 [INF] Hosting environment: Development
2025-03-30 17:09:18.147 +07:00 [INF] Content root path: C:\Users\phams\Desktop\Do an SP25\Backend\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-03-30 17:09:18.755 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-03-30 17:09:19.034 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 282.0332ms
2025-03-30 17:09:19.047 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-03-30 17:09:19.051 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 13772 application/javascript;+charset=utf-8 3.7947ms
2025-03-30 17:09:19.074 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-03-30 17:09:19.120 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 46.2442ms
2025-03-30 17:09:19.233 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-03-30 17:09:19.384 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 151.0179ms
2025-03-30 17:09:54.524 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7257/api/order-detail/SplitOrderPos application/json 219
2025-03-30 17:09:54.550 +07:00 [INF] CORS policy execution failed.
2025-03-30 17:09:54.551 +07:00 [INF] Request origin https://localhost:7257 does not have permission to access the resource.
2025-03-30 17:09:54.607 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.SplitOrderPos (BepKhoiBackend.API)'
2025-03-30 17:09:54.627 +07:00 [INF] Route matched with {action = "SplitOrderPos", controller = "OrderDetailControllers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SplitOrderPos(BepKhoiBackend.BusinessObject.dtos.OrderDetailDto.SplitOrderPosRquest) on controller BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers (BepKhoiBackend.API).
2025-03-30 17:09:54.921 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-03-30 17:09:54.943 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.SplitOrderPos (BepKhoiBackend.API) in 309.8627ms
2025-03-30 17:09:54.948 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.SplitOrderPos (BepKhoiBackend.API)'
2025-03-30 17:09:54.952 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7257/api/order-detail/SplitOrderPos application/json 219 - 400 - application/problem+json;+charset=utf-8 428.1777ms
2025-03-30 17:10:55.016 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7257/api/order-detail/SplitOrderPos application/json 218
2025-03-30 17:10:55.023 +07:00 [INF] CORS policy execution failed.
2025-03-30 17:10:55.023 +07:00 [INF] Request origin https://localhost:7257 does not have permission to access the resource.
2025-03-30 17:10:55.024 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.SplitOrderPos (BepKhoiBackend.API)'
2025-03-30 17:10:55.028 +07:00 [INF] Route matched with {action = "SplitOrderPos", controller = "OrderDetailControllers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SplitOrderPos(BepKhoiBackend.BusinessObject.dtos.OrderDetailDto.SplitOrderPosRquest) on controller BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers (BepKhoiBackend.API).
2025-03-30 17:10:58.656 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-03-30 17:11:00.287 +07:00 [INF] Executed DbCommand (59ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Order] AS [o]
        WHERE [o].[Order_id] = @__orderId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-30 17:11:00.334 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Order] AS [o]
        WHERE [o].[Order_id] = @__orderId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-30 17:11:00.340 +07:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-30 17:11:00.348 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.SplitOrderPos (BepKhoiBackend.API) in 5318.3348ms
2025-03-30 17:11:00.349 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.SplitOrderPos (BepKhoiBackend.API)'
2025-03-30 17:11:00.357 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7257/api/order-detail/SplitOrderPos application/json 218 - 400 - application/json;+charset=utf-8 5341.1504ms
2025-03-30 17:14:20.796 +07:00 [INF] User profile is available. Using 'C:\Users\phams\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-30 17:14:21.051 +07:00 [INF] Now listening on: https://localhost:7257
2025-03-30 17:14:21.051 +07:00 [INF] Now listening on: http://localhost:5287
2025-03-30 17:14:21.054 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-30 17:14:21.054 +07:00 [INF] Hosting environment: Development
2025-03-30 17:14:21.055 +07:00 [INF] Content root path: C:\Users\phams\Desktop\Do an SP25\Backend\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-03-30 17:14:21.696 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-03-30 17:14:21.993 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 299.5621ms
2025-03-30 17:14:22.003 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-03-30 17:14:22.008 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 13772 application/javascript;+charset=utf-8 4.7689ms
2025-03-30 17:14:22.471 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-03-30 17:14:22.521 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 49.8588ms
2025-03-30 17:14:22.862 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-03-30 17:14:23.012 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 150.4977ms
2025-03-30 17:17:50.638 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7257/api/order-detail/SplitOrderPos application/json 220
2025-03-30 17:17:50.666 +07:00 [INF] CORS policy execution failed.
2025-03-30 17:17:50.666 +07:00 [INF] Request origin https://localhost:7257 does not have permission to access the resource.
2025-03-30 17:17:50.722 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.SplitOrderPos (BepKhoiBackend.API)'
2025-03-30 17:17:50.743 +07:00 [INF] Route matched with {action = "SplitOrderPos", controller = "OrderDetailControllers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SplitOrderPos(BepKhoiBackend.BusinessObject.dtos.OrderDetailDto.SplitOrderPosRquest) on controller BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers (BepKhoiBackend.API).
2025-03-30 17:18:42.191 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-03-30 17:18:43.851 +07:00 [INF] Executed DbCommand (64ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Order] AS [o]
        WHERE [o].[Order_id] = @__orderId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-30 17:18:43.902 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Order] AS [o]
        WHERE [o].[Order_id] = @__orderId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-30 17:18:43.944 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__sourceOrderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Order_detail_id], [o].[Order_id], [o].[Price], [o].[Product_id], [o].[Product_name], [o].[Product_note], [o].[Quantity], [o].[Status]
FROM [Order_detail] AS [o]
WHERE [o].[Order_id] = @__sourceOrderId_0
2025-03-30 17:18:44.008 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__8__locals1_targetOrderId_0='?' (DbType = Int32), @__productId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Order_detail_id], [o].[Order_id], [o].[Price], [o].[Product_id], [o].[Product_name], [o].[Product_note], [o].[Quantity], [o].[Status]
FROM [Order_detail] AS [o]
WHERE ([o].[Order_id] = @__8__locals1_targetOrderId_0) AND ([o].[Product_id] = @__productId_1)
2025-03-30 17:18:44.159 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Order_id], [t].[Amount_due], [t].[Created_time], [t].[Customer_id], [t].[Delivery_information_id], [t].[Order_note], [t].[Order_status_id], [t].[Order_type_id], [t].[Room_id], [t].[Shipper_id], [t].[Total_quantity], [o0].[Order_detail_id], [o0].[Order_id], [o0].[Price], [o0].[Product_id], [o0].[Product_name], [o0].[Product_note], [o0].[Quantity], [o0].[Status]
FROM (
    SELECT TOP(1) [o].[Order_id], [o].[Amount_due], [o].[Created_time], [o].[Customer_id], [o].[Delivery_information_id], [o].[Order_note], [o].[Order_status_id], [o].[Order_type_id], [o].[Room_id], [o].[Shipper_id], [o].[Total_quantity]
    FROM [Order] AS [o]
    WHERE [o].[Order_id] = @__orderId_0
) AS [t]
LEFT JOIN [Order_detail] AS [o0] ON [t].[Order_id] = [o0].[Order_id]
ORDER BY [t].[Order_id]
2025-03-30 17:18:44.198 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Order_id], [t].[Amount_due], [t].[Created_time], [t].[Customer_id], [t].[Delivery_information_id], [t].[Order_note], [t].[Order_status_id], [t].[Order_type_id], [t].[Room_id], [t].[Shipper_id], [t].[Total_quantity], [o0].[Order_detail_id], [o0].[Order_id], [o0].[Price], [o0].[Product_id], [o0].[Product_name], [o0].[Product_note], [o0].[Quantity], [o0].[Status]
FROM (
    SELECT TOP(1) [o].[Order_id], [o].[Amount_due], [o].[Created_time], [o].[Customer_id], [o].[Delivery_information_id], [o].[Order_note], [o].[Order_status_id], [o].[Order_type_id], [o].[Room_id], [o].[Shipper_id], [o].[Total_quantity]
    FROM [Order] AS [o]
    WHERE [o].[Order_id] = @__orderId_0
) AS [t]
LEFT JOIN [Order_detail] AS [o0] ON [t].[Order_id] = [o0].[Order_id]
ORDER BY [t].[Order_id]
2025-03-30 17:18:44.337 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@p10='?' (DbType = Int32), @p0='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 255), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Order] SET [Amount_due] = @p0, [Created_time] = @p1, [Customer_id] = @p2, [Delivery_information_id] = @p3, [Order_note] = @p4, [Order_status_id] = @p5, [Order_type_id] = @p6, [Room_id] = @p7, [Shipper_id] = @p8, [Total_quantity] = @p9
WHERE [Order_id] = @p10;
SELECT @@ROWCOUNT;
2025-03-30 17:18:44.346 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@p10='?' (DbType = Int32), @p0='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 255), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Order] SET [Amount_due] = @p0, [Created_time] = @p1, [Customer_id] = @p2, [Delivery_information_id] = @p3, [Order_note] = @p4, [Order_status_id] = @p5, [Order_type_id] = @p6, [Room_id] = @p7, [Shipper_id] = @p8, [Total_quantity] = @p9
WHERE [Order_id] = @p10;
SELECT @@ROWCOUNT;
2025-03-30 17:18:44.351 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [Order_detail]
WHERE [Order_detail_id] = @p0;
SELECT @@ROWCOUNT;
2025-03-30 17:18:44.362 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p2='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p3='?' (DbType = Int32), @p4='?' (Size = 100), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Order_detail] ([Order_id], [Price], [Product_id], [Product_name], [Product_note], [Quantity], [Status])
VALUES (@p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT [Order_detail_id]
FROM [Order_detail]
WHERE @@ROWCOUNT = 1 AND [Order_detail_id] = scope_identity();
2025-03-30 17:18:44.421 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-30 17:18:44.445 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.SplitOrderPos (BepKhoiBackend.API) in 53695.8534ms
2025-03-30 17:18:44.448 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.SplitOrderPos (BepKhoiBackend.API)'
2025-03-30 17:18:44.460 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7257/api/order-detail/SplitOrderPos application/json 220 - 200 - application/json;+charset=utf-8 53821.6699ms
2025-03-30 17:21:21.004 +07:00 [INF] User profile is available. Using 'C:\Users\phams\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-30 17:21:21.233 +07:00 [INF] Now listening on: https://localhost:7257
2025-03-30 17:21:21.234 +07:00 [INF] Now listening on: http://localhost:5287
2025-03-30 17:21:21.236 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-30 17:21:21.237 +07:00 [INF] Hosting environment: Development
2025-03-30 17:21:21.238 +07:00 [INF] Content root path: C:\Users\phams\Desktop\Do an SP25\Backend\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-03-30 17:21:21.718 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-03-30 17:21:22.035 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 318.8074ms
2025-03-30 17:21:22.604 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-03-30 17:21:22.604 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-03-30 17:21:22.612 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 13772 application/javascript;+charset=utf-8 8.0367ms
2025-03-30 17:21:22.996 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 391.6256ms
2025-03-30 17:21:23.113 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-03-30 17:21:23.273 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 160.0061ms
2025-03-30 17:22:16.662 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7257/api/order-detail/SplitOrderPos application/json 219
2025-03-30 17:22:16.695 +07:00 [INF] CORS policy execution failed.
2025-03-30 17:22:16.697 +07:00 [INF] Request origin https://localhost:7257 does not have permission to access the resource.
2025-03-30 17:22:16.755 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.SplitOrderPos (BepKhoiBackend.API)'
2025-03-30 17:22:16.778 +07:00 [INF] Route matched with {action = "SplitOrderPos", controller = "OrderDetailControllers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SplitOrderPos(BepKhoiBackend.BusinessObject.dtos.OrderDetailDto.SplitOrderPosRquest) on controller BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers (BepKhoiBackend.API).
2025-03-30 17:31:11.634 +07:00 [INF] User profile is available. Using 'C:\Users\phams\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-30 17:31:11.879 +07:00 [INF] Now listening on: https://localhost:7257
2025-03-30 17:31:11.880 +07:00 [INF] Now listening on: http://localhost:5287
2025-03-30 17:31:11.883 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-30 17:31:11.883 +07:00 [INF] Hosting environment: Development
2025-03-30 17:31:11.884 +07:00 [INF] Content root path: C:\Users\phams\Desktop\Do an SP25\Backend\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-03-30 17:31:12.194 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-03-30 17:31:12.473 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 280.4816ms
2025-03-30 17:31:12.486 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-03-30 17:31:12.490 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 13772 application/javascript;+charset=utf-8 3.7092ms
2025-03-30 17:31:12.516 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-03-30 17:31:12.561 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 44.8276ms
2025-03-30 17:31:12.678 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-03-30 17:31:12.830 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 152.2267ms
2025-03-30 17:33:23.305 +07:00 [INF] User profile is available. Using 'C:\Users\phams\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-30 17:33:23.588 +07:00 [INF] Now listening on: https://localhost:7257
2025-03-30 17:33:23.589 +07:00 [INF] Now listening on: http://localhost:5287
2025-03-30 17:33:23.591 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-30 17:33:23.592 +07:00 [INF] Hosting environment: Development
2025-03-30 17:33:23.592 +07:00 [INF] Content root path: C:\Users\phams\Desktop\Do an SP25\Backend\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-03-30 17:33:24.285 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-03-30 17:33:24.567 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 284.2589ms
2025-03-30 17:33:24.580 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-03-30 17:33:24.584 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 13772 application/javascript;+charset=utf-8 4.1208ms
2025-03-30 17:33:24.608 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-03-30 17:33:24.652 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 44.2723ms
2025-03-30 17:33:24.758 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-03-30 17:33:24.911 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 153.2373ms
2025-03-30 17:35:02.060 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7257/api/order-detail/SplitOrderPos application/json 219
2025-03-30 17:35:02.092 +07:00 [INF] CORS policy execution failed.
2025-03-30 17:35:02.093 +07:00 [INF] Request origin https://localhost:7257 does not have permission to access the resource.
2025-03-30 17:35:02.152 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers.SplitOrderPos (BepKhoiBackend.API)'
2025-03-30 17:35:02.174 +07:00 [INF] Route matched with {action = "SplitOrderPos", controller = "OrderDetailControllers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SplitOrderPos(BepKhoiBackend.BusinessObject.dtos.OrderDetailDto.SplitOrderPosRquest) on controller BepKhoiBackend.API.Controllers.OrderDetailControllers.OrderDetailControllers (BepKhoiBackend.API).
