2025-04-03 00:05:30.222 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-03 00:05:30.644 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-03 00:05:30.647 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-03 00:05:30.756 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-03 00:05:30.757 +07:00 [INF] Hosting environment: Development
2025-04-03 00:05:30.759 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-03 00:05:31.259 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-03 00:05:31.476 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 220.2886ms
2025-04-03 00:05:31.495 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-03 00:05:31.502 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 7.3602ms
2025-04-03 00:05:31.715 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-03 00:05:31.778 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 63.3124ms
2025-04-03 00:05:31.815 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-03 00:05:31.856 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 40.2883ms
2025-04-03 00:21:57.806 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-03 00:21:57.981 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-03 00:21:57.988 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-03 00:21:58.141 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-03 00:21:58.140 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-03 00:21:58.148 +07:00 [INF] Hosting environment: Development
2025-04-03 00:21:58.153 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-03 00:21:58.320 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 183.5158ms
2025-04-03 00:21:58.352 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-03 00:21:58.352 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-03 00:21:58.359 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 6.3858ms
2025-04-03 00:21:58.395 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 42.6744ms
2025-04-03 00:21:58.814 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-03 00:21:58.861 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 46.5237ms
2025-04-03 00:24:19.741 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-03 00:24:19.881 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-03 00:24:19.887 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-03 00:24:20.004 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-03 00:24:20.006 +07:00 [INF] Hosting environment: Development
2025-04-03 00:24:20.008 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-03 00:24:20.710 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-03 00:24:20.885 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 177.9386ms
2025-04-03 00:24:20.910 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-03 00:24:20.920 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 9.2365ms
2025-04-03 00:24:21.140 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-03 00:24:21.179 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 39.3277ms
2025-04-03 00:24:21.322 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-03 00:24:21.369 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 46.8399ms
2025-04-03 00:25:23.755 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-03 00:25:24.103 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-03 00:25:24.104 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-03 00:28:20.734 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-03 00:28:21.192 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-03 00:28:21.194 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-03 00:28:21.371 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-03 00:28:21.374 +07:00 [INF] Hosting environment: Development
2025-04-03 00:28:21.376 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-03 00:28:22.014 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-03 00:28:22.396 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 384.8427ms
2025-04-03 00:28:22.421 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-03 00:28:22.433 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 11.1517ms
2025-04-03 00:28:22.659 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-03 00:28:22.754 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 95.3057ms
2025-04-03 00:28:22.797 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-03 00:28:22.845 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 47.6281ms
2025-04-03 00:30:23.917 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-03 00:30:24.455 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-03 00:30:24.461 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-03 00:30:24.637 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-03 00:30:24.641 +07:00 [INF] Hosting environment: Development
2025-04-03 00:30:24.645 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-03 00:30:25.187 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-03 00:30:25.501 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 317.1193ms
2025-04-03 00:30:25.526 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-03 00:30:25.538 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 11.9855ms
2025-04-03 00:30:25.781 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-03 00:30:25.856 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 75.3630ms
2025-04-03 00:30:25.909 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-03 00:30:25.954 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 45.2858ms
2025-04-03 00:30:30.757 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/pdf/1 - -
2025-04-03 00:30:31.931 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API)'
2025-04-03 00:30:31.980 +07:00 [INF] Route matched with {action = "GetInvoicePdf", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetInvoicePdf(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-03 00:30:32.641 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API) in 644.4437ms
2025-04-03 00:30:32.663 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API)'
2025-04-03 00:30:32.737 +07:00 [ERR] Error: Unable to resolve service for type 'BepKhoiBackend.BusinessObject.Services.InvoiceService.PrintInvoicePdfService' while attempting to activate 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController'.
2025-04-03 00:30:32.755 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/pdf/1 - - - 500 - application/json 1997.6321ms
2025-04-03 00:31:20.658 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-03 00:31:21.125 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-03 00:31:21.131 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-03 00:31:21.383 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-03 00:31:21.385 +07:00 [INF] Hosting environment: Development
2025-04-03 00:31:21.388 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-03 00:31:21.708 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-03 00:31:21.935 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 233.9395ms
2025-04-03 00:31:21.950 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-03 00:31:21.954 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 4.8610ms
2025-04-03 00:31:22.150 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-03 00:31:22.219 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 68.8662ms
2025-04-03 00:31:22.253 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-03 00:31:22.282 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 29.2718ms
2025-04-03 00:31:28.163 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/pdf/1 - -
2025-04-03 00:31:28.320 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API)'
2025-04-03 00:31:28.346 +07:00 [INF] Route matched with {action = "GetInvoicePdf", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetInvoicePdf(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-03 00:31:29.663 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-03 00:31:31.931 +07:00 [INF] Executed DbCommand (148ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Invoice_id], [t].[Amount_due], [t].[Cashier_id], [t].[Check_in_time], [t].[Check_out_time], [t].[Customer_id], [t].[Invoice_discount], [t].[Invoice_note], [t].[Order_id], [t].[Order_type_id], [t].[Other_payment], [t].[Payment_method_id], [t].[Room_id], [t].[Shipper_id], [t].[Status], [t].[Subtotal], [t].[Total_quantity], [t].[Total_vat], [t].[Customer_id0], [t0].[Invoice_detail_id], [t0].[Invoice_id], [t0].[Price], [t0].[Product_id], [t0].[Product_name], [t0].[Product_note], [t0].[Product_vat], [t0].[Quantity], [t0].[Product_id0], [t0].[Cost_price], [t0].[Description], [t0].[IsAvailable], [t0].[IsDelete], [t0].[Product_category_id], [t0].[Product_name0], [t0].[Product_vat0], [t0].[Sale_price], [t0].[Sell_price], [t0].[Status], [t0].[Unit_id], [t].[Customer_name], [t].[isDelete], [t].[Phone]
FROM (
    SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat], [c].[Customer_id] AS [Customer_id0], [c].[Customer_name], [c].[isDelete], [c].[Phone]
    FROM [Invoice] AS [i]
    LEFT JOIN [Customer] AS [c] ON [i].[Customer_id] = [c].[Customer_id]
    WHERE [i].[Invoice_id] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [i0].[Invoice_detail_id], [i0].[Invoice_id], [i0].[Price], [i0].[Product_id], [i0].[Product_name], [i0].[Product_note], [i0].[Product_vat], [i0].[Quantity], [m].[Product_id] AS [Product_id0], [m].[Cost_price], [m].[Description], [m].[IsAvailable], [m].[IsDelete], [m].[Product_category_id], [m].[Product_name] AS [Product_name0], [m].[Product_vat] AS [Product_vat0], [m].[Sale_price], [m].[Sell_price], [m].[Status], [m].[Unit_id]
    FROM [Invoice_detail] AS [i0]
    INNER JOIN [Menu] AS [m] ON [i0].[Product_id] = [m].[Product_id]
) AS [t0] ON [t].[Invoice_id] = [t0].[Invoice_id]
ORDER BY [t].[Invoice_id], [t].[Customer_id0], [t0].[Invoice_detail_id]
2025-04-03 00:31:32.706 +07:00 [INF] Executing FileContentResult, sending file with download name 'Invoice_1.pdf' ...
2025-04-03 00:31:32.734 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API) in 4366.2589ms
2025-04-03 00:31:32.745 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetInvoicePdf (BepKhoiBackend.API)'
2025-04-03 00:31:32.762 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/pdf/1 - - - 200 58450 application/pdf 4598.1906ms
2025-04-03 00:31:50.442 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/orders/1/temp-invoice - -
2025-04-03 00:31:50.452 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.OrderControllers.OrderController.GetTempInvoicePdf (BepKhoiBackend.API)'
2025-04-03 00:31:50.477 +07:00 [INF] Route matched with {action = "GetTempInvoicePdf", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTempInvoicePdf(Int32) on controller BepKhoiBackend.API.Controllers.OrderControllers.OrderController (BepKhoiBackend.API).
2025-04-03 00:31:50.675 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-03 00:31:50.816 +07:00 [INF] Executed DbCommand (67ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Order_id], [t].[Amount_due], [t].[Created_time], [t].[Customer_id], [t].[Delivery_information_id], [t].[Order_note], [t].[Order_status_id], [t].[Order_type_id], [t].[Room_id], [t].[Shipper_id], [t].[Total_quantity], [o0].[Order_detail_id], [o0].[Order_id], [o0].[Price], [o0].[Product_id], [o0].[Product_name], [o0].[Product_note], [o0].[Quantity], [o0].[Status]
FROM (
    SELECT TOP(1) [o].[Order_id], [o].[Amount_due], [o].[Created_time], [o].[Customer_id], [o].[Delivery_information_id], [o].[Order_note], [o].[Order_status_id], [o].[Order_type_id], [o].[Room_id], [o].[Shipper_id], [o].[Total_quantity]
    FROM [Order] AS [o]
    WHERE [o].[Order_id] = @__orderId_0
) AS [t]
LEFT JOIN [Order_detail] AS [o0] ON [t].[Order_id] = [o0].[Order_id]
ORDER BY [t].[Order_id]
2025-04-03 00:31:50.897 +07:00 [INF] Executing FileContentResult, sending file with download name 'Invoice_1.pdf' ...
2025-04-03 00:31:50.907 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.OrderControllers.OrderController.GetTempInvoicePdf (BepKhoiBackend.API) in 419.3958ms
2025-04-03 00:31:50.914 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.OrderControllers.OrderController.GetTempInvoicePdf (BepKhoiBackend.API)'
2025-04-03 00:31:50.923 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/orders/1/temp-invoice - - - 200 56042 application/pdf 480.7809ms
2025-04-03 01:14:15.644 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-03 01:14:15.793 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-03 01:14:15.796 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-03 01:14:15.907 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-03 01:14:15.909 +07:00 [INF] Hosting environment: Development
2025-04-03 01:14:15.910 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-03 01:14:16.460 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-03 01:14:16.654 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 197.8119ms
2025-04-03 01:14:16.680 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-03 01:14:16.685 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 4.8469ms
2025-04-03 01:14:16.944 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-03 01:14:16.981 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 36.4950ms
2025-04-03 01:14:17.030 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-03 01:14:17.070 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 40.8653ms
2025-04-03 01:14:24.460 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/payment-qr/1 - -
2025-04-03 01:14:24.518 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GenerateVNPayQRCode (BepKhoiBackend.API)'
2025-04-03 01:14:24.558 +07:00 [INF] Route matched with {action = "GenerateVNPayQRCode", controller = "Invoice"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GenerateVNPayQRCode(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-03 01:14:24.704 +07:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-03 01:14:24.716 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GenerateVNPayQRCode (BepKhoiBackend.API) in 148.8121ms
2025-04-03 01:14:24.720 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GenerateVNPayQRCode (BepKhoiBackend.API)'
2025-04-03 01:14:24.723 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/payment-qr/1 - - - 400 - application/json;+charset=utf-8 263.2558ms
2025-04-03 01:27:28.129 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-03 01:27:28.282 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-03 01:27:28.284 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-03 01:27:28.418 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-03 01:27:28.421 +07:00 [INF] Hosting environment: Development
2025-04-03 01:27:28.423 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-03 01:27:28.860 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-03 01:27:29.039 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 182.1367ms
2025-04-03 01:27:29.416 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-03 01:27:29.421 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-03 01:27:29.424 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 7.7944ms
2025-04-03 01:27:29.462 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 41.6631ms
2025-04-03 01:27:29.532 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-03 01:27:29.571 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 39.2605ms
2025-04-03 01:27:53.129 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-03 01:27:53.290 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-03 01:27:53.292 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-03 01:27:53.446 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-03 01:27:53.450 +07:00 [INF] Hosting environment: Development
2025-04-03 01:27:53.451 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-03 01:27:53.847 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-03 01:27:54.065 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 222.0204ms
2025-04-03 01:27:54.105 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-03 01:27:54.105 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-03 01:27:54.108 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 3.5612ms
2025-04-03 01:27:54.128 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 23.4451ms
2025-04-03 01:27:54.241 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-03 01:27:54.294 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 52.8065ms
2025-04-03 01:28:02.067 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/invoice/1/pay-vnpay - -
2025-04-03 01:28:02.122 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetVNPayPaymentUrl (BepKhoiBackend.API)'
2025-04-03 01:28:02.147 +07:00 [INF] Route matched with {action = "GetVNPayPaymentUrl", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetVNPayPaymentUrl(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-03 01:28:03.270 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-03 01:28:04.096 +07:00 [INF] Executed DbCommand (56ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Invoice_id], [t].[Amount_due], [t].[Cashier_id], [t].[Check_in_time], [t].[Check_out_time], [t].[Customer_id], [t].[Invoice_discount], [t].[Invoice_note], [t].[Order_id], [t].[Order_type_id], [t].[Other_payment], [t].[Payment_method_id], [t].[Room_id], [t].[Shipper_id], [t].[Status], [t].[Subtotal], [t].[Total_quantity], [t].[Total_vat], [t].[Customer_id0], [t0].[Invoice_detail_id], [t0].[Invoice_id], [t0].[Price], [t0].[Product_id], [t0].[Product_name], [t0].[Product_note], [t0].[Product_vat], [t0].[Quantity], [t0].[Product_id0], [t0].[Cost_price], [t0].[Description], [t0].[IsAvailable], [t0].[IsDelete], [t0].[Product_category_id], [t0].[Product_name0], [t0].[Product_vat0], [t0].[Sale_price], [t0].[Sell_price], [t0].[Status], [t0].[Unit_id], [t].[Customer_name], [t].[isDelete], [t].[Phone]
FROM (
    SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat], [c].[Customer_id] AS [Customer_id0], [c].[Customer_name], [c].[isDelete], [c].[Phone]
    FROM [Invoice] AS [i]
    LEFT JOIN [Customer] AS [c] ON [i].[Customer_id] = [c].[Customer_id]
    WHERE [i].[Invoice_id] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [i0].[Invoice_detail_id], [i0].[Invoice_id], [i0].[Price], [i0].[Product_id], [i0].[Product_name], [i0].[Product_note], [i0].[Product_vat], [i0].[Quantity], [m].[Product_id] AS [Product_id0], [m].[Cost_price], [m].[Description], [m].[IsAvailable], [m].[IsDelete], [m].[Product_category_id], [m].[Product_name] AS [Product_name0], [m].[Product_vat] AS [Product_vat0], [m].[Sale_price], [m].[Sell_price], [m].[Status], [m].[Unit_id]
    FROM [Invoice_detail] AS [i0]
    INNER JOIN [Menu] AS [m] ON [i0].[Product_id] = [m].[Product_id]
) AS [t0] ON [t].[Invoice_id] = [t0].[Invoice_id]
ORDER BY [t].[Invoice_id], [t].[Customer_id0], [t0].[Invoice_detail_id]
2025-04-03 01:28:04.252 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetVNPayPaymentUrl (BepKhoiBackend.API) in 2097.2122ms
2025-04-03 01:28:04.260 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetVNPayPaymentUrl (BepKhoiBackend.API)'
2025-04-03 01:28:04.266 +07:00 [ERR] Error: Object reference not set to an instance of an object.
2025-04-03 01:28:04.271 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/invoice/1/pay-vnpay - - - 500 - application/json 2204.0582ms
2025-04-03 01:29:09.547 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-03 01:29:09.555 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 7.4037ms
2025-04-03 01:29:09.583 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-03 01:29:09.585 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-03 01:29:09.586 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 1.0546ms
2025-04-03 01:29:09.591 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 8.5821ms
2025-04-03 01:29:09.889 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-03 01:29:09.919 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 30.4062ms
2025-04-03 01:29:18.534 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/invoice/1/pay-vnpay - -
2025-04-03 01:29:18.542 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetVNPayPaymentUrl (BepKhoiBackend.API)'
2025-04-03 01:29:18.545 +07:00 [INF] Route matched with {action = "GetVNPayPaymentUrl", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetVNPayPaymentUrl(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-03 01:29:18.565 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-03 01:29:18.613 +07:00 [INF] Executed DbCommand (40ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Invoice_id], [t].[Amount_due], [t].[Cashier_id], [t].[Check_in_time], [t].[Check_out_time], [t].[Customer_id], [t].[Invoice_discount], [t].[Invoice_note], [t].[Order_id], [t].[Order_type_id], [t].[Other_payment], [t].[Payment_method_id], [t].[Room_id], [t].[Shipper_id], [t].[Status], [t].[Subtotal], [t].[Total_quantity], [t].[Total_vat], [t].[Customer_id0], [t0].[Invoice_detail_id], [t0].[Invoice_id], [t0].[Price], [t0].[Product_id], [t0].[Product_name], [t0].[Product_note], [t0].[Product_vat], [t0].[Quantity], [t0].[Product_id0], [t0].[Cost_price], [t0].[Description], [t0].[IsAvailable], [t0].[IsDelete], [t0].[Product_category_id], [t0].[Product_name0], [t0].[Product_vat0], [t0].[Sale_price], [t0].[Sell_price], [t0].[Status], [t0].[Unit_id], [t].[Customer_name], [t].[isDelete], [t].[Phone]
FROM (
    SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat], [c].[Customer_id] AS [Customer_id0], [c].[Customer_name], [c].[isDelete], [c].[Phone]
    FROM [Invoice] AS [i]
    LEFT JOIN [Customer] AS [c] ON [i].[Customer_id] = [c].[Customer_id]
    WHERE [i].[Invoice_id] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [i0].[Invoice_detail_id], [i0].[Invoice_id], [i0].[Price], [i0].[Product_id], [i0].[Product_name], [i0].[Product_note], [i0].[Product_vat], [i0].[Quantity], [m].[Product_id] AS [Product_id0], [m].[Cost_price], [m].[Description], [m].[IsAvailable], [m].[IsDelete], [m].[Product_category_id], [m].[Product_name] AS [Product_name0], [m].[Product_vat] AS [Product_vat0], [m].[Sale_price], [m].[Sell_price], [m].[Status], [m].[Unit_id]
    FROM [Invoice_detail] AS [i0]
    INNER JOIN [Menu] AS [m] ON [i0].[Product_id] = [m].[Product_id]
) AS [t0] ON [t].[Invoice_id] = [t0].[Invoice_id]
ORDER BY [t].[Invoice_id], [t].[Customer_id0], [t0].[Invoice_detail_id]
2025-04-03 01:29:18.622 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetVNPayPaymentUrl (BepKhoiBackend.API) in 73.2895ms
2025-04-03 01:29:18.625 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetVNPayPaymentUrl (BepKhoiBackend.API)'
2025-04-03 01:29:18.626 +07:00 [ERR] Error: Object reference not set to an instance of an object.
2025-04-03 01:29:18.627 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/invoice/1/pay-vnpay - - - 500 - application/json 93.1799ms
2025-04-03 01:31:51.828 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-03 01:31:51.975 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-03 01:31:51.976 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-03 01:31:52.076 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-03 01:31:52.078 +07:00 [INF] Hosting environment: Development
2025-04-03 01:31:52.079 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-03 01:31:52.440 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-03 01:31:52.568 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 130.0122ms
2025-04-03 01:31:52.586 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-03 01:31:52.586 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-03 01:31:52.589 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 3.9289ms
2025-04-03 01:31:52.608 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 22.3555ms
2025-04-03 01:31:52.896 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-03 01:31:52.945 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 48.1208ms
2025-04-03 01:31:57.904 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/invoice/1/pay-vnpay - -
2025-04-03 01:31:57.959 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetVNPayPaymentUrl (BepKhoiBackend.API)'
2025-04-03 01:31:57.973 +07:00 [INF] Route matched with {action = "GetVNPayPaymentUrl", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetVNPayPaymentUrl(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-03 01:31:58.657 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-03 01:31:59.233 +07:00 [INF] Executed DbCommand (47ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Invoice_id], [t].[Amount_due], [t].[Cashier_id], [t].[Check_in_time], [t].[Check_out_time], [t].[Customer_id], [t].[Invoice_discount], [t].[Invoice_note], [t].[Order_id], [t].[Order_type_id], [t].[Other_payment], [t].[Payment_method_id], [t].[Room_id], [t].[Shipper_id], [t].[Status], [t].[Subtotal], [t].[Total_quantity], [t].[Total_vat], [t].[Customer_id0], [t0].[Invoice_detail_id], [t0].[Invoice_id], [t0].[Price], [t0].[Product_id], [t0].[Product_name], [t0].[Product_note], [t0].[Product_vat], [t0].[Quantity], [t0].[Product_id0], [t0].[Cost_price], [t0].[Description], [t0].[IsAvailable], [t0].[IsDelete], [t0].[Product_category_id], [t0].[Product_name0], [t0].[Product_vat0], [t0].[Sale_price], [t0].[Sell_price], [t0].[Status], [t0].[Unit_id], [t].[Customer_name], [t].[isDelete], [t].[Phone]
FROM (
    SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat], [c].[Customer_id] AS [Customer_id0], [c].[Customer_name], [c].[isDelete], [c].[Phone]
    FROM [Invoice] AS [i]
    LEFT JOIN [Customer] AS [c] ON [i].[Customer_id] = [c].[Customer_id]
    WHERE [i].[Invoice_id] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [i0].[Invoice_detail_id], [i0].[Invoice_id], [i0].[Price], [i0].[Product_id], [i0].[Product_name], [i0].[Product_note], [i0].[Product_vat], [i0].[Quantity], [m].[Product_id] AS [Product_id0], [m].[Cost_price], [m].[Description], [m].[IsAvailable], [m].[IsDelete], [m].[Product_category_id], [m].[Product_name] AS [Product_name0], [m].[Product_vat] AS [Product_vat0], [m].[Sale_price], [m].[Sell_price], [m].[Status], [m].[Unit_id]
    FROM [Invoice_detail] AS [i0]
    INNER JOIN [Menu] AS [m] ON [i0].[Product_id] = [m].[Product_id]
) AS [t0] ON [t].[Invoice_id] = [t0].[Invoice_id]
ORDER BY [t].[Invoice_id], [t].[Customer_id0], [t0].[Invoice_detail_id]
2025-04-03 01:31:59.369 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetVNPayPaymentUrl (BepKhoiBackend.API) in 1386.0468ms
2025-04-03 01:31:59.371 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetVNPayPaymentUrl (BepKhoiBackend.API)'
2025-04-03 01:31:59.373 +07:00 [ERR] Error: Object reference not set to an instance of an object.
2025-04-03 01:31:59.379 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/invoice/1/pay-vnpay - - - 500 - application/json 1474.8630ms
2025-04-03 01:52:12.072 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-03 01:52:12.204 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-03 01:52:12.206 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-03 01:52:12.301 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-03 01:52:12.306 +07:00 [INF] Hosting environment: Development
2025-04-03 01:52:12.311 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-03 01:52:12.661 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-03 01:52:12.795 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 137.6272ms
2025-04-03 01:52:12.826 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-03 01:52:12.826 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-03 01:52:12.832 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 5.2326ms
2025-04-03 01:52:12.857 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 30.2611ms
2025-04-03 01:52:13.204 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-03 01:52:13.253 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 48.9705ms
2025-04-03 01:52:40.992 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-03 01:52:41.336 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-03 01:52:41.338 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-03 01:52:41.490 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-03 01:52:41.493 +07:00 [INF] Hosting environment: Development
2025-04-03 01:52:41.495 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-03 01:52:43.198 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-03 01:52:43.492 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 296.7160ms
2025-04-03 01:52:43.514 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-03 01:52:43.519 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 4.6747ms
2025-04-03 01:52:43.747 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-03 01:52:43.816 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 69.1197ms
2025-04-03 01:52:43.950 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-03 01:52:43.986 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 35.5683ms
2025-04-03 01:53:04.848 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7257/api/Invoice/generate-vnpay-qr application/json 79
2025-04-03 01:53:04.894 +07:00 [INF] CORS policy execution failed.
2025-04-03 01:53:04.899 +07:00 [INF] Request origin https://localhost:7257 does not have permission to access the resource.
2025-04-03 01:53:05.004 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GenerateVNPayQRCode (BepKhoiBackend.API)'
2025-04-03 01:53:05.038 +07:00 [INF] Route matched with {action = "GenerateVNPayQRCode", controller = "Invoice"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GenerateVNPayQRCode(BepKhoiBackend.BusinessObject.dtos.InvoiceDto.PaymentRequest) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-03 01:53:05.709 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-03 01:53:05.726 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GenerateVNPayQRCode (BepKhoiBackend.API) in 673.7505ms
2025-04-03 01:53:05.738 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GenerateVNPayQRCode (BepKhoiBackend.API)'
2025-04-03 01:53:05.751 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7257/api/Invoice/generate-vnpay-qr application/json 79 - 200 - application/json;+charset=utf-8 903.0663ms
2025-04-03 02:05:57.798 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-03 02:05:57.935 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-03 02:05:57.939 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-03 02:05:57.999 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-03 02:05:58.001 +07:00 [INF] Hosting environment: Development
2025-04-03 02:05:58.004 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-03 02:05:58.653 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-03 02:05:58.833 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 183.2358ms
2025-04-03 02:05:58.849 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-03 02:05:58.852 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 3.2034ms
2025-04-03 02:05:59.063 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-03 02:05:59.103 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 39.5559ms
2025-04-03 02:05:59.253 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-03 02:05:59.291 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 37.4036ms
2025-04-03 02:06:09.194 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/generate-qr/1 - -
2025-04-03 02:06:09.238 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GenerateQRForPayment (BepKhoiBackend.API)'
2025-04-03 02:06:09.268 +07:00 [INF] Route matched with {action = "GenerateQRForPayment", controller = "Invoice"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GenerateQRForPayment(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-03 02:06:10.004 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-03 02:06:10.461 +07:00 [INF] Executed DbCommand (50ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat]
FROM [Invoice] AS [i]
WHERE [i].[Invoice_id] = @__id_0
2025-04-03 02:06:10.627 +07:00 [INF] Executing FileContentResult, sending file with download name 'PaymentQRCode_1.png' ...
2025-04-03 02:06:10.718 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GenerateQRForPayment (BepKhoiBackend.API) in 1438.2039ms
2025-04-03 02:06:10.723 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GenerateQRForPayment (BepKhoiBackend.API)'
2025-04-03 02:06:10.728 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/generate-qr/1 - - - 200 12241254 image/png 1534.2293ms
2025-04-03 02:07:27.915 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-03 02:07:28.061 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-03 02:07:28.063 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-03 02:07:28.114 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-03 02:07:28.118 +07:00 [INF] Hosting environment: Development
2025-04-03 02:07:28.121 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-03 02:07:29.039 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-03 02:07:29.245 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 209.0700ms
2025-04-03 02:07:29.276 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-03 02:07:29.276 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-03 02:07:29.281 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 5.9460ms
2025-04-03 02:07:29.307 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 31.5347ms
2025-04-03 02:07:29.406 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-03 02:07:29.468 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 60.9544ms
2025-04-03 02:07:35.385 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/generate-qr/1 - -
2025-04-03 02:07:35.440 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GenerateQRForPayment (BepKhoiBackend.API)'
2025-04-03 02:07:35.466 +07:00 [INF] Route matched with {action = "GenerateQRForPayment", controller = "Invoice"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GenerateQRForPayment(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-03 02:07:36.208 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-03 02:07:36.765 +07:00 [INF] Executed DbCommand (60ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat]
FROM [Invoice] AS [i]
WHERE [i].[Invoice_id] = @__id_0
2025-04-03 02:07:36.914 +07:00 [INF] Executing FileContentResult, sending file with download name 'PaymentQRCode_1.png' ...
2025-04-03 02:07:37.008 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GenerateQRForPayment (BepKhoiBackend.API) in 1527.846ms
2025-04-03 02:07:37.012 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GenerateQRForPayment (BepKhoiBackend.API)'
2025-04-03 02:07:37.023 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/generate-qr/1 - - - 200 12241254 image/png 1638.0320ms
2025-04-03 02:08:58.215 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-03 02:08:58.355 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-03 02:08:58.358 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-03 02:08:58.410 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-03 02:08:58.411 +07:00 [INF] Hosting environment: Development
2025-04-03 02:08:58.412 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-03 02:08:58.913 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-03 02:08:59.107 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 198.6409ms
2025-04-03 02:08:59.135 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-03 02:08:59.135 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-03 02:08:59.141 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 5.9455ms
2025-04-03 02:08:59.171 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 36.0552ms
2025-04-03 02:08:59.424 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-03 02:08:59.494 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 70.5149ms
2025-04-03 02:09:05.080 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/generate-qr/1 - -
2025-04-03 02:09:05.133 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GenerateQRForPayment (BepKhoiBackend.API)'
2025-04-03 02:09:05.158 +07:00 [INF] Route matched with {action = "GenerateQRForPayment", controller = "Invoice"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GenerateQRForPayment(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-03 02:09:05.901 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-03 02:09:06.405 +07:00 [INF] Executed DbCommand (47ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat]
FROM [Invoice] AS [i]
WHERE [i].[Invoice_id] = @__id_0
2025-04-03 02:09:06.585 +07:00 [INF] Executing FileContentResult, sending file with download name 'PaymentQRCode_1.png' ...
2025-04-03 02:09:06.687 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GenerateQRForPayment (BepKhoiBackend.API) in 1521.5091ms
2025-04-03 02:09:06.690 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GenerateQRForPayment (BepKhoiBackend.API)'
2025-04-03 02:09:06.696 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/generate-qr/1 - - - 200 15322854 image/png 1615.9640ms
2025-04-03 02:11:17.471 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-03 02:11:17.483 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 11.5361ms
2025-04-03 02:11:17.510 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-03 02:11:17.512 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-03 02:11:17.514 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 1.5845ms
2025-04-03 02:11:17.522 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 11.7363ms
2025-04-03 02:11:17.952 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-03 02:11:17.983 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 30.1064ms
2025-04-03 02:11:34.128 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-03 02:11:34.279 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-03 02:11:34.281 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-03 02:11:34.349 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-03 02:11:34.352 +07:00 [INF] Hosting environment: Development
2025-04-03 02:11:34.353 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-03 02:11:34.776 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-03 02:11:34.968 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 195.1169ms
2025-04-03 02:11:34.997 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-03 02:11:34.997 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-03 02:11:35.003 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 6.2816ms
2025-04-03 02:11:35.026 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 29.7065ms
2025-04-03 02:11:35.139 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-03 02:11:35.185 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 45.1342ms
2025-04-03 02:11:40.700 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/generate-qr/1 - -
2025-04-03 02:11:40.766 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GenerateQRForPayment (BepKhoiBackend.API)'
2025-04-03 02:11:40.791 +07:00 [INF] Route matched with {action = "GenerateQRForPayment", controller = "Invoice"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GenerateQRForPayment(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-03 02:11:41.589 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-03 02:11:42.016 +07:00 [INF] Executed DbCommand (54ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat]
FROM [Invoice] AS [i]
WHERE [i].[Invoice_id] = @__id_0
2025-04-03 02:11:42.244 +07:00 [INF] Executing FileContentResult, sending file with download name 'PaymentQRCode_1.png' ...
2025-04-03 02:11:42.337 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GenerateQRForPayment (BepKhoiBackend.API) in 1534.2223ms
2025-04-03 02:11:42.339 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GenerateQRForPayment (BepKhoiBackend.API)'
2025-04-03 02:11:42.347 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/generate-qr/1 - - - 200 15322854 image/png 1646.4648ms
2025-04-03 02:12:29.341 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-03 02:12:29.496 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-03 02:12:29.500 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-03 02:12:29.559 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-03 02:12:29.562 +07:00 [INF] Hosting environment: Development
2025-04-03 02:12:29.565 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-03 02:12:30.351 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-03 02:12:30.551 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 206.3592ms
2025-04-03 02:12:30.572 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-03 02:12:30.572 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-03 02:12:30.575 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 3.1398ms
2025-04-03 02:12:30.605 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 33.0994ms
2025-04-03 02:12:31.010 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-03 02:12:31.059 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 48.6645ms
2025-04-03 02:12:33.978 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-03 02:12:33.983 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 5.0531ms
2025-04-03 02:12:34.016 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-03 02:12:34.018 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-03 02:12:34.020 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 1.8648ms
2025-04-03 02:12:34.031 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 15.3699ms
2025-04-03 02:12:34.303 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-03 02:12:34.332 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 28.4869ms
2025-04-03 02:12:39.380 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/generate-qr/1 - -
2025-04-03 02:12:39.426 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GenerateQRForPayment (BepKhoiBackend.API)'
2025-04-03 02:12:39.450 +07:00 [INF] Route matched with {action = "GenerateQRForPayment", controller = "Invoice"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GenerateQRForPayment(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-03 02:12:40.285 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-03 02:12:40.675 +07:00 [INF] Executed DbCommand (42ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat]
FROM [Invoice] AS [i]
WHERE [i].[Invoice_id] = @__id_0
2025-04-03 02:12:40.855 +07:00 [INF] Executing FileContentResult, sending file with download name 'PaymentQRCode_1.png' ...
2025-04-03 02:12:40.915 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GenerateQRForPayment (BepKhoiBackend.API) in 1453.6869ms
2025-04-03 02:12:40.917 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GenerateQRForPayment (BepKhoiBackend.API)'
2025-04-03 02:12:40.922 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/generate-qr/1 - - - 200 15322854 image/png 1541.3162ms
2025-04-03 02:14:53.161 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-03 02:14:53.315 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-03 02:14:53.317 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-03 02:14:53.388 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-03 02:14:53.391 +07:00 [INF] Hosting environment: Development
2025-04-03 02:14:53.392 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-03 02:14:54.024 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-03 02:14:54.200 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 179.0216ms
2025-04-03 02:14:54.232 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-03 02:14:54.232 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-03 02:14:54.238 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 6.4385ms
2025-04-03 02:14:54.265 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 33.3312ms
2025-04-03 02:14:54.659 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-03 02:14:54.706 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 46.9896ms
2025-04-03 02:17:17.449 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-03 02:17:17.578 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-03 02:17:17.583 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-03 02:17:17.634 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-03 02:17:17.638 +07:00 [INF] Hosting environment: Development
2025-04-03 02:17:17.641 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-03 02:17:18.113 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-03 02:17:18.303 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 194.9727ms
2025-04-03 02:17:18.321 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-03 02:17:18.321 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-03 02:17:18.325 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 4.0353ms
2025-04-03 02:17:18.357 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 35.0797ms
2025-04-03 02:17:18.742 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-03 02:17:18.776 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 33.9038ms
2025-04-03 02:17:29.407 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/generate-qr/1 - -
2025-04-03 02:17:29.462 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GenerateQRForPayment (BepKhoiBackend.API)'
2025-04-03 02:17:29.486 +07:00 [INF] Route matched with {action = "GenerateQRForPayment", controller = "Invoice"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GenerateQRForPayment(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-03 02:17:30.360 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-03 02:17:30.897 +07:00 [INF] Executed DbCommand (64ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat]
FROM [Invoice] AS [i]
WHERE [i].[Invoice_id] = @__id_0
2025-04-03 02:17:31.132 +07:00 [INF] Executing FileContentResult, sending file with download name 'PaymentQRCode_1.png' ...
2025-04-03 02:17:31.204 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GenerateQRForPayment (BepKhoiBackend.API) in 1711.9267ms
2025-04-03 02:17:31.206 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GenerateQRForPayment (BepKhoiBackend.API)'
2025-04-03 02:17:31.212 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/generate-qr/1 - - - 200 15322854 image/png 1804.7498ms
2025-04-03 02:17:57.124 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-03 02:17:57.518 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-03 02:17:57.519 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-03 02:17:57.593 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-03 02:17:57.598 +07:00 [INF] Hosting environment: Development
2025-04-03 02:17:57.601 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-03 02:17:59.226 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-03 02:17:59.464 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 241.8779ms
2025-04-03 02:17:59.490 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-03 02:17:59.497 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 6.3458ms
2025-04-03 02:17:59.707 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-03 02:17:59.774 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 66.9807ms
2025-04-03 02:17:59.829 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-03 02:17:59.868 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 38.8422ms
2025-04-03 02:18:13.173 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/generate-qr/1 - -
2025-04-03 02:18:13.330 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GenerateQRForPayment (BepKhoiBackend.API)'
2025-04-03 02:18:13.361 +07:00 [INF] Route matched with {action = "GenerateQRForPayment", controller = "Invoice"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GenerateQRForPayment(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-03 02:18:14.631 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-03 02:18:15.630 +07:00 [INF] Executed DbCommand (97ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat]
FROM [Invoice] AS [i]
WHERE [i].[Invoice_id] = @__id_0
2025-04-03 02:19:06.280 +07:00 [INF] Executing FileContentResult, sending file with download name 'PaymentQRCode_1.png' ...
2025-04-03 02:19:06.395 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GenerateQRForPayment (BepKhoiBackend.API) in 53021.7534ms
2025-04-03 02:19:06.398 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GenerateQRForPayment (BepKhoiBackend.API)'
2025-04-03 02:19:06.413 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/generate-qr/1 - - - 200 15322854 image/png 53240.3216ms
2025-04-03 02:23:44.457 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-03 02:23:44.587 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-03 02:23:44.592 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-03 02:23:44.649 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-03 02:23:44.651 +07:00 [INF] Hosting environment: Development
2025-04-03 02:23:44.656 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-03 02:23:45.206 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-03 02:23:45.396 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 195.9078ms
2025-04-03 02:23:45.409 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-03 02:23:45.414 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 4.3347ms
2025-04-03 02:23:45.692 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-03 02:23:45.726 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 33.7975ms
2025-04-03 02:23:45.823 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-03 02:23:45.874 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 50.6658ms
2025-04-03 02:23:50.424 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/generate-qr/1 - -
2025-04-03 02:23:50.472 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GenerateQRForPayment (BepKhoiBackend.API)'
2025-04-03 02:23:50.500 +07:00 [INF] Route matched with {action = "GenerateQRForPayment", controller = "Invoice"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GenerateQRForPayment(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-03 02:23:51.304 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-03 02:23:51.716 +07:00 [INF] Executed DbCommand (44ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat]
FROM [Invoice] AS [i]
WHERE [i].[Invoice_id] = @__id_0
2025-04-03 02:23:51.829 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GenerateQRForPayment (BepKhoiBackend.API) in 1316.9422ms
2025-04-03 02:23:51.838 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GenerateQRForPayment (BepKhoiBackend.API)'
2025-04-03 02:23:51.843 +07:00 [ERR] Error: The method or operation is not implemented.
2025-04-03 02:23:51.850 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/generate-qr/1 - - - 500 - application/json 1425.8580ms
2025-04-03 02:27:09.230 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-03 02:27:09.568 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-03 02:27:09.569 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-03 02:27:09.651 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-03 02:27:09.652 +07:00 [INF] Hosting environment: Development
2025-04-03 02:27:09.652 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-03 02:27:09.983 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-03 02:27:10.255 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 272.0588ms
2025-04-03 02:27:10.282 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-03 02:27:10.292 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 9.9222ms
2025-04-03 02:27:10.509 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-03 02:27:10.574 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 64.8154ms
2025-04-03 02:27:10.635 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-03 02:27:10.665 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 29.7952ms
2025-04-03 02:27:16.016 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/generate-qr/1 - -
2025-04-03 02:27:16.175 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GenerateQRForPayment (BepKhoiBackend.API)'
2025-04-03 02:27:16.207 +07:00 [INF] Route matched with {action = "GenerateQRForPayment", controller = "Invoice"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GenerateQRForPayment(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-03 02:27:17.674 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-03 02:27:18.560 +07:00 [INF] Executed DbCommand (81ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat]
FROM [Invoice] AS [i]
WHERE [i].[Invoice_id] = @__id_0
2025-04-03 02:27:18.874 +07:00 [INF] Executing FileContentResult, sending file with download name 'PaymentQRCode_1.png' ...
2025-04-03 02:27:19.022 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GenerateQRForPayment (BepKhoiBackend.API) in 2801.3385ms
2025-04-03 02:27:19.024 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GenerateQRForPayment (BepKhoiBackend.API)'
2025-04-03 02:27:19.037 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/generate-qr/1 - - - 200 15322854 image/png 3021.6052ms
2025-04-03 02:28:30.127 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-03 02:28:30.287 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-03 02:28:30.289 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-03 02:28:30.348 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-03 02:28:30.351 +07:00 [INF] Hosting environment: Development
2025-04-03 02:28:30.354 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-03 02:28:31.367 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-03 02:28:31.554 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 191.0565ms
2025-04-03 02:28:31.577 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-03 02:28:31.581 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 4.3408ms
2025-04-03 02:28:31.799 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-03 02:28:31.835 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 35.9205ms
2025-04-03 02:28:31.930 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-03 02:28:31.966 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 36.2862ms
2025-04-03 02:28:36.665 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/generate-payment-link/1 - -
2025-04-03 02:28:36.714 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GeneratePaymentLink (BepKhoiBackend.API)'
2025-04-03 02:28:36.751 +07:00 [INF] Route matched with {action = "GeneratePaymentLink", controller = "Invoice"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GeneratePaymentLink(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-03 02:28:37.672 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-03 02:28:38.201 +07:00 [INF] Executed DbCommand (40ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat]
FROM [Invoice] AS [i]
WHERE [i].[Invoice_id] = @__id_0
2025-04-03 02:28:38.308 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-03 02:28:38.317 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GeneratePaymentLink (BepKhoiBackend.API) in 1557.5278ms
2025-04-03 02:28:38.320 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GeneratePaymentLink (BepKhoiBackend.API)'
2025-04-03 02:28:38.325 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/generate-payment-link/1 - - - 200 - application/json;+charset=utf-8 1659.9156ms
2025-04-03 14:24:27.044 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-03 14:24:27.797 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-03 14:24:27.801 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-03 14:24:27.936 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-03 14:24:27.939 +07:00 [INF] Hosting environment: Development
2025-04-03 14:24:27.940 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-03 14:24:28.591 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-03 14:24:28.963 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 375.7015ms
2025-04-03 14:24:28.991 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-03 14:24:29.000 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 9.4632ms
2025-04-03 14:24:29.272 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-03 14:24:29.383 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 111.2638ms
2025-04-03 14:24:29.432 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-03 14:24:29.481 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 48.2117ms
2025-04-03 14:24:35.392 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/generate-payment-link/1 - -
2025-04-03 14:24:36.685 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GeneratePaymentLink (BepKhoiBackend.API)'
2025-04-03 14:24:36.759 +07:00 [INF] Route matched with {action = "GeneratePaymentLink", controller = "Invoice"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GeneratePaymentLink(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-03 14:24:38.996 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-03 14:24:41.285 +07:00 [INF] Executed DbCommand (136ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat]
FROM [Invoice] AS [i]
WHERE [i].[Invoice_id] = @__id_0
2025-04-03 14:24:41.567 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-03 14:24:41.591 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GeneratePaymentLink (BepKhoiBackend.API) in 4812.594ms
2025-04-03 14:24:41.602 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GeneratePaymentLink (BepKhoiBackend.API)'
2025-04-03 14:24:41.625 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/generate-payment-link/1 - - - 200 - application/json;+charset=utf-8 6232.6649ms
2025-04-03 14:26:21.470 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-03 14:26:21.657 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-03 14:26:21.659 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-03 14:26:21.741 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-03 14:26:21.746 +07:00 [INF] Hosting environment: Development
2025-04-03 14:26:21.752 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-03 14:26:22.266 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-03 14:26:22.424 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 161.0923ms
2025-04-03 14:26:22.444 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-03 14:26:22.451 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 6.9478ms
2025-04-03 14:26:22.723 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-03 14:26:22.762 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 39.2430ms
2025-04-03 14:26:22.879 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-03 14:26:22.932 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 52.9486ms
2025-04-03 14:26:28.987 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/generate-payment-link/1 - -
2025-04-03 14:26:29.062 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GeneratePaymentLink (BepKhoiBackend.API)'
2025-04-03 14:26:29.101 +07:00 [INF] Route matched with {action = "GeneratePaymentLink", controller = "Invoice"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GeneratePaymentLink(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-03 14:26:30.125 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-03 14:26:30.719 +07:00 [INF] Executed DbCommand (66ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat]
FROM [Invoice] AS [i]
WHERE [i].[Invoice_id] = @__id_0
2025-04-03 14:26:30.833 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-03 14:26:30.842 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GeneratePaymentLink (BepKhoiBackend.API) in 1727.6483ms
2025-04-03 14:26:30.847 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GeneratePaymentLink (BepKhoiBackend.API)'
2025-04-03 14:26:30.859 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/generate-payment-link/1 - - - 200 - application/json;+charset=utf-8 1872.3066ms
2025-04-03 14:36:53.426 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-03 14:36:53.627 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-03 14:36:53.633 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-03 14:36:53.707 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-03 14:36:53.709 +07:00 [INF] Hosting environment: Development
2025-04-03 14:36:53.710 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-03 14:36:54.249 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-03 14:36:54.434 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 189.2641ms
2025-04-03 14:36:54.471 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-03 14:36:54.471 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-03 14:36:54.479 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 7.7846ms
2025-04-03 14:36:54.514 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 43.1927ms
2025-04-03 14:36:54.842 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-03 14:36:54.896 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 53.2723ms
2025-04-03 14:37:25.320 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-03 14:37:25.510 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-03 14:37:25.511 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-03 14:37:25.579 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-03 14:37:25.580 +07:00 [INF] Hosting environment: Development
2025-04-03 14:37:25.581 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-03 14:37:25.871 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-03 14:37:26.043 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 175.3115ms
2025-04-03 14:37:26.071 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-03 14:37:26.071 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-03 14:37:26.079 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 8.1548ms
2025-04-03 14:37:26.113 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 42.8360ms
2025-04-03 14:37:26.293 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-03 14:37:26.348 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 54.9651ms
2025-04-03 14:37:32.184 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/generate-payment-link/1 - -
2025-04-03 14:37:32.246 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GeneratePaymentLink (BepKhoiBackend.API)'
2025-04-03 14:37:32.280 +07:00 [INF] Route matched with {action = "GeneratePaymentLink", controller = "Invoice"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GeneratePaymentLink(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-03 14:37:33.344 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-03 14:37:34.011 +07:00 [INF] Executed DbCommand (76ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat]
FROM [Invoice] AS [i]
WHERE [i].[Invoice_id] = @__id_0
2025-04-03 14:37:34.155 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-03 14:37:34.170 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GeneratePaymentLink (BepKhoiBackend.API) in 1876.9436ms
2025-04-03 14:37:34.174 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GeneratePaymentLink (BepKhoiBackend.API)'
2025-04-03 14:37:34.181 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/generate-payment-link/1 - - - 200 - application/json;+charset=utf-8 1996.7492ms
2025-04-03 14:40:54.296 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-03 14:40:54.308 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 12.6337ms
2025-04-03 14:40:54.345 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-03 14:40:54.347 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-03 14:40:54.348 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 1.1717ms
2025-04-03 14:40:54.355 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 9.8387ms
2025-04-03 14:40:54.847 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-03 14:40:54.883 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 36.6508ms
2025-04-03 14:41:06.376 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-03 14:41:07.145 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-03 14:41:07.149 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-03 14:41:07.255 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-03 14:41:07.257 +07:00 [INF] Hosting environment: Development
2025-04-03 14:41:07.259 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-03 14:41:07.825 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-03 14:41:08.210 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 389.1242ms
2025-04-03 14:41:08.229 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-03 14:41:08.238 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 8.2831ms
2025-04-03 14:41:08.508 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-03 14:41:08.590 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 82.0827ms
2025-04-03 14:41:08.732 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-03 14:41:08.800 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 67.9919ms
2025-04-03 14:42:16.127 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/generate-payment-link/1 - -
2025-04-03 14:42:16.378 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GeneratePaymentLink (BepKhoiBackend.API)'
2025-04-03 14:42:16.405 +07:00 [INF] Route matched with {action = "GeneratePaymentLink", controller = "Invoice"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GeneratePaymentLink(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-03 14:42:18.002 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-03 14:42:19.294 +07:00 [INF] Executed DbCommand (109ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat]
FROM [Invoice] AS [i]
WHERE [i].[Invoice_id] = @__id_0
2025-04-03 14:42:19.525 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-03 14:42:19.550 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GeneratePaymentLink (BepKhoiBackend.API) in 3128.8902ms
2025-04-03 14:42:19.560 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GeneratePaymentLink (BepKhoiBackend.API)'
2025-04-03 14:42:19.585 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/generate-payment-link/1 - - - 200 - application/json;+charset=utf-8 3460.2268ms
2025-04-03 14:44:00.554 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-03 14:44:00.677 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-03 14:44:00.683 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-03 14:44:00.733 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-03 14:44:00.735 +07:00 [INF] Hosting environment: Development
2025-04-03 14:44:00.737 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-03 14:44:01.264 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-03 14:44:01.422 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 161.1333ms
2025-04-03 14:44:01.440 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-03 14:44:01.448 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 8.5513ms
2025-04-03 14:44:01.666 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-03 14:44:01.706 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 39.4107ms
2025-04-03 14:44:01.769 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-03 14:44:01.825 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 55.8497ms
2025-04-03 14:44:07.092 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/generate-payment-link/1 - -
2025-04-03 14:44:07.135 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GeneratePaymentLink (BepKhoiBackend.API)'
2025-04-03 14:44:07.157 +07:00 [INF] Route matched with {action = "GeneratePaymentLink", controller = "Invoice"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GeneratePaymentLink(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-03 14:44:07.972 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-03 14:44:08.450 +07:00 [INF] Executed DbCommand (68ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat]
FROM [Invoice] AS [i]
WHERE [i].[Invoice_id] = @__id_0
2025-04-03 14:44:08.549 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-03 14:44:08.562 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GeneratePaymentLink (BepKhoiBackend.API) in 1392.6963ms
2025-04-03 14:44:08.569 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GeneratePaymentLink (BepKhoiBackend.API)'
2025-04-03 14:44:08.574 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/generate-payment-link/1 - - - 200 - application/json;+charset=utf-8 1481.9489ms
2025-04-03 14:54:56.979 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-03 14:54:57.126 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-03 14:54:57.128 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-03 14:54:57.188 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-03 14:54:57.190 +07:00 [INF] Hosting environment: Development
2025-04-03 14:54:57.191 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-03 14:54:57.669 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-03 14:54:57.834 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 168.8946ms
2025-04-03 14:54:57.884 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-03 14:54:57.884 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-03 14:54:57.892 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 7.6320ms
2025-04-03 14:54:57.921 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 36.5158ms
2025-04-03 14:54:58.256 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-03 14:54:58.311 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 55.0228ms
2025-04-03 14:55:06.432 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-03 14:55:06.876 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-03 14:55:06.881 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-03 14:55:06.995 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-03 14:55:06.999 +07:00 [INF] Hosting environment: Development
2025-04-03 14:55:07.004 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-03 14:55:07.689 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-03 14:55:08.000 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 313.5185ms
2025-04-03 14:55:08.028 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-03 14:55:08.036 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 8.1105ms
2025-04-03 14:55:08.244 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-03 14:55:08.304 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 59.7663ms
2025-04-03 14:55:08.396 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-03 14:55:08.454 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 58.0238ms
2025-04-03 14:55:16.106 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/generate-payment-link/1 - -
2025-04-03 14:55:16.314 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GeneratePaymentLink (BepKhoiBackend.API)'
2025-04-03 14:55:16.349 +07:00 [INF] Route matched with {action = "GeneratePaymentLink", controller = "Invoice"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GeneratePaymentLink(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-03 14:55:17.756 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-03 14:55:18.824 +07:00 [INF] Executed DbCommand (95ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat]
FROM [Invoice] AS [i]
WHERE [i].[Invoice_id] = @__id_0
2025-04-03 14:55:19.130 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GeneratePaymentLink (BepKhoiBackend.API) in 2762.2643ms
2025-04-03 14:55:19.143 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GeneratePaymentLink (BepKhoiBackend.API)'
2025-04-03 14:55:19.243 +07:00 [ERR] Error: Value cannot be null. (Parameter 'id')
2025-04-03 14:55:19.271 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/generate-payment-link/1 - - - 400 - application/json 3164.4699ms
2025-04-03 14:56:01.393 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-03 14:56:01.670 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-03 14:56:01.675 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-03 14:56:01.796 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-03 14:56:01.799 +07:00 [INF] Hosting environment: Development
2025-04-03 14:56:01.802 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-03 14:56:03.191 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-03 14:56:03.541 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 352.7103ms
2025-04-03 14:56:03.564 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-03 14:56:03.577 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 12.4964ms
2025-04-03 14:56:03.800 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-03 14:56:03.874 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 74.1010ms
2025-04-03 14:56:03.927 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-03 14:56:03.972 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 45.4033ms
2025-04-03 14:56:13.080 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/generate-payment-link/1 - -
2025-04-03 14:56:13.190 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GeneratePaymentLink (BepKhoiBackend.API)'
2025-04-03 14:56:13.217 +07:00 [INF] Route matched with {action = "GeneratePaymentLink", controller = "Invoice"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GeneratePaymentLink(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-03 14:56:14.695 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-03 14:56:15.720 +07:00 [INF] Executed DbCommand (111ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat]
FROM [Invoice] AS [i]
WHERE [i].[Invoice_id] = @__id_0
2025-04-03 14:56:26.478 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GeneratePaymentLink (BepKhoiBackend.API) in 13250.2038ms
2025-04-03 14:56:26.487 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GeneratePaymentLink (BepKhoiBackend.API)'
2025-04-03 14:56:26.585 +07:00 [ERR] Error: Value cannot be null. (Parameter 'id')
2025-04-03 14:56:26.612 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/generate-payment-link/1 - - - 400 - application/json 13531.3081ms
2025-04-03 14:57:21.006 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-03 14:57:21.472 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-03 14:57:21.477 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-03 14:57:21.588 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-03 14:57:21.590 +07:00 [INF] Hosting environment: Development
2025-04-03 14:57:21.591 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-03 14:57:22.821 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-03 14:57:23.177 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 363.7641ms
2025-04-03 14:57:23.199 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-03 14:57:23.212 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 12.8917ms
2025-04-03 14:57:23.465 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-03 14:57:23.561 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 95.5897ms
2025-04-03 14:57:23.624 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-03 14:57:23.671 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 47.0480ms
2025-04-03 14:57:28.837 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/generate-payment-link/1 - -
2025-04-03 14:57:28.968 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GeneratePaymentLink (BepKhoiBackend.API)'
2025-04-03 14:57:29.003 +07:00 [INF] Route matched with {action = "GeneratePaymentLink", controller = "Invoice"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GeneratePaymentLink(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-03 14:57:30.750 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-03 14:57:32.132 +07:00 [INF] Executed DbCommand (144ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat]
FROM [Invoice] AS [i]
WHERE [i].[Invoice_id] = @__id_0
2025-04-03 14:57:37.283 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GeneratePaymentLink (BepKhoiBackend.API) in 8263.4841ms
2025-04-03 14:57:37.294 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GeneratePaymentLink (BepKhoiBackend.API)'
2025-04-03 14:57:37.400 +07:00 [ERR] Error: Value cannot be null. (Parameter 'id')
2025-04-03 14:57:37.433 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/generate-payment-link/1 - - - 400 - application/json 8595.3527ms
2025-04-03 14:58:22.701 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-03 14:58:23.257 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-03 14:58:23.260 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-03 14:58:23.413 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-03 14:58:23.417 +07:00 [INF] Hosting environment: Development
2025-04-03 14:58:23.423 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-03 14:58:25.429 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-03 14:58:25.756 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 332.6751ms
2025-04-03 14:58:25.784 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-03 14:58:25.801 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 16.3562ms
2025-04-03 14:58:26.085 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-03 14:58:26.169 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 83.6088ms
2025-04-03 14:58:26.224 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-03 14:58:26.292 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 67.9324ms
2025-04-03 14:58:31.252 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/generate-payment-link/1 - -
2025-04-03 14:58:31.447 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GeneratePaymentLink (BepKhoiBackend.API)'
2025-04-03 14:58:31.496 +07:00 [INF] Route matched with {action = "GeneratePaymentLink", controller = "Invoice"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GeneratePaymentLink(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-03 14:58:33.165 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-03 14:58:34.400 +07:00 [INF] Executed DbCommand (109ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat]
FROM [Invoice] AS [i]
WHERE [i].[Invoice_id] = @__id_0
2025-04-03 14:58:53.758 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-03 14:58:53.850 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GeneratePaymentLink (BepKhoiBackend.API) in 22339.2693ms
2025-04-03 14:58:53.862 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GeneratePaymentLink (BepKhoiBackend.API)'
2025-04-03 14:58:56.649 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/generate-payment-link/1 - - - 200 - application/json;+charset=utf-8 25397.6015ms
2025-04-03 16:44:59.405 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-03 16:44:59.593 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-03 16:44:59.596 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-03 16:44:59.670 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-03 16:44:59.680 +07:00 [INF] Hosting environment: Development
2025-04-03 16:44:59.683 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-03 16:45:00.390 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-03 16:45:00.555 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 168.8100ms
2025-04-03 16:45:00.578 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-03 16:45:00.584 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 5.7850ms
2025-04-03 16:45:00.847 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-03 16:45:00.885 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 38.7630ms
2025-04-03 16:45:00.970 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-03 16:45:01.015 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 44.6942ms
2025-04-03 17:33:34.504 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-03 17:33:34.626 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-03 17:33:34.632 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-03 17:33:34.693 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-03 17:33:34.697 +07:00 [INF] Hosting environment: Development
2025-04-03 17:33:34.699 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-03 17:33:35.024 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-03 17:33:35.161 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 139.5081ms
2025-04-03 17:33:35.188 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-03 17:33:35.188 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-03 17:33:35.197 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 9.0160ms
2025-04-03 17:33:35.228 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 39.9838ms
2025-04-03 17:33:35.532 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-03 17:33:35.543 +07:00 [ERR] An unhandled exception has occurred while executing the request.
Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Conflicting method/path combination "GET api/Invoice" for actions - BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetAllInvoices (BepKhoiBackend.API),BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.PaymentCallbackVnpay (BepKhoiBackend.API). Actions require a unique method/path combination for Swagger/OpenAPI 3.0. Use ConflictingActionsResolver as a workaround
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperations(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePaths(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerDocumentWithoutFilters(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerAsync(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2025-04-03 17:33:35.553 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 500 - text/plain;+charset=utf-8 20.8207ms
2025-04-03 17:33:44.525 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-03 17:33:44.536 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 10.7576ms
2025-04-03 17:33:44.571 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-03 17:33:44.573 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 1.6984ms
2025-04-03 17:33:44.820 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-03 17:33:44.832 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 11.7183ms
2025-04-03 17:33:44.980 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-03 17:33:44.989 +07:00 [ERR] An unhandled exception has occurred while executing the request.
Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Conflicting method/path combination "GET api/Invoice" for actions - BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.GetAllInvoices (BepKhoiBackend.API),BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.PaymentCallbackVnpay (BepKhoiBackend.API). Actions require a unique method/path combination for Swagger/OpenAPI 3.0. Use ConflictingActionsResolver as a workaround
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperations(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePaths(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerDocumentWithoutFilters(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerAsync(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2025-04-03 17:33:45.000 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 500 - text/plain;+charset=utf-8 19.7859ms
2025-04-03 17:35:16.209 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-03 17:35:16.329 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-03 17:35:16.332 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-03 17:35:16.382 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-03 17:35:16.386 +07:00 [INF] Hosting environment: Development
2025-04-03 17:35:16.391 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-03 17:35:18.118 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-03 17:35:18.284 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 171.8569ms
2025-04-03 17:35:18.305 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-03 17:35:18.311 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 6.2785ms
2025-04-03 17:35:18.519 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-03 17:35:18.557 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 38.6964ms
2025-04-03 17:35:18.610 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-03 17:35:18.623 +07:00 [ERR] An unhandled exception has occurred while executing the request.
Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Ambiguous HTTP method for action - BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API). Actions require an explicit HttpMethod binding for Swagger/OpenAPI 3.0
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperations(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePaths(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerDocumentWithoutFilters(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerAsync(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2025-04-03 17:35:18.639 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 500 - text/plain;+charset=utf-8 28.4252ms
2025-04-03 17:35:55.572 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-03 17:35:55.738 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-03 17:35:55.743 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-03 17:35:55.792 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-03 17:35:55.797 +07:00 [INF] Hosting environment: Development
2025-04-03 17:35:55.799 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-03 17:35:56.268 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-03 17:35:56.399 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 134.0497ms
2025-04-03 17:35:56.426 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-03 17:35:56.426 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-03 17:35:56.436 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 9.3312ms
2025-04-03 17:35:56.476 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 49.9117ms
2025-04-03 17:35:56.647 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-03 17:35:56.666 +07:00 [ERR] An unhandled exception has occurred while executing the request.
Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Ambiguous HTTP method for action - BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API). Actions require an explicit HttpMethod binding for Swagger/OpenAPI 3.0
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperations(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePaths(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerDocumentWithoutFilters(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerAsync(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2025-04-03 17:35:56.681 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 500 - text/plain;+charset=utf-8 34.7652ms
2025-04-03 17:36:19.610 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-03 17:36:19.748 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-03 17:36:19.751 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-03 17:36:19.819 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-03 17:36:19.822 +07:00 [INF] Hosting environment: Development
2025-04-03 17:36:19.825 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-03 17:36:19.847 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-03 17:36:20.002 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 157.5977ms
2025-04-03 17:36:20.024 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-03 17:36:20.024 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-03 17:36:20.031 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 7.2929ms
2025-04-03 17:36:20.060 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 36.1387ms
2025-04-03 17:36:20.231 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-03 17:36:20.246 +07:00 [ERR] An unhandled exception has occurred while executing the request.
Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Ambiguous HTTP method for action - BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API). Actions require an explicit HttpMethod binding for Swagger/OpenAPI 3.0
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperations(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePaths(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerDocumentWithoutFilters(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerAsync(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2025-04-03 17:36:20.256 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 500 - text/plain;+charset=utf-8 24.8814ms
2025-04-03 17:37:12.667 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-03 17:37:13.085 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-03 17:37:13.086 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-03 17:37:13.160 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-03 17:37:13.161 +07:00 [INF] Hosting environment: Development
2025-04-03 17:37:13.162 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-03 17:37:18.436 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-03 17:37:18.778 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 345.6984ms
2025-04-03 17:37:18.810 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-03 17:37:18.819 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 8.3490ms
2025-04-03 17:37:19.018 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-03 17:37:19.117 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 98.9787ms
2025-04-03 17:37:19.166 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-03 17:37:19.221 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 55.1852ms
2025-04-03 17:39:50.147 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-03 17:39:50.283 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-03 17:39:50.285 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-03 17:39:50.345 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-03 17:39:50.349 +07:00 [INF] Hosting environment: Development
2025-04-03 17:39:50.354 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-03 17:39:51.593 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-03 17:39:51.804 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 216.8788ms
2025-04-03 17:39:51.823 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-03 17:39:51.830 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 7.5788ms
2025-04-03 17:39:52.038 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-03 17:39:52.087 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 48.4861ms
2025-04-03 17:39:52.180 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-03 17:39:52.229 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 48.8685ms
2025-04-03 17:40:12.869 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?OrderType=abc&Amount=10000&OrderDescription=abc&Name=abc - -
2025-04-03 17:40:12.933 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 17:40:12.954 +07:00 [INF] Route matched with {action = "CreatePaymentUrlVnpay", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreatePaymentUrlVnpay(PaymentInformationModel) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-03 17:40:13.120 +07:00 [INF] Executing RedirectResult, redirecting to https://sandbox.vnpayment.vn/paymentv2/vpcpay.html?vnp_Amount=1000000&vnp_Command=pay&vnp_CreateDate=20250403174013&vnp_CurrCode=VND&vnp_IpAddr=192.168.1.12&vnp_Locale=vn&vnp_OrderInfo=abc+abc+10000&vnp_OrderType=abc&vnp_TmnCode=YOUR_TMN_CODE&vnp_TxnRef=638792988131056082&vnp_Version=2.1.0&vnp_SecureHash=ffbfb8ffb6b73174d71d477d0a8e2fa5ea0d62686ba78903b1bfb2bef15ca0db853fb29d1578a8c82d51725fe0fc3722988c278e1a42ae15b7ec1671b23292f7.
2025-04-03 17:40:13.131 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API) in 164.6791ms
2025-04-03 17:40:13.139 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 17:40:13.145 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?OrderType=abc&Amount=10000&OrderDescription=abc&Name=abc - - - 302 0 - 275.9521ms
2025-04-03 17:40:37.719 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?OrderType=abc&Amount=10000&OrderDescription=abc&Name=abc - -
2025-04-03 17:40:37.727 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 17:40:37.728 +07:00 [INF] Route matched with {action = "CreatePaymentUrlVnpay", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreatePaymentUrlVnpay(PaymentInformationModel) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-03 17:40:37.745 +07:00 [INF] Executing RedirectResult, redirecting to https://sandbox.vnpayment.vn/paymentv2/vpcpay.html?vnp_Amount=1000000&vnp_Command=pay&vnp_CreateDate=20250403174037&vnp_CurrCode=VND&vnp_IpAddr=192.168.1.12&vnp_Locale=vn&vnp_OrderInfo=abc+abc+10000&vnp_OrderType=abc&vnp_TmnCode=YOUR_TMN_CODE&vnp_TxnRef=638792988377416859&vnp_Version=2.1.0&vnp_SecureHash=0967a352e7d4aed7eb804ad71c0f8a04feb04df58145e3af4b7718c74456323cb458467f3af52d86041e37f3c949ed670b498010b0bbafd9a7826aa69071b5ad.
2025-04-03 17:40:37.749 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API) in 14.2984ms
2025-04-03 17:40:37.753 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 17:40:37.757 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?OrderType=abc&Amount=10000&OrderDescription=abc&Name=abc - - - 302 0 - 37.3145ms
2025-04-03 17:41:38.894 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?OrderType=don%20hang&Amount=100000&OrderDescription=M%C3%B4%20t%E1%BA%A3%20%C4%91%C6%A1n%20h%C3%A0ng&Name=T%C3%AAn%20kh%C3%A1ch%20h%C3%A0ng - -
2025-04-03 17:41:38.901 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 17:41:38.904 +07:00 [INF] Route matched with {action = "CreatePaymentUrlVnpay", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreatePaymentUrlVnpay(PaymentInformationModel) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-03 17:41:38.912 +07:00 [INF] Executing RedirectResult, redirecting to https://sandbox.vnpayment.vn/paymentv2/vpcpay.html?vnp_Amount=10000000&vnp_Command=pay&vnp_CreateDate=20250403174138&vnp_CurrCode=VND&vnp_IpAddr=192.168.1.12&vnp_Locale=vn&vnp_OrderInfo=T%C3%AAn+kh%C3%A1ch+h%C3%A0ng+M%C3%B4+t%E1%BA%A3+%C4%91%C6%A1n+h%C3%A0ng+100000&vnp_OrderType=don+hang&vnp_TmnCode=YOUR_TMN_CODE&vnp_TxnRef=638792988989101671&vnp_Version=2.1.0&vnp_SecureHash=4c96587bc9eeea3755ee3944c7a9cb5cad39d5c9c9beefda8f876ba8adcf92dac10d0b3cff99a05d239dbc0fb73db53dc82db4695d67d64fb0f04114bc1dfeab.
2025-04-03 17:41:38.915 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API) in 8.6722ms
2025-04-03 17:41:38.918 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 17:41:38.920 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?OrderType=don%20hang&Amount=100000&OrderDescription=M%C3%B4%20t%E1%BA%A3%20%C4%91%C6%A1n%20h%C3%A0ng&Name=T%C3%AAn%20kh%C3%A1ch%20h%C3%A0ng - - - 302 0 - 26.4703ms
2025-04-03 17:41:39.462 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?OrderType=don%20hang&Amount=100000&OrderDescription=M%C3%B4%20t%E1%BA%A3%20%C4%91%C6%A1n%20h%C3%A0ng&Name=T%C3%AAn%20kh%C3%A1ch%20h%C3%A0ng - -
2025-04-03 17:41:39.466 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 17:41:39.472 +07:00 [INF] Route matched with {action = "CreatePaymentUrlVnpay", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreatePaymentUrlVnpay(PaymentInformationModel) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-03 17:41:39.479 +07:00 [INF] Executing RedirectResult, redirecting to https://sandbox.vnpayment.vn/paymentv2/vpcpay.html?vnp_Amount=10000000&vnp_Command=pay&vnp_CreateDate=20250403174139&vnp_CurrCode=VND&vnp_IpAddr=192.168.1.12&vnp_Locale=vn&vnp_OrderInfo=T%C3%AAn+kh%C3%A1ch+h%C3%A0ng+M%C3%B4+t%E1%BA%A3+%C4%91%C6%A1n+h%C3%A0ng+100000&vnp_OrderType=don+hang&vnp_TmnCode=YOUR_TMN_CODE&vnp_TxnRef=638792988994775757&vnp_Version=2.1.0&vnp_SecureHash=45b49c8f474f9ed04948230b5f1f12bdee2e7aa0273f00354470bcf6ccc5529e7139728670c15c0cfab7c7be72825bc85c8ab336ba629131488ef7f9b1026294.
2025-04-03 17:41:39.479 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API) in 3.3069ms
2025-04-03 17:41:39.480 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 17:41:39.481 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?OrderType=don%20hang&Amount=100000&OrderDescription=M%C3%B4%20t%E1%BA%A3%20%C4%91%C6%A1n%20h%C3%A0ng&Name=T%C3%AAn%20kh%C3%A1ch%20h%C3%A0ng - - - 302 0 - 18.7983ms
2025-04-03 17:41:59.130 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?OrderType=don%20hang&Amount=100000&OrderDescription=M%C3%B4%20t%E1%BA%A3%20%C4%91%C6%A1n%20h%C3%A0ng&Name=T%C3%AAn%20kh%C3%A1ch%20h%C3%A0n - -
2025-04-03 17:41:59.139 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 17:41:59.144 +07:00 [INF] Route matched with {action = "CreatePaymentUrlVnpay", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreatePaymentUrlVnpay(PaymentInformationModel) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-03 17:41:59.153 +07:00 [INF] Executing RedirectResult, redirecting to https://sandbox.vnpayment.vn/paymentv2/vpcpay.html?vnp_Amount=10000000&vnp_Command=pay&vnp_CreateDate=20250403174159&vnp_CurrCode=VND&vnp_IpAddr=192.168.1.12&vnp_Locale=vn&vnp_OrderInfo=T%C3%AAn+kh%C3%A1ch+h%C3%A0n+M%C3%B4+t%E1%BA%A3+%C4%91%C6%A1n+h%C3%A0ng+100000&vnp_OrderType=don+hang&vnp_TmnCode=YOUR_TMN_CODE&vnp_TxnRef=638792989191517105&vnp_Version=2.1.0&vnp_SecureHash=5818b8215b63d32d855183f8a6fe82c42703afddd85f512c424d2dd527ba23c582c4a38d6aa39992d652cc4ba8391e5a04e80d2951e156269085ab63f73aecd3.
2025-04-03 17:41:59.154 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API) in 3.8299ms
2025-04-03 17:41:59.156 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 17:41:59.157 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?OrderType=don%20hang&Amount=100000&OrderDescription=M%C3%B4%20t%E1%BA%A3%20%C4%91%C6%A1n%20h%C3%A0ng&Name=T%C3%AAn%20kh%C3%A1ch%20h%C3%A0n - - - 302 0 - 26.8974ms
2025-04-03 17:42:54.967 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-03 17:42:54.972 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 4.5862ms
2025-04-03 17:42:54.998 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-03 17:42:54.999 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-03 17:42:55.004 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 4.9929ms
2025-04-03 17:42:55.013 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 15.1806ms
2025-04-03 17:42:55.414 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-03 17:42:55.442 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 27.9002ms
2025-04-03 17:43:19.198 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?OrderType=abc&Amount=1000000&OrderDescription=abc&Name=abc - -
2025-04-03 17:43:19.203 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 17:43:19.206 +07:00 [INF] Route matched with {action = "CreatePaymentUrlVnpay", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreatePaymentUrlVnpay(PaymentInformationModel) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-03 17:43:19.212 +07:00 [INF] Executing RedirectResult, redirecting to https://sandbox.vnpayment.vn/paymentv2/vpcpay.html?vnp_Amount=100000000&vnp_Command=pay&vnp_CreateDate=20250403174319&vnp_CurrCode=VND&vnp_IpAddr=192.168.1.12&vnp_Locale=vn&vnp_OrderInfo=abc+abc+1000000&vnp_OrderType=abc&vnp_TmnCode=YOUR_TMN_CODE&vnp_TxnRef=638792989992092930&vnp_Version=2.1.0&vnp_SecureHash=450999d621d6007a5cb80bf936d2aa6d22ba4b71dabac3c2cacf306cbceb00e6598f04f4e19b6a2027bd09f31ac2801ee76e1101ac5d3ba0ccb711f90973e8bc.
2025-04-03 17:43:19.214 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API) in 5.5379ms
2025-04-03 17:43:19.215 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 17:43:19.216 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?OrderType=abc&Amount=1000000&OrderDescription=abc&Name=abc - - - 302 0 - 17.9746ms
2025-04-03 17:43:26.214 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?OrderType=abc&Amount=1000000&OrderDescription=abc&Name=abc - -
2025-04-03 17:43:26.218 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 17:43:26.222 +07:00 [INF] Route matched with {action = "CreatePaymentUrlVnpay", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreatePaymentUrlVnpay(PaymentInformationModel) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-03 17:43:26.226 +07:00 [INF] Executing RedirectResult, redirecting to https://sandbox.vnpayment.vn/paymentv2/vpcpay.html?vnp_Amount=100000000&vnp_Command=pay&vnp_CreateDate=20250403174326&vnp_CurrCode=VND&vnp_IpAddr=192.168.1.12&vnp_Locale=vn&vnp_OrderInfo=abc+abc+1000000&vnp_OrderType=abc&vnp_TmnCode=YOUR_TMN_CODE&vnp_TxnRef=638792990062257015&vnp_Version=2.1.0&vnp_SecureHash=35ecc24afa44f084e693d37f19547b700784003688e82ccbdcc64d230bf551b627903fe1f45fc0b166dbe2a01aa2748c109606881978540cb6ca9ef61ddd5bd9.
2025-04-03 17:43:26.227 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API) in 2.6403ms
2025-04-03 17:43:26.228 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 17:43:26.230 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?OrderType=abc&Amount=1000000&OrderDescription=abc&Name=abc - - - 302 0 - 16.2444ms
2025-04-03 17:43:57.919 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-03 17:43:57.926 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 7.2028ms
2025-04-03 17:43:57.962 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-03 17:43:57.965 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-03 17:43:57.970 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 5.3644ms
2025-04-03 17:43:57.973 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 11.1363ms
2025-04-03 17:43:58.302 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-03 17:43:58.329 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 27.4618ms
2025-04-03 17:44:05.514 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-03 17:44:05.522 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 8.5570ms
2025-04-03 17:44:05.547 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-03 17:44:05.549 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-03 17:44:05.550 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 0.8795ms
2025-04-03 17:44:05.552 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 4.2450ms
2025-04-03 17:44:05.814 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-03 17:44:05.844 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 29.3896ms
2025-04-03 17:44:21.774 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?OrderType=abc&Amount=100000&OrderDescription=abc&Name=abc - -
2025-04-03 17:44:21.779 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 17:44:21.781 +07:00 [INF] Route matched with {action = "CreatePaymentUrlVnpay", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreatePaymentUrlVnpay(PaymentInformationModel) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-03 17:44:21.787 +07:00 [INF] Executing RedirectResult, redirecting to https://sandbox.vnpayment.vn/paymentv2/vpcpay.html?vnp_Amount=10000000&vnp_Command=pay&vnp_CreateDate=20250403174421&vnp_CurrCode=VND&vnp_IpAddr=192.168.1.12&vnp_Locale=vn&vnp_OrderInfo=abc+abc+100000&vnp_OrderType=abc&vnp_TmnCode=1MTJPPPJ&vnp_TxnRef=638792990617862657&vnp_Version=2.1.0&vnp_SecureHash=37237b59a351859901435ef9b60452e7e1ddeeb7192e7d1bfa807cc7819968099dc3e1bd2cc71edf91ddea9d74c3d636c21236666af68c07def784a3c76cf29f.
2025-04-03 17:44:21.792 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API) in 6.5851ms
2025-04-03 17:44:21.795 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 17:44:21.797 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?OrderType=abc&Amount=100000&OrderDescription=abc&Name=abc - - - 302 0 - 22.5095ms
2025-04-03 17:44:31.655 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?OrderType=abc&Amount=100000&OrderDescription=abc&Name=abc - -
2025-04-03 17:44:31.661 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 17:44:31.668 +07:00 [INF] Route matched with {action = "CreatePaymentUrlVnpay", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreatePaymentUrlVnpay(PaymentInformationModel) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-03 17:44:31.674 +07:00 [INF] Executing RedirectResult, redirecting to https://sandbox.vnpayment.vn/paymentv2/vpcpay.html?vnp_Amount=10000000&vnp_Command=pay&vnp_CreateDate=20250403174431&vnp_CurrCode=VND&vnp_IpAddr=192.168.1.12&vnp_Locale=vn&vnp_OrderInfo=abc+abc+100000&vnp_OrderType=abc&vnp_TmnCode=1MTJPPPJ&vnp_TxnRef=638792990716732097&vnp_Version=2.1.0&vnp_SecureHash=6bb90c2b0038005eda0356f39bf2b82ef4ffd4b9b624c78b93f06ce5c1410ab33bee1a5d062fd331de736e2a09bb3df49b30e4179ddd9cba49294a8e7f1ed2ff.
2025-04-03 17:44:31.677 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API) in 5.013ms
2025-04-03 17:44:31.678 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 17:44:31.679 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?OrderType=abc&Amount=100000&OrderDescription=abc&Name=abc - - - 302 0 - 24.5833ms
2025-04-03 17:44:46.850 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-03 17:44:47.372 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-03 17:44:47.377 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-03 17:44:47.462 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-03 17:44:47.466 +07:00 [INF] Hosting environment: Development
2025-04-03 17:44:47.470 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-03 17:44:51.082 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-03 17:44:51.370 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 293.0152ms
2025-04-03 17:44:51.402 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-03 17:44:51.408 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 6.1011ms
2025-04-03 17:44:51.604 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-03 17:44:51.681 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 77.1558ms
2025-04-03 17:44:51.718 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-03 17:44:51.761 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 43.0177ms
2025-04-03 17:45:23.113 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?OrderType=abc&Amount=100000&OrderDescription=abv&Name=aaaa - -
2025-04-03 17:45:23.308 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 17:45:23.343 +07:00 [INF] Route matched with {action = "CreatePaymentUrlVnpay", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreatePaymentUrlVnpay(PaymentInformationModel) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-03 17:46:39.737 +07:00 [INF] Executing RedirectResult, redirecting to https://sandbox.vnpayment.vn/paymentv2/vpcpay.html?vnp_Amount=10000000&vnp_Command=pay&vnp_CreateDate=20250403174600&vnp_CurrCode=VND&vnp_IpAddr=192.168.1.12&vnp_Locale=vn&vnp_OrderInfo=aaaa+abv+100000&vnp_OrderType=abc&vnp_TmnCode=1MTJPPPJ&vnp_TxnRef=638792991609451558&vnp_Version=2.1.0&vnp_SecureHash=6c71f6aa21b8475704efb19c1467c27aa40b5098eff21ad405a6adb252ca66fa0e95fa5ae483fbe8931263e7bfb66df03d6f2680d5af0fd60420d16ce42977d3.
2025-04-03 17:46:39.758 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API) in 76396.5997ms
2025-04-03 17:46:39.776 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 17:46:43.771 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?OrderType=abc&Amount=100000&OrderDescription=abv&Name=aaaa - - - 302 0 - 80658.6610ms
2025-04-03 17:46:51.421 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?OrderType=abc&Amount=100000&OrderDescription=abv&Name=aaaa - -
2025-04-03 17:46:51.467 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 17:46:51.478 +07:00 [INF] Route matched with {action = "CreatePaymentUrlVnpay", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreatePaymentUrlVnpay(PaymentInformationModel) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-03 17:47:20.744 +07:00 [INF] Executing RedirectResult, redirecting to https://sandbox.vnpayment.vn/paymentv2/vpcpay.html?vnp_Amount=10000000&vnp_Command=pay&vnp_CreateDate=20250403174716&vnp_CurrCode=VND&vnp_IpAddr=192.168.1.12&vnp_Locale=vn&vnp_OrderInfo=aaaa+abv+100000&vnp_OrderType=abc&vnp_TmnCode=1MTJPPPJ&vnp_TxnRef=638792992368692013&vnp_Version=2.1.0&vnp_SecureHash=0f60658c1d7c05b52afe9369f930746e4b5a98f03118270f4f9d073afdc3ecc50b0446d0e7a1c30876aac8fbe8d1bb8ea4438e6882966b025ff903bdd403b9a0.
2025-04-03 17:47:20.746 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API) in 29265.2772ms
2025-04-03 17:47:20.747 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 17:47:21.486 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?OrderType=abc&Amount=100000&OrderDescription=abv&Name=aaaa - - - 302 0 - 30064.8896ms
2025-04-03 17:47:21.490 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?OrderType=abc&Amount=100000&OrderDescription=abv&Name=aaaa - -
2025-04-03 17:47:21.510 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 17:47:21.517 +07:00 [INF] Route matched with {action = "CreatePaymentUrlVnpay", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreatePaymentUrlVnpay(PaymentInformationModel) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-03 17:49:13.880 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-03 17:49:14.062 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-03 17:49:14.064 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-03 17:49:14.138 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-03 17:49:14.140 +07:00 [INF] Hosting environment: Development
2025-04-03 17:49:14.142 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-03 17:49:14.620 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-03 17:49:14.790 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 174.2488ms
2025-04-03 17:49:14.815 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-03 17:49:14.823 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 7.5699ms
2025-04-03 17:49:15.047 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-03 17:49:15.078 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 30.6384ms
2025-04-03 17:49:15.148 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-03 17:49:15.193 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 45.4962ms
2025-04-03 17:50:00.755 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-03 17:50:00.761 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 5.8425ms
2025-04-03 17:50:00.797 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-03 17:50:00.805 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-03 17:50:00.806 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 1.1852ms
2025-04-03 17:50:00.814 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 17.5207ms
2025-04-03 17:50:01.051 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-03 17:50:01.084 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 33.2634ms
2025-04-03 17:50:03.997 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-03 17:50:04.006 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 8.6188ms
2025-04-03 17:50:04.043 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-03 17:50:04.044 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-03 17:50:04.046 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 1.6996ms
2025-04-03 17:50:04.048 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 4.9239ms
2025-04-03 17:50:04.299 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-03 17:50:04.326 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 27.2245ms
2025-04-03 17:50:18.208 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?OrderType=abc&Amount=100000&OrderDescription=abaaa&Name=aaaaaaaa - -
2025-04-03 17:50:18.258 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 17:50:18.284 +07:00 [INF] Route matched with {action = "CreatePaymentUrlVnpay", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreatePaymentUrlVnpay(PaymentInformationModel) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-03 17:50:18.450 +07:00 [INF] Executing RedirectResult, redirecting to https://sandbox.vnpayment.vn/paymentv2/vpcpay.html?vnp_Amount=10000000&vnp_Command=pay&vnp_CreateDate=20250403175018&vnp_CurrCode=VND&vnp_IpAddr=192.168.1.12&vnp_Locale=vn&vnp_OrderInfo=aaaaaaaa+abaaa+100000&vnp_OrderType=abc&vnp_TmnCode=1MTJPPPJ&vnp_TxnRef=638792994184359006&vnp_Version=2.1.0&vnp_SecureHash=c24f1dc827b081f740ecff60a937fd9b141fabf0ad99e458467477d24f35816d0ec0b2f7bd5f7fb61d8c19178a0fb7debb1fc86ff8e8914bf3449c507fbcd871.
2025-04-03 17:50:18.463 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API) in 162.4193ms
2025-04-03 17:50:18.472 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 17:50:18.481 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?OrderType=abc&Amount=100000&OrderDescription=abaaa&Name=aaaaaaaa - - - 302 0 - 273.4807ms
2025-04-03 17:51:39.276 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?OrderType=abc&Amount=100000.00&OrderDescription=abaaa&Name=aaaaaaaa - -
2025-04-03 17:51:39.289 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 17:51:39.291 +07:00 [INF] Route matched with {action = "CreatePaymentUrlVnpay", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreatePaymentUrlVnpay(PaymentInformationModel) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-03 17:51:39.307 +07:00 [INF] Executing RedirectResult, redirecting to https://sandbox.vnpayment.vn/paymentv2/vpcpay.html?vnp_Amount=10000000&vnp_Command=pay&vnp_CreateDate=20250403175139&vnp_CurrCode=VND&vnp_IpAddr=192.168.1.12&vnp_Locale=vn&vnp_OrderInfo=aaaaaaaa+abaaa+100000&vnp_OrderType=abc&vnp_TmnCode=1MTJPPPJ&vnp_TxnRef=638792994993054924&vnp_Version=2.1.0&vnp_SecureHash=ec094b55409db834c2e2109de6fb82953c3676ecbce584631f5993489a0a0f10140e7b0d1dc5abbd4cbdcda4c76154263a583749fc018bc7f5d427791c77c66a.
2025-04-03 17:51:39.311 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API) in 16.6742ms
2025-04-03 17:51:39.317 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 17:51:39.322 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?OrderType=abc&Amount=100000.00&OrderDescription=abaaa&Name=aaaaaaaa - - - 302 0 - 45.8525ms
2025-04-03 17:51:45.611 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?OrderType=abc&Amount=100000.00&OrderDescription=abaaa&Name=aaaaaaaa - -
2025-04-03 17:51:45.627 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 17:51:45.630 +07:00 [INF] Route matched with {action = "CreatePaymentUrlVnpay", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreatePaymentUrlVnpay(PaymentInformationModel) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-03 17:51:45.639 +07:00 [INF] Executing RedirectResult, redirecting to https://sandbox.vnpayment.vn/paymentv2/vpcpay.html?vnp_Amount=10000000&vnp_Command=pay&vnp_CreateDate=20250403175145&vnp_CurrCode=VND&vnp_IpAddr=192.168.1.12&vnp_Locale=vn&vnp_OrderInfo=aaaaaaaa+abaaa+100000&vnp_OrderType=abc&vnp_TmnCode=1MTJPPPJ&vnp_TxnRef=638792995056384983&vnp_Version=2.1.0&vnp_SecureHash=c4c4e50dc391b2b45c05e0dba8b57da6c91f168d589eba3dba00754522813c8b6d55cb482d1ee83006a181c2307786283aa0dbbd5a676b8616391ecab6c48412.
2025-04-03 17:51:45.642 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API) in 9.1937ms
2025-04-03 17:51:45.645 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 17:51:45.647 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?OrderType=abc&Amount=100000.00&OrderDescription=abaaa&Name=aaaaaaaa - - - 302 0 - 35.3200ms
2025-04-03 17:51:56.550 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?OrderType=abc&Amount=100000.00&OrderDescription=abaaa&Name=1 - -
2025-04-03 17:51:56.554 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 17:51:56.560 +07:00 [INF] Route matched with {action = "CreatePaymentUrlVnpay", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreatePaymentUrlVnpay(PaymentInformationModel) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-03 17:51:56.568 +07:00 [INF] Executing RedirectResult, redirecting to https://sandbox.vnpayment.vn/paymentv2/vpcpay.html?vnp_Amount=10000000&vnp_Command=pay&vnp_CreateDate=20250403175156&vnp_CurrCode=VND&vnp_IpAddr=192.168.1.12&vnp_Locale=vn&vnp_OrderInfo=1+abaaa+100000&vnp_OrderType=abc&vnp_TmnCode=1MTJPPPJ&vnp_TxnRef=638792995165668762&vnp_Version=2.1.0&vnp_SecureHash=9e15ee0522295970517a51810d15302a19b4aae36e0c110a1e16e879aa67ff7be50c877c4470b25df7f96049737ba1fdc0867e054ff27116f7613925bbf3894d.
2025-04-03 17:51:56.570 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API) in 4.684ms
2025-04-03 17:51:56.571 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 17:51:56.573 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?OrderType=abc&Amount=100000.00&OrderDescription=abaaa&Name=1 - - - 302 0 - 23.6181ms
2025-04-03 17:52:00.767 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?OrderType=1&Amount=100000.00&OrderDescription=abaaa&Name=1 - -
2025-04-03 17:52:00.773 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 17:52:00.780 +07:00 [INF] Route matched with {action = "CreatePaymentUrlVnpay", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreatePaymentUrlVnpay(PaymentInformationModel) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-03 17:52:00.796 +07:00 [INF] Executing RedirectResult, redirecting to https://sandbox.vnpayment.vn/paymentv2/vpcpay.html?vnp_Amount=10000000&vnp_Command=pay&vnp_CreateDate=20250403175200&vnp_CurrCode=VND&vnp_IpAddr=192.168.1.12&vnp_Locale=vn&vnp_OrderInfo=1+abaaa+100000&vnp_OrderType=1&vnp_TmnCode=1MTJPPPJ&vnp_TxnRef=638792995207898735&vnp_Version=2.1.0&vnp_SecureHash=ade518d2532730ec8ad446ecafc3d224e07a304b3a442b4c67cac6e23ae8ff436f6a5864ae3297dbb0b720b1e5a616ecdc116338d5286f665abc5d53aa58d39f.
2025-04-03 17:52:00.800 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API) in 11.5931ms
2025-04-03 17:52:00.804 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 17:52:00.805 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?OrderType=1&Amount=100000.00&OrderDescription=abaaa&Name=1 - - - 302 0 - 37.3051ms
2025-04-03 17:52:02.221 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?OrderType=1&Amount=100000.00&OrderDescription=abaaa1&Name=1 - -
2025-04-03 17:52:02.227 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 17:52:02.232 +07:00 [INF] Route matched with {action = "CreatePaymentUrlVnpay", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreatePaymentUrlVnpay(PaymentInformationModel) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-03 17:52:02.239 +07:00 [INF] Executing RedirectResult, redirecting to https://sandbox.vnpayment.vn/paymentv2/vpcpay.html?vnp_Amount=10000000&vnp_Command=pay&vnp_CreateDate=20250403175202&vnp_CurrCode=VND&vnp_IpAddr=192.168.1.12&vnp_Locale=vn&vnp_OrderInfo=1+abaaa1+100000&vnp_OrderType=1&vnp_TmnCode=1MTJPPPJ&vnp_TxnRef=638792995222390401&vnp_Version=2.1.0&vnp_SecureHash=86759474f52d3196928223ffe79bc143fbb9bfd3fe9a03aec00eedd2a0785e3458d2edc4759235c5f625ad91173d0693281b0546a87285fb0144a75a69f9fc62.
2025-04-03 17:52:02.243 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API) in 5.0689ms
2025-04-03 17:52:02.245 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 17:52:02.245 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?OrderType=1&Amount=100000.00&OrderDescription=abaaa1&Name=1 - - - 302 0 - 24.4056ms
2025-04-03 17:52:02.870 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?OrderType=1&Amount=100000.00&OrderDescription=abaaa1&Name=1 - -
2025-04-03 17:52:02.875 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 17:52:02.881 +07:00 [INF] Route matched with {action = "CreatePaymentUrlVnpay", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreatePaymentUrlVnpay(PaymentInformationModel) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-03 17:52:02.887 +07:00 [INF] Executing RedirectResult, redirecting to https://sandbox.vnpayment.vn/paymentv2/vpcpay.html?vnp_Amount=10000000&vnp_Command=pay&vnp_CreateDate=20250403175202&vnp_CurrCode=VND&vnp_IpAddr=192.168.1.12&vnp_Locale=vn&vnp_OrderInfo=1+abaaa1+100000&vnp_OrderType=1&vnp_TmnCode=1MTJPPPJ&vnp_TxnRef=638792995228861230&vnp_Version=2.1.0&vnp_SecureHash=2ac7d84ae6729e2a158fb538f38483bcee0ecea529b6f816807a05c9d09eadba4c921030ce1b84ef1d539b0017b64adbef8be3be39ac6e3de2f35f3b3bc507b1.
2025-04-03 17:52:02.892 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API) in 7.5278ms
2025-04-03 17:52:02.899 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 17:52:02.900 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?OrderType=1&Amount=100000.00&OrderDescription=abaaa1&Name=1 - - - 302 0 - 30.4735ms
2025-04-03 17:54:34.923 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-03 17:54:34.930 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 6.9715ms
2025-04-03 17:54:34.959 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-03 17:54:34.961 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-03 17:54:34.962 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 1.1229ms
2025-04-03 17:54:34.964 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 5.4723ms
2025-04-03 17:54:35.332 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-03 17:54:35.359 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 26.7728ms
2025-04-03 17:54:43.745 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/Return - -
2025-04-03 17:54:43.750 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.PaymentCallbackVnpay (BepKhoiBackend.API)'
2025-04-03 17:54:43.757 +07:00 [INF] Route matched with {action = "PaymentCallbackVnpay", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult PaymentCallbackVnpay() on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-03 17:54:43.773 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.PaymentCallbackVnpay (BepKhoiBackend.API) in 14.0644ms
2025-04-03 17:54:43.780 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.PaymentCallbackVnpay (BepKhoiBackend.API)'
2025-04-03 17:54:43.786 +07:00 [ERR] Error: Input string was not in a correct format.
2025-04-03 17:54:43.791 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/Return - - - 500 - application/json 46.4559ms
2025-04-03 17:55:00.684 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?OrderType=123&Amount=100000&OrderDescription=abc&Name=abc - -
2025-04-03 17:55:00.689 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 17:55:00.695 +07:00 [INF] Route matched with {action = "CreatePaymentUrlVnpay", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreatePaymentUrlVnpay(PaymentInformationModel) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-03 17:55:00.701 +07:00 [INF] Executing RedirectResult, redirecting to https://sandbox.vnpayment.vn/paymentv2/vpcpay.html?vnp_Amount=10000000&vnp_Command=pay&vnp_CreateDate=20250403175500&vnp_CurrCode=VND&vnp_IpAddr=192.168.1.12&vnp_Locale=vn&vnp_OrderInfo=abc+abc+100000&vnp_OrderType=123&vnp_TmnCode=1MTJPPPJ&vnp_TxnRef=638792997007000173&vnp_Version=2.1.0&vnp_SecureHash=5ff08284b004e0f77e58e55e9a5ee8b9e2c1225e10d44ec1e03b5762a69e9d0bbe26f245cd93cd3161451a72f23be1829d3d91b85239b5209384a93595c50b89.
2025-04-03 17:55:00.701 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API) in 2.0566ms
2025-04-03 17:55:00.702 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 17:55:00.703 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?OrderType=123&Amount=100000&OrderDescription=abc&Name=abc - - - 302 0 - 18.8028ms
2025-04-03 17:55:13.173 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?OrderType=123&Amount=100000&OrderDescription=abc&Name=abc - -
2025-04-03 17:55:13.177 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 17:55:13.181 +07:00 [INF] Route matched with {action = "CreatePaymentUrlVnpay", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreatePaymentUrlVnpay(PaymentInformationModel) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-03 17:55:13.184 +07:00 [INF] Executing RedirectResult, redirecting to https://sandbox.vnpayment.vn/paymentv2/vpcpay.html?vnp_Amount=10000000&vnp_Command=pay&vnp_CreateDate=20250403175513&vnp_CurrCode=VND&vnp_IpAddr=192.168.1.12&vnp_Locale=vn&vnp_OrderInfo=abc+abc+100000&vnp_OrderType=123&vnp_TmnCode=1MTJPPPJ&vnp_TxnRef=638792997131835075&vnp_Version=2.1.0&vnp_SecureHash=f81e6154b8a89e8700eadf67117da2f76a8087fbcb0072521593bc60953890d20932d3c239eb099053b38cbe08206cabffce67185adbe3228cd95ff26b812f79.
2025-04-03 17:55:13.185 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API) in 2.5814ms
2025-04-03 17:55:13.187 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 17:55:13.188 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?OrderType=123&Amount=100000&OrderDescription=abc&Name=abc - - - 302 0 - 15.5310ms
2025-04-03 18:01:19.585 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-03 18:01:19.710 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-03 18:01:19.713 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-03 18:01:19.785 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-03 18:01:19.789 +07:00 [INF] Hosting environment: Development
2025-04-03 18:01:19.793 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-03 18:01:20.263 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-03 18:01:20.418 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 158.2020ms
2025-04-03 18:01:20.449 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-03 18:01:20.453 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-03 18:01:20.460 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 7.0108ms
2025-04-03 18:01:20.494 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 44.9261ms
2025-04-03 18:01:20.733 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-03 18:01:20.780 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 46.7538ms
2025-04-03 18:01:25.025 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?Id=1 - -
2025-04-03 18:01:25.071 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 18:01:25.091 +07:00 [INF] Route matched with {action = "CreatePaymentUrlVnpay", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreatePaymentUrlVnpay(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-03 18:01:25.925 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-03 18:01:26.623 +07:00 [INF] Executed DbCommand (48ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Invoice_id], [t].[Amount_due], [t].[Cashier_id], [t].[Check_in_time], [t].[Check_out_time], [t].[Customer_id], [t].[Invoice_discount], [t].[Invoice_note], [t].[Order_id], [t].[Order_type_id], [t].[Other_payment], [t].[Payment_method_id], [t].[Room_id], [t].[Shipper_id], [t].[Status], [t].[Subtotal], [t].[Total_quantity], [t].[Total_vat], [i0].[Invoice_detail_id], [i0].[Invoice_id], [i0].[Price], [i0].[Product_id], [i0].[Product_name], [i0].[Product_note], [i0].[Product_vat], [i0].[Quantity]
FROM (
    SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat]
    FROM [Invoice] AS [i]
    WHERE [i].[Invoice_id] = @__id_0
) AS [t]
LEFT JOIN [Invoice_detail] AS [i0] ON [t].[Invoice_id] = [i0].[Invoice_id]
ORDER BY [t].[Invoice_id]
2025-04-03 18:01:26.762 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API) in 1656.0088ms
2025-04-03 18:01:26.772 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 18:01:26.778 +07:00 [ERR] Error: Object reference not set to an instance of an object.
2025-04-03 18:01:26.787 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?Id=1 - - - 500 - application/json 1762.2365ms
2025-04-03 18:01:53.450 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-03 18:01:53.898 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-03 18:01:53.903 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-03 18:01:54.035 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-03 18:01:54.039 +07:00 [INF] Hosting environment: Development
2025-04-03 18:01:54.042 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-03 18:01:56.255 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-03 18:01:56.530 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 278.5560ms
2025-04-03 18:01:56.558 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-03 18:01:56.569 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 11.4643ms
2025-04-03 18:01:56.806 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-03 18:01:56.899 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 92.2606ms
2025-04-03 18:01:57.002 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-03 18:01:57.066 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 64.1014ms
2025-04-03 18:02:03.791 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?Id=1 - -
2025-04-03 18:02:03.965 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 18:02:03.988 +07:00 [INF] Route matched with {action = "CreatePaymentUrlVnpay", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreatePaymentUrlVnpay(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-03 18:02:05.251 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-03 18:02:06.361 +07:00 [INF] Executed DbCommand (70ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Invoice_id], [t].[Amount_due], [t].[Cashier_id], [t].[Check_in_time], [t].[Check_out_time], [t].[Customer_id], [t].[Invoice_discount], [t].[Invoice_note], [t].[Order_id], [t].[Order_type_id], [t].[Other_payment], [t].[Payment_method_id], [t].[Room_id], [t].[Shipper_id], [t].[Status], [t].[Subtotal], [t].[Total_quantity], [t].[Total_vat], [i0].[Invoice_detail_id], [i0].[Invoice_id], [i0].[Price], [i0].[Product_id], [i0].[Product_name], [i0].[Product_note], [i0].[Product_vat], [i0].[Quantity]
FROM (
    SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat]
    FROM [Invoice] AS [i]
    WHERE [i].[Invoice_id] = @__id_0
) AS [t]
LEFT JOIN [Invoice_detail] AS [i0] ON [t].[Invoice_id] = [i0].[Invoice_id]
ORDER BY [t].[Invoice_id]
2025-04-03 18:03:15.789 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-03 18:03:16.279 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-03 18:03:16.286 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-03 18:03:16.430 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-03 18:03:16.434 +07:00 [INF] Hosting environment: Development
2025-04-03 18:03:16.439 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-03 18:03:17.446 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-03 18:03:17.809 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 365.0827ms
2025-04-03 18:03:17.833 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-03 18:03:17.844 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 10.3884ms
2025-04-03 18:03:18.084 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-03 18:03:18.150 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 65.4295ms
2025-04-03 18:03:18.187 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-03 18:03:18.238 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 50.6795ms
2025-04-03 18:03:23.687 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?Id=1 - -
2025-04-03 18:03:23.844 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 18:03:23.881 +07:00 [INF] Route matched with {action = "CreatePaymentUrlVnpay", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreatePaymentUrlVnpay(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-03 18:03:25.084 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-03 18:03:26.083 +07:00 [INF] Executed DbCommand (73ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Invoice_id], [t].[Amount_due], [t].[Cashier_id], [t].[Check_in_time], [t].[Check_out_time], [t].[Customer_id], [t].[Invoice_discount], [t].[Invoice_note], [t].[Order_id], [t].[Order_type_id], [t].[Other_payment], [t].[Payment_method_id], [t].[Room_id], [t].[Shipper_id], [t].[Status], [t].[Subtotal], [t].[Total_quantity], [t].[Total_vat], [i0].[Invoice_detail_id], [i0].[Invoice_id], [i0].[Price], [i0].[Product_id], [i0].[Product_name], [i0].[Product_note], [i0].[Product_vat], [i0].[Quantity]
FROM (
    SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat]
    FROM [Invoice] AS [i]
    WHERE [i].[Invoice_id] = @__id_0
) AS [t]
LEFT JOIN [Invoice_detail] AS [i0] ON [t].[Invoice_id] = [i0].[Invoice_id]
ORDER BY [t].[Invoice_id]
2025-04-03 18:07:57.131 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-03 18:07:57.494 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-03 18:07:57.495 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-03 18:07:57.596 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-03 18:07:57.599 +07:00 [INF] Hosting environment: Development
2025-04-03 18:07:57.604 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-03 18:07:59.358 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-03 18:07:59.680 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 326.2256ms
2025-04-03 18:07:59.709 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-03 18:07:59.719 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 9.9934ms
2025-04-03 18:07:59.962 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-03 18:08:00.046 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 84.1435ms
2025-04-03 18:08:00.098 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-03 18:08:00.148 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 50.7662ms
2025-04-03 18:08:05.819 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?Id=1 - -
2025-04-03 18:08:05.989 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 18:08:06.020 +07:00 [INF] Route matched with {action = "CreatePaymentUrlVnpay", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreatePaymentUrlVnpay(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-03 18:08:07.166 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-03 18:08:08.287 +07:00 [INF] Executed DbCommand (95ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Invoice_id], [t].[Amount_due], [t].[Cashier_id], [t].[Check_in_time], [t].[Check_out_time], [t].[Customer_id], [t].[Invoice_discount], [t].[Invoice_note], [t].[Order_id], [t].[Order_type_id], [t].[Other_payment], [t].[Payment_method_id], [t].[Room_id], [t].[Shipper_id], [t].[Status], [t].[Subtotal], [t].[Total_quantity], [t].[Total_vat], [i0].[Invoice_detail_id], [i0].[Invoice_id], [i0].[Price], [i0].[Product_id], [i0].[Product_name], [i0].[Product_note], [i0].[Product_vat], [i0].[Quantity]
FROM (
    SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat]
    FROM [Invoice] AS [i]
    WHERE [i].[Invoice_id] = @__id_0
) AS [t]
LEFT JOIN [Invoice_detail] AS [i0] ON [t].[Invoice_id] = [i0].[Invoice_id]
ORDER BY [t].[Invoice_id]
2025-04-03 18:08:24.613 +07:00 [INF] Executing RedirectResult, redirecting to https://sandbox.vnpayment.vn/paymentv2/vpcpay.html?vnp_Amount=23100000&vnp_Command=pay&vnp_CreateDate=20250403180819&vnp_CurrCode=VND&vnp_IpAddr=192.168.1.12&vnp_Locale=vn&vnp_OrderInfo=Unknown+1+231000&vnp_OrderType=Unknown&vnp_TmnCode=1MTJPPPJ&vnp_TxnRef=638793004998981130&vnp_Version=2.1.0&vnp_SecureHash=81cacb438853d23ba6fb2e542cb064b56ed8081562fca92fddc6341131fb13cc35fbd81595b2b9d83cc49390b1613ea2d46dcbca4c5af1addf90414cd8001006.
2025-04-03 18:08:24.629 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API) in 18591.8172ms
2025-04-03 18:08:24.635 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 18:08:25.475 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?Id=1 - - - 302 0 - 19655.6261ms
2025-04-03 18:08:38.333 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?Id=1 - -
2025-04-03 18:08:38.361 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 18:08:38.364 +07:00 [INF] Route matched with {action = "CreatePaymentUrlVnpay", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreatePaymentUrlVnpay(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-03 18:08:38.405 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-03 18:08:38.463 +07:00 [INF] Executed DbCommand (37ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Invoice_id], [t].[Amount_due], [t].[Cashier_id], [t].[Check_in_time], [t].[Check_out_time], [t].[Customer_id], [t].[Invoice_discount], [t].[Invoice_note], [t].[Order_id], [t].[Order_type_id], [t].[Other_payment], [t].[Payment_method_id], [t].[Room_id], [t].[Shipper_id], [t].[Status], [t].[Subtotal], [t].[Total_quantity], [t].[Total_vat], [i0].[Invoice_detail_id], [i0].[Invoice_id], [i0].[Price], [i0].[Product_id], [i0].[Product_name], [i0].[Product_note], [i0].[Product_vat], [i0].[Quantity]
FROM (
    SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat]
    FROM [Invoice] AS [i]
    WHERE [i].[Invoice_id] = @__id_0
) AS [t]
LEFT JOIN [Invoice_detail] AS [i0] ON [t].[Invoice_id] = [i0].[Invoice_id]
ORDER BY [t].[Invoice_id]
2025-04-03 18:13:56.416 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-03 18:13:56.574 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-03 18:13:56.580 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-03 18:13:56.638 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-03 18:13:56.641 +07:00 [INF] Hosting environment: Development
2025-04-03 18:13:56.645 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-03 18:13:57.221 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-03 18:13:57.419 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 199.6211ms
2025-04-03 18:13:57.441 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-03 18:13:57.448 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 6.9990ms
2025-04-03 18:13:57.673 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-03 18:13:57.777 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 103.7856ms
2025-04-03 18:13:57.819 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-03 18:13:57.865 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 45.9697ms
2025-04-03 18:14:02.957 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?Id=1 - -
2025-04-03 18:14:03.005 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 18:14:03.022 +07:00 [INF] Route matched with {action = "CreatePaymentUrlVnpay", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreatePaymentUrlVnpay(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-03 18:14:03.775 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-03 18:14:04.337 +07:00 [INF] Executed DbCommand (45ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Invoice_id], [t].[Amount_due], [t].[Cashier_id], [t].[Check_in_time], [t].[Check_out_time], [t].[Customer_id], [t].[Invoice_discount], [t].[Invoice_note], [t].[Order_id], [t].[Order_type_id], [t].[Other_payment], [t].[Payment_method_id], [t].[Room_id], [t].[Shipper_id], [t].[Status], [t].[Subtotal], [t].[Total_quantity], [t].[Total_vat], [i0].[Invoice_detail_id], [i0].[Invoice_id], [i0].[Price], [i0].[Product_id], [i0].[Product_name], [i0].[Product_note], [i0].[Product_vat], [i0].[Quantity]
FROM (
    SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat]
    FROM [Invoice] AS [i]
    WHERE [i].[Invoice_id] = @__id_0
) AS [t]
LEFT JOIN [Invoice_detail] AS [i0] ON [t].[Invoice_id] = [i0].[Invoice_id]
ORDER BY [t].[Invoice_id]
2025-04-03 18:14:04.441 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API) in 1410.8706ms
2025-04-03 18:14:04.449 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 18:14:04.455 +07:00 [ERR] Error: Object reference not set to an instance of an object.
2025-04-03 18:14:04.461 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?Id=1 - - - 500 - application/json 1503.3717ms
2025-04-03 18:14:15.845 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?Id=1 - -
2025-04-03 18:14:15.857 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 18:14:15.863 +07:00 [INF] Route matched with {action = "CreatePaymentUrlVnpay", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreatePaymentUrlVnpay(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-03 18:14:15.885 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-03 18:14:15.917 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Invoice_id], [t].[Amount_due], [t].[Cashier_id], [t].[Check_in_time], [t].[Check_out_time], [t].[Customer_id], [t].[Invoice_discount], [t].[Invoice_note], [t].[Order_id], [t].[Order_type_id], [t].[Other_payment], [t].[Payment_method_id], [t].[Room_id], [t].[Shipper_id], [t].[Status], [t].[Subtotal], [t].[Total_quantity], [t].[Total_vat], [i0].[Invoice_detail_id], [i0].[Invoice_id], [i0].[Price], [i0].[Product_id], [i0].[Product_name], [i0].[Product_note], [i0].[Product_vat], [i0].[Quantity]
FROM (
    SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat]
    FROM [Invoice] AS [i]
    WHERE [i].[Invoice_id] = @__id_0
) AS [t]
LEFT JOIN [Invoice_detail] AS [i0] ON [t].[Invoice_id] = [i0].[Invoice_id]
ORDER BY [t].[Invoice_id]
2025-04-03 18:14:15.929 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API) in 56.8251ms
2025-04-03 18:14:15.935 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 18:14:15.941 +07:00 [ERR] Error: Object reference not set to an instance of an object.
2025-04-03 18:14:15.945 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?Id=1 - - - 500 - application/json 100.1054ms
2025-04-03 18:14:16.267 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/favicon.ico - -
2025-04-03 18:14:16.275 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/favicon.ico - - - 404 0 - 7.5097ms
2025-04-03 18:15:45.273 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-03 18:15:45.403 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-03 18:15:45.409 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-03 18:15:45.459 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-03 18:15:45.463 +07:00 [INF] Hosting environment: Development
2025-04-03 18:15:45.467 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-03 18:15:45.955 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-03 18:15:46.096 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 144.6310ms
2025-04-03 18:15:46.124 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-03 18:15:46.124 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-03 18:15:46.135 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 11.5845ms
2025-04-03 18:15:46.167 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 43.0442ms
2025-04-03 18:15:46.514 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-03 18:15:46.570 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 56.2919ms
2025-04-03 18:15:52.298 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?Id=1 - -
2025-04-03 18:15:52.344 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 18:15:52.362 +07:00 [INF] Route matched with {action = "CreatePaymentUrlVnpay", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreatePaymentUrlVnpay(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-03 18:15:53.067 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-03 18:15:53.568 +07:00 [INF] Executed DbCommand (36ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Invoice_id], [t].[Amount_due], [t].[Cashier_id], [t].[Check_in_time], [t].[Check_out_time], [t].[Customer_id], [t].[Invoice_discount], [t].[Invoice_note], [t].[Order_id], [t].[Order_type_id], [t].[Other_payment], [t].[Payment_method_id], [t].[Room_id], [t].[Shipper_id], [t].[Status], [t].[Subtotal], [t].[Total_quantity], [t].[Total_vat], [i0].[Invoice_detail_id], [i0].[Invoice_id], [i0].[Price], [i0].[Product_id], [i0].[Product_name], [i0].[Product_note], [i0].[Product_vat], [i0].[Quantity]
FROM (
    SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat]
    FROM [Invoice] AS [i]
    WHERE [i].[Invoice_id] = @__id_0
) AS [t]
LEFT JOIN [Invoice_detail] AS [i0] ON [t].[Invoice_id] = [i0].[Invoice_id]
ORDER BY [t].[Invoice_id]
2025-04-03 18:15:53.690 +07:00 [INF] Executing RedirectResult, redirecting to https://sandbox.vnpayment.vn/paymentv2/vpcpay.html?vnp_Amount=23100000&vnp_Command=pay&vnp_CreateDate=20250403181553&vnp_CurrCode=VND&vnp_IpAddr=192.168.1.12&vnp_Locale=vn&vnp_OrderInfo=abc+Thanh+Toan+Hoa+Don+231000&vnp_OrderType=bill&vnp_TmnCode=1MTJPPPJ&vnp_TxnRef=638793009536795786&vnp_Version=2.1.0&vnp_SecureHash=846c66abe6c74b24614a009e64daab4c09b4b3f736e79c13cfe962880a92961504342bba97429b30efc075702088591ad785b7f08d9833720e2df58d42c7e7cb.
2025-04-03 18:15:53.697 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API) in 1326.513ms
2025-04-03 18:15:53.701 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 18:15:53.708 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?Id=1 - - - 302 0 - 1410.0343ms
2025-04-03 18:16:00.339 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?Id=1 - -
2025-04-03 18:16:00.354 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 18:16:00.363 +07:00 [INF] Route matched with {action = "CreatePaymentUrlVnpay", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreatePaymentUrlVnpay(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-03 18:16:00.378 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-03 18:16:00.395 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Invoice_id], [t].[Amount_due], [t].[Cashier_id], [t].[Check_in_time], [t].[Check_out_time], [t].[Customer_id], [t].[Invoice_discount], [t].[Invoice_note], [t].[Order_id], [t].[Order_type_id], [t].[Other_payment], [t].[Payment_method_id], [t].[Room_id], [t].[Shipper_id], [t].[Status], [t].[Subtotal], [t].[Total_quantity], [t].[Total_vat], [i0].[Invoice_detail_id], [i0].[Invoice_id], [i0].[Price], [i0].[Product_id], [i0].[Product_name], [i0].[Product_note], [i0].[Product_vat], [i0].[Quantity]
FROM (
    SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat]
    FROM [Invoice] AS [i]
    WHERE [i].[Invoice_id] = @__id_0
) AS [t]
LEFT JOIN [Invoice_detail] AS [i0] ON [t].[Invoice_id] = [i0].[Invoice_id]
ORDER BY [t].[Invoice_id]
2025-04-03 18:16:00.405 +07:00 [INF] Executing RedirectResult, redirecting to https://sandbox.vnpayment.vn/paymentv2/vpcpay.html?vnp_Amount=23100000&vnp_Command=pay&vnp_CreateDate=20250403181600&vnp_CurrCode=VND&vnp_IpAddr=192.168.1.12&vnp_Locale=vn&vnp_OrderInfo=abc+Thanh+Toan+Hoa+Don+231000&vnp_OrderType=bill&vnp_TmnCode=1MTJPPPJ&vnp_TxnRef=638793009604036595&vnp_Version=2.1.0&vnp_SecureHash=dd8f292806e2bda4fb8fa3063e0376e23f1b52addcede8ae3548f491bc18dfa6cabe6c3a7d7584289cfa1e04efd9db288c856d5fc28d99996c4a5e897dbf4a6f.
2025-04-03 18:16:00.407 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API) in 37.5183ms
2025-04-03 18:16:00.407 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 18:16:00.408 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?Id=1 - - - 302 0 - 68.6964ms
2025-04-03 18:17:49.219 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-03 18:17:49.355 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-03 18:17:49.360 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-03 18:17:49.407 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-03 18:17:49.410 +07:00 [INF] Hosting environment: Development
2025-04-03 18:17:49.413 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-03 18:17:49.908 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-03 18:17:50.076 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 170.1276ms
2025-04-03 18:17:50.101 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-03 18:17:50.101 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-03 18:17:50.108 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 6.9973ms
2025-04-03 18:17:50.132 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 31.7374ms
2025-04-03 18:17:50.492 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-03 18:17:50.540 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 48.8053ms
2025-04-03 18:17:59.000 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?Id=1 - -
2025-04-03 18:17:59.047 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 18:17:59.066 +07:00 [INF] Route matched with {action = "CreatePaymentUrlVnpay", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreatePaymentUrlVnpay(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-03 18:17:59.748 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-03 18:18:00.287 +07:00 [INF] Executed DbCommand (37ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Invoice_id], [t].[Amount_due], [t].[Cashier_id], [t].[Check_in_time], [t].[Check_out_time], [t].[Customer_id], [t].[Invoice_discount], [t].[Invoice_note], [t].[Order_id], [t].[Order_type_id], [t].[Other_payment], [t].[Payment_method_id], [t].[Room_id], [t].[Shipper_id], [t].[Status], [t].[Subtotal], [t].[Total_quantity], [t].[Total_vat], [i0].[Invoice_detail_id], [i0].[Invoice_id], [i0].[Price], [i0].[Product_id], [i0].[Product_name], [i0].[Product_note], [i0].[Product_vat], [i0].[Quantity]
FROM (
    SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat]
    FROM [Invoice] AS [i]
    WHERE [i].[Invoice_id] = @__id_0
) AS [t]
LEFT JOIN [Invoice_detail] AS [i0] ON [t].[Invoice_id] = [i0].[Invoice_id]
ORDER BY [t].[Invoice_id]
2025-04-03 18:18:00.403 +07:00 [INF] Executing RedirectResult, redirecting to https://sandbox.vnpayment.vn/paymentv2/vpcpay.html?vnp_Amount=100000000&vnp_Command=pay&vnp_CreateDate=20250403181800&vnp_CurrCode=VND&vnp_IpAddr=192.168.1.12&vnp_Locale=vn&vnp_OrderInfo=Nguyen+Van+A+Thanh+to%C3%A1n+h%C3%B3a+%C4%91%C6%A1n+%23123456+1000000&vnp_OrderType=billpayment&vnp_TmnCode=1MTJPPPJ&vnp_TxnRef=638793010803885012&vnp_Version=2.1.0&vnp_SecureHash=b9ce0230ab55813ee233a33a3dbb941ac66dbe6ff173a415ec573602cda54e5754d1eb216e6b45fdd931ba8fc04ead63bb60e062136c7eee1169bca8abef21b6.
2025-04-03 18:18:00.414 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API) in 1334.9716ms
2025-04-03 18:18:00.422 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 18:18:00.428 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?Id=1 - - - 302 0 - 1427.7291ms
2025-04-03 18:18:07.565 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?Id=1 - -
2025-04-03 18:18:07.577 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 18:18:07.580 +07:00 [INF] Route matched with {action = "CreatePaymentUrlVnpay", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreatePaymentUrlVnpay(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-03 18:18:07.591 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-03 18:18:07.606 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Invoice_id], [t].[Amount_due], [t].[Cashier_id], [t].[Check_in_time], [t].[Check_out_time], [t].[Customer_id], [t].[Invoice_discount], [t].[Invoice_note], [t].[Order_id], [t].[Order_type_id], [t].[Other_payment], [t].[Payment_method_id], [t].[Room_id], [t].[Shipper_id], [t].[Status], [t].[Subtotal], [t].[Total_quantity], [t].[Total_vat], [i0].[Invoice_detail_id], [i0].[Invoice_id], [i0].[Price], [i0].[Product_id], [i0].[Product_name], [i0].[Product_note], [i0].[Product_vat], [i0].[Quantity]
FROM (
    SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat]
    FROM [Invoice] AS [i]
    WHERE [i].[Invoice_id] = @__id_0
) AS [t]
LEFT JOIN [Invoice_detail] AS [i0] ON [t].[Invoice_id] = [i0].[Invoice_id]
ORDER BY [t].[Invoice_id]
2025-04-03 18:18:07.614 +07:00 [INF] Executing RedirectResult, redirecting to https://sandbox.vnpayment.vn/paymentv2/vpcpay.html?vnp_Amount=100000000&vnp_Command=pay&vnp_CreateDate=20250403181807&vnp_CurrCode=VND&vnp_IpAddr=192.168.1.12&vnp_Locale=vn&vnp_OrderInfo=Nguyen+Van+A+Thanh+to%C3%A1n+h%C3%B3a+%C4%91%C6%A1n+%23123456+1000000&vnp_OrderType=billpayment&vnp_TmnCode=1MTJPPPJ&vnp_TxnRef=638793010876132561&vnp_Version=2.1.0&vnp_SecureHash=530a662449a526dc0b9a4c208982852565d97eebfb1a84e956d9405cce5e4ecda45b5d50f4a4cb9629604e6e5483e3263b20f9f9d2a8fa46408d5a735f41a18a.
2025-04-03 18:18:07.616 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API) in 32.5833ms
2025-04-03 18:18:07.617 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 18:18:07.618 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?Id=1 - - - 302 0 - 53.1553ms
2025-04-03 18:22:50.610 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-03 18:22:51.044 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-03 18:22:51.049 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-03 18:22:51.163 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-03 18:22:51.165 +07:00 [INF] Hosting environment: Development
2025-04-03 18:22:51.168 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-03 18:22:52.868 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-03 18:22:53.179 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 313.2685ms
2025-04-03 18:22:53.205 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-03 18:22:53.214 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 9.2707ms
2025-04-03 18:22:53.454 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-03 18:22:53.544 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 90.2768ms
2025-04-03 18:22:53.596 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-03 18:22:53.635 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 38.4548ms
2025-04-03 18:22:58.325 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?Id=1 - -
2025-04-03 18:22:58.487 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 18:22:58.516 +07:00 [INF] Route matched with {action = "CreatePaymentUrlVnpay", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreatePaymentUrlVnpay(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-03 18:22:59.857 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-03 18:23:00.946 +07:00 [INF] Executed DbCommand (86ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Invoice_id], [t].[Amount_due], [t].[Cashier_id], [t].[Check_in_time], [t].[Check_out_time], [t].[Customer_id], [t].[Invoice_discount], [t].[Invoice_note], [t].[Order_id], [t].[Order_type_id], [t].[Other_payment], [t].[Payment_method_id], [t].[Room_id], [t].[Shipper_id], [t].[Status], [t].[Subtotal], [t].[Total_quantity], [t].[Total_vat], [i0].[Invoice_detail_id], [i0].[Invoice_id], [i0].[Price], [i0].[Product_id], [i0].[Product_name], [i0].[Product_note], [i0].[Product_vat], [i0].[Quantity]
FROM (
    SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat]
    FROM [Invoice] AS [i]
    WHERE [i].[Invoice_id] = @__id_0
) AS [t]
LEFT JOIN [Invoice_detail] AS [i0] ON [t].[Invoice_id] = [i0].[Invoice_id]
ORDER BY [t].[Invoice_id]
2025-04-03 18:23:08.519 +07:00 [INF] Executing RedirectResult, redirecting to https://sandbox.vnpayment.vn/paymentv2/vpcpay.html?vnp_Amount=100000000&vnp_Command=pay&vnp_CreateDate=20250403182303&vnp_CurrCode=VND&vnp_IpAddr=192.168.1.12&vnp_Locale=vn&vnp_OrderInfo=Nguyen+Van+A+Thanh+to%C3%A1n+h%C3%B3a+%C4%91%C6%A1n+%23123456+1000000&vnp_OrderType=other&vnp_TmnCode=1MTJPPPJ&vnp_TxnRef=638793013836803216&vnp_Version=2.1.0&vnp_SecureHash=8f734fca771a6aadfb0dcf6d07b5a7f673ca8fd2738d133c1b1145825d2b479db9c42101efcf5f9c12bbcb8314c7dbd3134b9cbd4bc6ae47313a32052ec1f18d.
2025-04-03 18:23:08.540 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API) in 10004.8951ms
2025-04-03 18:23:08.548 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 18:23:09.648 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?Id=1 - - - 302 0 - 11322.9499ms
2025-04-03 18:23:16.572 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?Id=1 - -
2025-04-03 18:23:16.598 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 18:23:16.605 +07:00 [INF] Route matched with {action = "CreatePaymentUrlVnpay", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreatePaymentUrlVnpay(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-03 18:23:16.652 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-03 18:23:16.677 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Invoice_id], [t].[Amount_due], [t].[Cashier_id], [t].[Check_in_time], [t].[Check_out_time], [t].[Customer_id], [t].[Invoice_discount], [t].[Invoice_note], [t].[Order_id], [t].[Order_type_id], [t].[Other_payment], [t].[Payment_method_id], [t].[Room_id], [t].[Shipper_id], [t].[Status], [t].[Subtotal], [t].[Total_quantity], [t].[Total_vat], [i0].[Invoice_detail_id], [i0].[Invoice_id], [i0].[Price], [i0].[Product_id], [i0].[Product_name], [i0].[Product_note], [i0].[Product_vat], [i0].[Quantity]
FROM (
    SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat]
    FROM [Invoice] AS [i]
    WHERE [i].[Invoice_id] = @__id_0
) AS [t]
LEFT JOIN [Invoice_detail] AS [i0] ON [t].[Invoice_id] = [i0].[Invoice_id]
ORDER BY [t].[Invoice_id]
2025-04-03 18:28:27.085 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-03 18:28:27.510 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-03 18:28:27.513 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-03 18:28:27.605 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-03 18:28:27.606 +07:00 [INF] Hosting environment: Development
2025-04-03 18:28:27.607 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-03 18:28:29.732 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-03 18:28:29.861 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-03 18:28:29.867 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-03 18:28:29.922 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-03 18:28:29.926 +07:00 [INF] Hosting environment: Development
2025-04-03 18:28:29.927 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-03 18:28:32.138 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-03 18:28:32.298 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 166.1227ms
2025-04-03 18:28:32.329 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-03 18:28:32.337 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 8.0224ms
2025-04-03 18:28:32.553 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-03 18:28:32.587 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 34.6254ms
2025-04-03 18:28:32.654 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-03 18:28:32.701 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 46.3313ms
2025-04-03 18:28:39.050 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?Id=1 - -
2025-04-03 18:28:39.098 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 18:28:39.116 +07:00 [INF] Route matched with {action = "CreatePaymentUrlVnpay", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreatePaymentUrlVnpay(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-03 18:28:39.870 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-03 18:28:40.391 +07:00 [INF] Executed DbCommand (38ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Invoice_id], [t].[Amount_due], [t].[Cashier_id], [t].[Check_in_time], [t].[Check_out_time], [t].[Customer_id], [t].[Invoice_discount], [t].[Invoice_note], [t].[Order_id], [t].[Order_type_id], [t].[Other_payment], [t].[Payment_method_id], [t].[Room_id], [t].[Shipper_id], [t].[Status], [t].[Subtotal], [t].[Total_quantity], [t].[Total_vat], [i0].[Invoice_detail_id], [i0].[Invoice_id], [i0].[Price], [i0].[Product_id], [i0].[Product_name], [i0].[Product_note], [i0].[Product_vat], [i0].[Quantity]
FROM (
    SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat]
    FROM [Invoice] AS [i]
    WHERE [i].[Invoice_id] = @__id_0
) AS [t]
LEFT JOIN [Invoice_detail] AS [i0] ON [t].[Invoice_id] = [i0].[Invoice_id]
ORDER BY [t].[Invoice_id]
2025-04-03 18:28:40.510 +07:00 [INF] Executing RedirectResult, redirecting to https://sandbox.vnpayment.vn/paymentv2/vpcpay.html?vnp_Amount=100000000&vnp_Command=pay&vnp_CreateDate=20250403182840&vnp_CurrCode=VND&vnp_IpAddr=192.168.1.12&vnp_Locale=vn&vnp_OrderInfo=Nguyen+Van+A+Thanh+to%C3%A1n+h%C3%B3a+%C4%91%C6%A1n+%23123456+1000000&vnp_OrderType=other&vnp_ReturnUrl=http%3A%2F%2Flocalhost%3A5172%2FCheckout%2FPaymentCallbackVnpay&vnp_TmnCode=1MTJPPPJ&vnp_TxnRef=638793017204976003&vnp_Version=2.1.0&vnp_SecureHash=3a46c0cad9bf72cfc09cb6e7aafa5074a60c81cd8857a31950e0e87c1ff72b08a0acd680069cadac136e17a22de8a80cd074045a690c0ba93d706a5612f9ccf5.
2025-04-03 18:28:40.523 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API) in 1395.8876ms
2025-04-03 18:28:40.529 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 18:28:40.539 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?Id=1 - - - 302 0 - 1488.6256ms
2025-04-03 18:28:46.910 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?Id=1 - -
2025-04-03 18:28:46.921 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 18:28:46.927 +07:00 [INF] Route matched with {action = "CreatePaymentUrlVnpay", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreatePaymentUrlVnpay(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-03 18:28:46.952 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-03 18:28:46.969 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Invoice_id], [t].[Amount_due], [t].[Cashier_id], [t].[Check_in_time], [t].[Check_out_time], [t].[Customer_id], [t].[Invoice_discount], [t].[Invoice_note], [t].[Order_id], [t].[Order_type_id], [t].[Other_payment], [t].[Payment_method_id], [t].[Room_id], [t].[Shipper_id], [t].[Status], [t].[Subtotal], [t].[Total_quantity], [t].[Total_vat], [i0].[Invoice_detail_id], [i0].[Invoice_id], [i0].[Price], [i0].[Product_id], [i0].[Product_name], [i0].[Product_note], [i0].[Product_vat], [i0].[Quantity]
FROM (
    SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat]
    FROM [Invoice] AS [i]
    WHERE [i].[Invoice_id] = @__id_0
) AS [t]
LEFT JOIN [Invoice_detail] AS [i0] ON [t].[Invoice_id] = [i0].[Invoice_id]
ORDER BY [t].[Invoice_id]
2025-04-03 18:28:46.980 +07:00 [INF] Executing RedirectResult, redirecting to https://sandbox.vnpayment.vn/paymentv2/vpcpay.html?vnp_Amount=100000000&vnp_Command=pay&vnp_CreateDate=20250403182846&vnp_CurrCode=VND&vnp_IpAddr=192.168.1.12&vnp_Locale=vn&vnp_OrderInfo=Nguyen+Van+A+Thanh+to%C3%A1n+h%C3%B3a+%C4%91%C6%A1n+%23123456+1000000&vnp_OrderType=other&vnp_ReturnUrl=http%3A%2F%2Flocalhost%3A5172%2FCheckout%2FPaymentCallbackVnpay&vnp_TmnCode=1MTJPPPJ&vnp_TxnRef=638793017269796626&vnp_Version=2.1.0&vnp_SecureHash=11046df58a2f1c7eb929e312335ec36a740f8135b8356cf41ef5de66f01173f1c85a7cfd34d3a2659b2c17e219ae71fabbd5decc82dfe7fdad17ea7fc72621df.
2025-04-03 18:28:46.985 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API) in 47.6622ms
2025-04-03 18:28:46.992 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 18:28:46.998 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?Id=1 - - - 302 0 - 87.8079ms
2025-04-03 19:42:42.703 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-03 19:42:42.832 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-03 19:42:42.835 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-03 19:42:42.884 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-03 19:42:42.888 +07:00 [INF] Hosting environment: Development
2025-04-03 19:42:42.889 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-03 19:42:43.904 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-03 19:42:44.065 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 165.5359ms
2025-04-03 19:42:44.097 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-03 19:42:44.105 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 7.6123ms
2025-04-03 19:42:44.330 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-03 19:42:44.370 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 40.1923ms
2025-04-03 19:42:44.427 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-03 19:42:44.476 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 48.8615ms
2025-04-03 19:42:52.057 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?Id=1 - -
2025-04-03 19:42:52.099 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 19:42:52.117 +07:00 [INF] Route matched with {action = "CreatePaymentUrlVnpay", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreatePaymentUrlVnpay(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-03 19:42:52.756 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-03 19:42:53.294 +07:00 [INF] Executed DbCommand (38ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Invoice_id], [t].[Amount_due], [t].[Cashier_id], [t].[Check_in_time], [t].[Check_out_time], [t].[Customer_id], [t].[Invoice_discount], [t].[Invoice_note], [t].[Order_id], [t].[Order_type_id], [t].[Other_payment], [t].[Payment_method_id], [t].[Room_id], [t].[Shipper_id], [t].[Status], [t].[Subtotal], [t].[Total_quantity], [t].[Total_vat], [i0].[Invoice_detail_id], [i0].[Invoice_id], [i0].[Price], [i0].[Product_id], [i0].[Product_name], [i0].[Product_note], [i0].[Product_vat], [i0].[Quantity]
FROM (
    SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat]
    FROM [Invoice] AS [i]
    WHERE [i].[Invoice_id] = @__id_0
) AS [t]
LEFT JOIN [Invoice_detail] AS [i0] ON [t].[Invoice_id] = [i0].[Invoice_id]
ORDER BY [t].[Invoice_id]
2025-04-03 19:42:53.405 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API) in 1276.3268ms
2025-04-03 19:42:53.414 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 19:42:53.417 +07:00 [ERR] Error: Object reference not set to an instance of an object.
2025-04-03 19:42:53.423 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?Id=1 - - - 500 - application/json 1366.6073ms
2025-04-03 19:43:00.599 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?Id=1 - -
2025-04-03 19:43:00.610 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 19:43:00.614 +07:00 [INF] Route matched with {action = "CreatePaymentUrlVnpay", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreatePaymentUrlVnpay(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-03 19:43:00.635 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-03 19:43:00.662 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Invoice_id], [t].[Amount_due], [t].[Cashier_id], [t].[Check_in_time], [t].[Check_out_time], [t].[Customer_id], [t].[Invoice_discount], [t].[Invoice_note], [t].[Order_id], [t].[Order_type_id], [t].[Other_payment], [t].[Payment_method_id], [t].[Room_id], [t].[Shipper_id], [t].[Status], [t].[Subtotal], [t].[Total_quantity], [t].[Total_vat], [i0].[Invoice_detail_id], [i0].[Invoice_id], [i0].[Price], [i0].[Product_id], [i0].[Product_name], [i0].[Product_note], [i0].[Product_vat], [i0].[Quantity]
FROM (
    SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat]
    FROM [Invoice] AS [i]
    WHERE [i].[Invoice_id] = @__id_0
) AS [t]
LEFT JOIN [Invoice_detail] AS [i0] ON [t].[Invoice_id] = [i0].[Invoice_id]
ORDER BY [t].[Invoice_id]
2025-04-03 19:43:00.671 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API) in 47.7417ms
2025-04-03 19:43:00.675 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 19:43:00.678 +07:00 [ERR] Error: Object reference not set to an instance of an object.
2025-04-03 19:43:00.680 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?Id=1 - - - 500 - application/json 81.4959ms
2025-04-03 19:43:01.013 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/favicon.ico - -
2025-04-03 19:43:01.020 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/favicon.ico - - - 404 0 - 6.1743ms
2025-04-03 19:44:04.380 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-03 19:44:04.501 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-03 19:44:04.506 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-03 19:44:04.555 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-03 19:44:04.559 +07:00 [INF] Hosting environment: Development
2025-04-03 19:44:04.562 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-03 19:44:05.670 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-03 19:44:05.807 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 139.8329ms
2025-04-03 19:44:05.832 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-03 19:44:05.832 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-03 19:44:05.845 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 12.4674ms
2025-04-03 19:44:05.871 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 38.8289ms
2025-04-03 19:44:06.179 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-03 19:44:06.222 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 43.1323ms
2025-04-03 19:44:13.641 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?Id=1 - -
2025-04-03 19:44:13.693 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 19:44:13.719 +07:00 [INF] Route matched with {action = "CreatePaymentUrlVnpay", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreatePaymentUrlVnpay(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-03 19:44:14.417 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-03 19:44:15.012 +07:00 [INF] Executed DbCommand (44ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Invoice_id], [t].[Amount_due], [t].[Cashier_id], [t].[Check_in_time], [t].[Check_out_time], [t].[Customer_id], [t].[Invoice_discount], [t].[Invoice_note], [t].[Order_id], [t].[Order_type_id], [t].[Other_payment], [t].[Payment_method_id], [t].[Room_id], [t].[Shipper_id], [t].[Status], [t].[Subtotal], [t].[Total_quantity], [t].[Total_vat], [i0].[Invoice_detail_id], [i0].[Invoice_id], [i0].[Price], [i0].[Product_id], [i0].[Product_name], [i0].[Product_note], [i0].[Product_vat], [i0].[Quantity]
FROM (
    SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat]
    FROM [Invoice] AS [i]
    WHERE [i].[Invoice_id] = @__id_0
) AS [t]
LEFT JOIN [Invoice_detail] AS [i0] ON [t].[Invoice_id] = [i0].[Invoice_id]
ORDER BY [t].[Invoice_id]
2025-04-03 19:44:15.131 +07:00 [INF] Executing RedirectResult, redirecting to https://sandbox.vnpayment.vn/paymentv2/vpcpay.html?vnp_Amount=23100000&vnp_Command=pay&vnp_CreateDate=20250403194415&vnp_CurrCode=VND&vnp_IpAddr=192.168.1.12&vnp_Locale=vn&vnp_OrderInfo=Khach+le+Thanh+to%C3%A1n+h%C3%B3a+%C4%91%C6%A1n+1+231000&vnp_OrderType=other&vnp_ReturnUrl=http%3A%2F%2Flocalhost%3A5172%2FCheckout%2FPaymentCallbackVnpay&vnp_TmnCode=1MTJPPPJ&vnp_TxnRef=638793062551210875&vnp_Version=2.1.0&vnp_SecureHash=2a5c6d2131392281b44ab00cd1b062ae334fe26d22f27d61f23b99e9138ab2158da32b270e7d70212cf04a39d040b0e7573a55298ea7d3e5f4a48df02389f009.
2025-04-03 19:44:15.137 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API) in 1402.1093ms
2025-04-03 19:44:15.138 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 19:44:15.144 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?Id=1 - - - 302 0 - 1502.4957ms
2025-04-03 19:44:22.334 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?Id=1 - -
2025-04-03 19:44:22.351 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 19:44:22.359 +07:00 [INF] Route matched with {action = "CreatePaymentUrlVnpay", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreatePaymentUrlVnpay(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-03 19:44:22.381 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-03 19:44:22.401 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Invoice_id], [t].[Amount_due], [t].[Cashier_id], [t].[Check_in_time], [t].[Check_out_time], [t].[Customer_id], [t].[Invoice_discount], [t].[Invoice_note], [t].[Order_id], [t].[Order_type_id], [t].[Other_payment], [t].[Payment_method_id], [t].[Room_id], [t].[Shipper_id], [t].[Status], [t].[Subtotal], [t].[Total_quantity], [t].[Total_vat], [i0].[Invoice_detail_id], [i0].[Invoice_id], [i0].[Price], [i0].[Product_id], [i0].[Product_name], [i0].[Product_note], [i0].[Product_vat], [i0].[Quantity]
FROM (
    SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat]
    FROM [Invoice] AS [i]
    WHERE [i].[Invoice_id] = @__id_0
) AS [t]
LEFT JOIN [Invoice_detail] AS [i0] ON [t].[Invoice_id] = [i0].[Invoice_id]
ORDER BY [t].[Invoice_id]
2025-04-03 19:44:22.412 +07:00 [INF] Executing RedirectResult, redirecting to https://sandbox.vnpayment.vn/paymentv2/vpcpay.html?vnp_Amount=23100000&vnp_Command=pay&vnp_CreateDate=20250403194422&vnp_CurrCode=VND&vnp_IpAddr=192.168.1.12&vnp_Locale=vn&vnp_OrderInfo=Khach+le+Thanh+to%C3%A1n+h%C3%B3a+%C4%91%C6%A1n+1+231000&vnp_OrderType=other&vnp_ReturnUrl=http%3A%2F%2Flocalhost%3A5172%2FCheckout%2FPaymentCallbackVnpay&vnp_TmnCode=1MTJPPPJ&vnp_TxnRef=638793062624103404&vnp_Version=2.1.0&vnp_SecureHash=bfc583ce57c7f29ed2cc199165fba62f3cff2d7804683d1c1cbcf60ed2ea87fc70a45d15be89696f558c1ef286fe1582b981e4c816d0e5697a5270c3302a8130.
2025-04-03 19:44:22.416 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API) in 47.056ms
2025-04-03 19:44:22.419 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 19:44:22.421 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?Id=1 - - - 302 0 - 86.6428ms
2025-04-03 20:00:14.175 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-03 20:00:14.294 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-03 20:00:14.300 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-03 20:00:14.358 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-03 20:00:14.362 +07:00 [INF] Hosting environment: Development
2025-04-03 20:00:14.367 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-03 20:00:14.802 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-03 20:00:14.930 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 130.1041ms
2025-04-03 20:00:14.958 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-03 20:00:14.958 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-03 20:00:14.967 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 9.1784ms
2025-04-03 20:00:14.998 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 39.2839ms
2025-04-03 20:00:15.312 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-03 20:00:15.355 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 42.6420ms
2025-04-03 20:00:22.301 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-03 20:00:22.313 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 11.7821ms
2025-04-03 20:00:22.345 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-03 20:00:22.347 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-03 20:00:22.353 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 5.3108ms
2025-04-03 20:00:22.360 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 15.3081ms
2025-04-03 20:00:22.566 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-03 20:00:22.605 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 38.8285ms
2025-04-03 20:11:25.647 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-03 20:11:25.793 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-03 20:11:25.799 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-03 20:11:25.864 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-03 20:11:25.868 +07:00 [INF] Hosting environment: Development
2025-04-03 20:11:25.872 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-03 20:11:26.094 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-03 20:11:26.248 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 157.0186ms
2025-04-03 20:11:26.272 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-03 20:11:26.272 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-03 20:11:26.279 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 7.4778ms
2025-04-03 20:11:26.314 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 42.4772ms
2025-04-03 20:11:26.676 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-03 20:11:26.727 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 51.1790ms
2025-04-03 20:11:34.410 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-03 20:11:34.417 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 6.7879ms
2025-04-03 20:11:34.448 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-03 20:11:34.451 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 2.1706ms
2025-04-03 20:11:34.682 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-03 20:11:34.696 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 13.5115ms
2025-04-03 20:11:34.771 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-03 20:11:34.800 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 29.1590ms
2025-04-03 20:11:40.962 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?Id=1 - -
2025-04-03 20:11:41.014 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 20:11:41.037 +07:00 [INF] Route matched with {action = "CreatePaymentUrlVnpay", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreatePaymentUrlVnpay(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-03 20:11:41.696 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-03 20:11:42.207 +07:00 [INF] Executed DbCommand (38ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Invoice_id], [t].[Amount_due], [t].[Cashier_id], [t].[Check_in_time], [t].[Check_out_time], [t].[Customer_id], [t].[Invoice_discount], [t].[Invoice_note], [t].[Order_id], [t].[Order_type_id], [t].[Other_payment], [t].[Payment_method_id], [t].[Room_id], [t].[Shipper_id], [t].[Status], [t].[Subtotal], [t].[Total_quantity], [t].[Total_vat], [i0].[Invoice_detail_id], [i0].[Invoice_id], [i0].[Price], [i0].[Product_id], [i0].[Product_name], [i0].[Product_note], [i0].[Product_vat], [i0].[Quantity]
FROM (
    SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat]
    FROM [Invoice] AS [i]
    WHERE [i].[Invoice_id] = @__id_0
) AS [t]
LEFT JOIN [Invoice_detail] AS [i0] ON [t].[Invoice_id] = [i0].[Invoice_id]
ORDER BY [t].[Invoice_id]
2025-04-03 20:11:42.343 +07:00 [INF] Executing RedirectResult, redirecting to https://sandbox.vnpayment.vn/paymentv2/vpcpay.html?vnp_Amount=220000&vnp_Command=pay&vnp_CreateDate=20250403201142&vnp_CurrCode=VND&vnp_IpAddr=192.168.1.12&vnp_Locale=vn&vnp_OrderInfo=Khach+le+Thanh+to%C3%A1n+h%C3%B3a+%C4%91%C6%A1n+1+2200&vnp_OrderType=other&vnp_ReturnUrl=http%3A%2F%2Flocalhost%3A5172%2FCheckout%2FPaymentCallbackVnpay&vnp_TmnCode=1MTJPPPJ&vnp_TxnRef=638793079023284652&vnp_Version=2.1.0&vnp_SecureHash=9fc09a97eada6e936e1ed1847e062098dd678ba1bd73fb348a8d464bc5aba74df3a4924d0d3006fb1003e83c8391adfc4e62ff85c3ac8a3bb2746c93227ceb81.
2025-04-03 20:11:42.355 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API) in 1304.389ms
2025-04-03 20:11:42.363 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 20:11:42.371 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?Id=1 - - - 302 0 - 1409.6803ms
2025-04-03 20:11:48.702 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?Id=1 - -
2025-04-03 20:11:48.714 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 20:11:48.720 +07:00 [INF] Route matched with {action = "CreatePaymentUrlVnpay", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreatePaymentUrlVnpay(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-03 20:11:48.743 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-03 20:11:48.759 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Invoice_id], [t].[Amount_due], [t].[Cashier_id], [t].[Check_in_time], [t].[Check_out_time], [t].[Customer_id], [t].[Invoice_discount], [t].[Invoice_note], [t].[Order_id], [t].[Order_type_id], [t].[Other_payment], [t].[Payment_method_id], [t].[Room_id], [t].[Shipper_id], [t].[Status], [t].[Subtotal], [t].[Total_quantity], [t].[Total_vat], [i0].[Invoice_detail_id], [i0].[Invoice_id], [i0].[Price], [i0].[Product_id], [i0].[Product_name], [i0].[Product_note], [i0].[Product_vat], [i0].[Quantity]
FROM (
    SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat]
    FROM [Invoice] AS [i]
    WHERE [i].[Invoice_id] = @__id_0
) AS [t]
LEFT JOIN [Invoice_detail] AS [i0] ON [t].[Invoice_id] = [i0].[Invoice_id]
ORDER BY [t].[Invoice_id]
2025-04-03 20:11:48.774 +07:00 [INF] Executing RedirectResult, redirecting to https://sandbox.vnpayment.vn/paymentv2/vpcpay.html?vnp_Amount=220000&vnp_Command=pay&vnp_CreateDate=20250403201148&vnp_CurrCode=VND&vnp_IpAddr=192.168.1.12&vnp_Locale=vn&vnp_OrderInfo=Khach+le+Thanh+to%C3%A1n+h%C3%B3a+%C4%91%C6%A1n+1+2200&vnp_OrderType=other&vnp_ReturnUrl=http%3A%2F%2Flocalhost%3A5172%2FCheckout%2FPaymentCallbackVnpay&vnp_TmnCode=1MTJPPPJ&vnp_TxnRef=638793079087715311&vnp_Version=2.1.0&vnp_SecureHash=5cfdaaac8f343c359882e6fb1c47489aba7d3b80ce504820c6486b0549d15ab3cccafbcf09c04ac461118d7affdde5677fd91af123f9e481440749f5f732e8d7.
2025-04-03 20:11:48.777 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API) in 50.657ms
2025-04-03 20:11:48.781 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 20:11:48.784 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?Id=1 - - - 302 0 - 82.2838ms
2025-04-03 20:17:36.441 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-03 20:17:36.764 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-03 20:17:36.765 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-03 20:17:36.845 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-03 20:17:36.846 +07:00 [INF] Hosting environment: Development
2025-04-03 20:17:36.847 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-03 20:17:38.611 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-03 20:17:38.887 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 281.3585ms
2025-04-03 20:17:38.913 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-03 20:17:38.923 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 10.0348ms
2025-04-03 20:17:39.163 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-03 20:17:39.248 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 85.3134ms
2025-04-03 20:17:39.285 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-03 20:17:39.339 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 54.4997ms
2025-04-03 20:17:45.562 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?Id=1 - -
2025-04-03 20:17:45.781 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 20:17:45.818 +07:00 [INF] Route matched with {action = "CreatePaymentUrlVnpay", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreatePaymentUrlVnpay(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-03 20:17:47.219 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-03 20:17:48.351 +07:00 [INF] Executed DbCommand (54ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Invoice_id], [t].[Amount_due], [t].[Cashier_id], [t].[Check_in_time], [t].[Check_out_time], [t].[Customer_id], [t].[Invoice_discount], [t].[Invoice_note], [t].[Order_id], [t].[Order_type_id], [t].[Other_payment], [t].[Payment_method_id], [t].[Room_id], [t].[Shipper_id], [t].[Status], [t].[Subtotal], [t].[Total_quantity], [t].[Total_vat], [i0].[Invoice_detail_id], [i0].[Invoice_id], [i0].[Price], [i0].[Product_id], [i0].[Product_name], [i0].[Product_note], [i0].[Product_vat], [i0].[Quantity]
FROM (
    SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat]
    FROM [Invoice] AS [i]
    WHERE [i].[Invoice_id] = @__id_0
) AS [t]
LEFT JOIN [Invoice_detail] AS [i0] ON [t].[Invoice_id] = [i0].[Invoice_id]
ORDER BY [t].[Invoice_id]
2025-04-03 20:18:09.512 +07:00 [INF] Executing RedirectResult, redirecting to https://sandbox.vnpayment.vn/paymentv2/vpcpay.html?vnp_Amount=220000&vnp_Command=pay&vnp_CreateDate=20250403201805&vnp_CurrCode=VND&vnp_IpAddr=192.168.1.12&vnp_Locale=vn&vnp_OrderInfo=Khach+le+Thanh+to%C3%A1n+h%C3%B3a+%C4%91%C6%A1n+1+2200&vnp_OrderType=other&vnp_ReturnUrl=http%3A%2F%2Flocalhost%3A5172%2FCheckout%2FPaymentCallbackVnpay&vnp_TmnCode=U0IISYRM&vnp_TxnRef=638793082852140874&vnp_Version=2.1.0&vnp_SecureHash=181a48d84e4a82d83771e35c5bbf9e4f642158ab77252f259bbd8aa2df469a6dc507554fc2d4bada61bfe00a25d03d7b024f34d0598995d1282bb123baecf1bb.
2025-04-03 20:18:09.529 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API) in 23689.9367ms
2025-04-03 20:18:09.534 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 20:18:10.355 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?Id=1 - - - 302 0 - 24792.6266ms
2025-04-03 20:18:21.548 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?Id= - -
2025-04-03 20:18:21.586 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 20:18:21.591 +07:00 [INF] Route matched with {action = "CreatePaymentUrlVnpay", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreatePaymentUrlVnpay(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-03 20:18:21.631 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-04-03 20:18:21.653 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API) in 55.2256ms
2025-04-03 20:18:21.659 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 20:18:21.665 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?Id= - - - 400 - application/problem+json;+charset=utf-8 117.5301ms
2025-04-03 20:18:22.042 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/favicon.ico - -
2025-04-03 20:18:22.049 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/favicon.ico - - - 404 0 - 7.4907ms
2025-04-03 20:18:25.035 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?Id=1 - -
2025-04-03 20:18:25.047 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 20:18:25.054 +07:00 [INF] Route matched with {action = "CreatePaymentUrlVnpay", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreatePaymentUrlVnpay(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-03 20:18:25.068 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-03 20:18:25.079 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Invoice_id], [t].[Amount_due], [t].[Cashier_id], [t].[Check_in_time], [t].[Check_out_time], [t].[Customer_id], [t].[Invoice_discount], [t].[Invoice_note], [t].[Order_id], [t].[Order_type_id], [t].[Other_payment], [t].[Payment_method_id], [t].[Room_id], [t].[Shipper_id], [t].[Status], [t].[Subtotal], [t].[Total_quantity], [t].[Total_vat], [i0].[Invoice_detail_id], [i0].[Invoice_id], [i0].[Price], [i0].[Product_id], [i0].[Product_name], [i0].[Product_note], [i0].[Product_vat], [i0].[Quantity]
FROM (
    SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat]
    FROM [Invoice] AS [i]
    WHERE [i].[Invoice_id] = @__id_0
) AS [t]
LEFT JOIN [Invoice_detail] AS [i0] ON [t].[Invoice_id] = [i0].[Invoice_id]
ORDER BY [t].[Invoice_id]
2025-04-03 20:19:03.002 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-03 20:19:03.148 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-03 20:19:03.153 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-03 20:19:03.229 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-03 20:19:03.234 +07:00 [INF] Hosting environment: Development
2025-04-03 20:19:03.236 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-03 20:19:05.110 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-03 20:19:05.289 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 181.7800ms
2025-04-03 20:19:05.311 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-03 20:19:05.319 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 8.5449ms
2025-04-03 20:19:05.535 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-03 20:19:05.573 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 38.0021ms
2025-04-03 20:19:05.625 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-03 20:19:05.668 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 42.8612ms
2025-04-03 20:19:10.645 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?Id=1 - -
2025-04-03 20:19:10.692 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 20:19:10.716 +07:00 [INF] Route matched with {action = "CreatePaymentUrlVnpay", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreatePaymentUrlVnpay(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-03 20:19:11.470 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-03 20:19:11.991 +07:00 [INF] Executed DbCommand (36ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Invoice_id], [t].[Amount_due], [t].[Cashier_id], [t].[Check_in_time], [t].[Check_out_time], [t].[Customer_id], [t].[Invoice_discount], [t].[Invoice_note], [t].[Order_id], [t].[Order_type_id], [t].[Other_payment], [t].[Payment_method_id], [t].[Room_id], [t].[Shipper_id], [t].[Status], [t].[Subtotal], [t].[Total_quantity], [t].[Total_vat], [i0].[Invoice_detail_id], [i0].[Invoice_id], [i0].[Price], [i0].[Product_id], [i0].[Product_name], [i0].[Product_note], [i0].[Product_vat], [i0].[Quantity]
FROM (
    SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat]
    FROM [Invoice] AS [i]
    WHERE [i].[Invoice_id] = @__id_0
) AS [t]
LEFT JOIN [Invoice_detail] AS [i0] ON [t].[Invoice_id] = [i0].[Invoice_id]
ORDER BY [t].[Invoice_id]
2025-04-03 20:19:12.132 +07:00 [INF] Executing RedirectResult, redirecting to https://sandbox.vnpayment.vn/paymentv2/vpcpay.html?vnp_Amount=220000&vnp_Command=pay&vnp_CreateDate=20250403201912&vnp_CurrCode=VND&vnp_IpAddr=192.168.1.12&vnp_Locale=vn&vnp_OrderInfo=Khach+le+Thanh+to%C3%A1n+h%C3%B3a+%C4%91%C6%A1n+1+2200&vnp_OrderType=other&vnp_ReturnUrl=http%3A%2F%2Flocalhost%3A5172%2FCheckout%2FPaymentCallbackVnpay&vnp_TmnCode=U0IISYRM&vnp_TxnRef=638793083521202981&vnp_Version=2.1.0&vnp_SecureHash=664eb53857e3ad860022515f79f5b6b589bf32322f6307c89c687273eebbf49e8ee054d1902b31d48a354046ce3083ec8c1bd88ce576e7a15c8292c4851e2353.
2025-04-03 20:19:12.145 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API) in 1414.91ms
2025-04-03 20:19:12.151 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 20:19:12.156 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?Id=1 - - - 302 0 - 1511.0445ms
2025-04-03 20:19:17.706 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?Id=1 - -
2025-04-03 20:19:17.718 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 20:19:17.720 +07:00 [INF] Route matched with {action = "CreatePaymentUrlVnpay", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreatePaymentUrlVnpay(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-03 20:19:17.736 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-03 20:19:17.752 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Invoice_id], [t].[Amount_due], [t].[Cashier_id], [t].[Check_in_time], [t].[Check_out_time], [t].[Customer_id], [t].[Invoice_discount], [t].[Invoice_note], [t].[Order_id], [t].[Order_type_id], [t].[Other_payment], [t].[Payment_method_id], [t].[Room_id], [t].[Shipper_id], [t].[Status], [t].[Subtotal], [t].[Total_quantity], [t].[Total_vat], [i0].[Invoice_detail_id], [i0].[Invoice_id], [i0].[Price], [i0].[Product_id], [i0].[Product_name], [i0].[Product_note], [i0].[Product_vat], [i0].[Quantity]
FROM (
    SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat]
    FROM [Invoice] AS [i]
    WHERE [i].[Invoice_id] = @__id_0
) AS [t]
LEFT JOIN [Invoice_detail] AS [i0] ON [t].[Invoice_id] = [i0].[Invoice_id]
ORDER BY [t].[Invoice_id]
2025-04-03 20:19:17.766 +07:00 [INF] Executing RedirectResult, redirecting to https://sandbox.vnpayment.vn/paymentv2/vpcpay.html?vnp_Amount=220000&vnp_Command=pay&vnp_CreateDate=20250403201917&vnp_CurrCode=VND&vnp_IpAddr=192.168.1.12&vnp_Locale=vn&vnp_OrderInfo=Khach+le+Thanh+to%C3%A1n+h%C3%B3a+%C4%91%C6%A1n+1+2200&vnp_OrderType=other&vnp_ReturnUrl=http%3A%2F%2Flocalhost%3A5172%2FCheckout%2FPaymentCallbackVnpay&vnp_TmnCode=U0IISYRM&vnp_TxnRef=638793083577645779&vnp_Version=2.1.0&vnp_SecureHash=ea2580ba54ee84a19dfd4f818e482974b4e17f264e0e2cd9643c5472cc6d8bf9421ead414b4207baa04b470bc73bcc16d7dd0e7f7ad2e3b1f21b4a00790a81f1.
2025-04-03 20:19:17.769 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API) in 45.9678ms
2025-04-03 20:19:17.772 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 20:19:17.775 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?Id=1 - - - 302 0 - 68.3634ms
2025-04-03 22:34:27.406 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-03 22:34:27.633 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-03 22:34:27.640 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-03 22:34:27.715 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-03 22:34:27.721 +07:00 [INF] Hosting environment: Development
2025-04-03 22:34:27.728 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-03 22:34:28.354 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-03 22:34:28.688 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 340.4200ms
2025-04-03 22:34:28.709 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-03 22:34:28.717 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 7.4999ms
2025-04-03 22:34:29.106 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-03 22:34:29.195 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 89.4433ms
2025-04-03 22:34:29.250 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-03 22:34:29.311 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 61.1555ms
2025-04-03 22:34:55.003 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?Id=1 - -
2025-04-03 22:34:55.088 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 22:34:55.120 +07:00 [INF] Route matched with {action = "CreatePaymentUrlVnpay", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreatePaymentUrlVnpay(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-03 22:34:56.226 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-03 22:34:57.017 +07:00 [INF] Executed DbCommand (67ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Invoice_id], [t].[Amount_due], [t].[Cashier_id], [t].[Check_in_time], [t].[Check_out_time], [t].[Customer_id], [t].[Invoice_discount], [t].[Invoice_note], [t].[Order_id], [t].[Order_type_id], [t].[Other_payment], [t].[Payment_method_id], [t].[Room_id], [t].[Shipper_id], [t].[Status], [t].[Subtotal], [t].[Total_quantity], [t].[Total_vat], [i0].[Invoice_detail_id], [i0].[Invoice_id], [i0].[Price], [i0].[Product_id], [i0].[Product_name], [i0].[Product_note], [i0].[Product_vat], [i0].[Quantity]
FROM (
    SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat]
    FROM [Invoice] AS [i]
    WHERE [i].[Invoice_id] = @__id_0
) AS [t]
LEFT JOIN [Invoice_detail] AS [i0] ON [t].[Invoice_id] = [i0].[Invoice_id]
ORDER BY [t].[Invoice_id]
2025-04-03 22:34:57.228 +07:00 [INF] Executing RedirectResult, redirecting to https://sandbox.vnpayment.vn/paymentv2/vpcpay.html?vnp_Amount=220000&vnp_Command=pay&vnp_CreateDate=20250403223457&vnp_CurrCode=VND&vnp_IpAddr=192.168.1.12&vnp_Locale=vn&vnp_OrderInfo=Khach+le+Thanh+to%C3%A1n+h%C3%B3a+%C4%91%C6%A1n+1+2200&vnp_OrderType=other&vnp_ReturnUrl=http%3A%2F%2Flocalhost%3A5172%2FCheckout%2FPaymentCallbackVnpay&vnp_TmnCode=1MTJPPPJ&vnp_TxnRef=638793164972141753&vnp_Version=2.1.0&vnp_SecureHash=7988a3115c5b9e4fd9227ef83b70a2e9892066e2bf5ac20aaed8e06b7295c991edce9d32a313670f4d5dc42f46eb988c7738e7f27deeda14f9a5efbe5a5ac052.
2025-04-03 22:34:57.244 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API) in 2104.9063ms
2025-04-03 22:34:57.257 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 22:34:57.275 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?Id=1 - - - 302 0 - 2272.0551ms
2025-04-03 22:35:05.619 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?Id=1 - -
2025-04-03 22:35:05.640 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 22:35:05.643 +07:00 [INF] Route matched with {action = "CreatePaymentUrlVnpay", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreatePaymentUrlVnpay(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-03 22:35:05.662 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-03 22:35:05.678 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Invoice_id], [t].[Amount_due], [t].[Cashier_id], [t].[Check_in_time], [t].[Check_out_time], [t].[Customer_id], [t].[Invoice_discount], [t].[Invoice_note], [t].[Order_id], [t].[Order_type_id], [t].[Other_payment], [t].[Payment_method_id], [t].[Room_id], [t].[Shipper_id], [t].[Status], [t].[Subtotal], [t].[Total_quantity], [t].[Total_vat], [i0].[Invoice_detail_id], [i0].[Invoice_id], [i0].[Price], [i0].[Product_id], [i0].[Product_name], [i0].[Product_note], [i0].[Product_vat], [i0].[Quantity]
FROM (
    SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat]
    FROM [Invoice] AS [i]
    WHERE [i].[Invoice_id] = @__id_0
) AS [t]
LEFT JOIN [Invoice_detail] AS [i0] ON [t].[Invoice_id] = [i0].[Invoice_id]
ORDER BY [t].[Invoice_id]
2025-04-03 22:35:05.686 +07:00 [INF] Executing RedirectResult, redirecting to https://sandbox.vnpayment.vn/paymentv2/vpcpay.html?vnp_Amount=220000&vnp_Command=pay&vnp_CreateDate=20250403223505&vnp_CurrCode=VND&vnp_IpAddr=192.168.1.12&vnp_Locale=vn&vnp_OrderInfo=Khach+le+Thanh+to%C3%A1n+h%C3%B3a+%C4%91%C6%A1n+1+2200&vnp_OrderType=other&vnp_ReturnUrl=http%3A%2F%2Flocalhost%3A5172%2FCheckout%2FPaymentCallbackVnpay&vnp_TmnCode=1MTJPPPJ&vnp_TxnRef=638793165056847921&vnp_Version=2.1.0&vnp_SecureHash=21a25e00c20bbb468fd3bccb6e2f36b93965c780efbb1f23fff2e1e04bb768c3973f3e65f7468d2e28e71a45fae109eb31e3f48031ce59f08cddc0d39667ee79.
2025-04-03 22:35:05.689 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API) in 42.7428ms
2025-04-03 22:35:05.692 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 22:35:05.696 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?Id=1 - - - 302 0 - 76.1346ms
2025-04-03 22:38:48.529 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-03 22:38:48.539 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 10.0629ms
2025-04-03 22:38:48.594 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-03 22:38:48.597 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 2.4893ms
2025-04-03 22:38:49.065 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-03 22:38:49.081 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 16.1368ms
2025-04-03 22:38:49.198 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-03 22:38:49.243 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 45.2493ms
2025-04-03 22:39:02.264 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?Id=2 - -
2025-04-03 22:39:02.275 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 22:39:02.282 +07:00 [INF] Route matched with {action = "CreatePaymentUrlVnpay", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreatePaymentUrlVnpay(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-03 22:39:02.380 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-03 22:39:02.411 +07:00 [INF] Executed DbCommand (18ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Invoice_id], [t].[Amount_due], [t].[Cashier_id], [t].[Check_in_time], [t].[Check_out_time], [t].[Customer_id], [t].[Invoice_discount], [t].[Invoice_note], [t].[Order_id], [t].[Order_type_id], [t].[Other_payment], [t].[Payment_method_id], [t].[Room_id], [t].[Shipper_id], [t].[Status], [t].[Subtotal], [t].[Total_quantity], [t].[Total_vat], [i0].[Invoice_detail_id], [i0].[Invoice_id], [i0].[Price], [i0].[Product_id], [i0].[Product_name], [i0].[Product_note], [i0].[Product_vat], [i0].[Quantity]
FROM (
    SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat]
    FROM [Invoice] AS [i]
    WHERE [i].[Invoice_id] = @__id_0
) AS [t]
LEFT JOIN [Invoice_detail] AS [i0] ON [t].[Invoice_id] = [i0].[Invoice_id]
ORDER BY [t].[Invoice_id]
2025-04-03 22:39:02.427 +07:00 [INF] Executing RedirectResult, redirecting to https://sandbox.vnpayment.vn/paymentv2/vpcpay.html?vnp_Amount=14325000&vnp_Command=pay&vnp_CreateDate=20250403223902&vnp_CurrCode=VND&vnp_IpAddr=192.168.1.12&vnp_Locale=vn&vnp_OrderInfo=Khach+le+Thanh+to%C3%A1n+h%C3%B3a+%C4%91%C6%A1n+2+143250&vnp_OrderType=other&vnp_ReturnUrl=http%3A%2F%2Flocalhost%3A5172%2FCheckout%2FPaymentCallbackVnpay&vnp_TmnCode=1MTJPPPJ&vnp_TxnRef=638793167424257838&vnp_Version=2.1.0&vnp_SecureHash=00d7a71abb5ffabb06039a08191b4daed84c38797352db3dc8631644281f3ea1167c098896a26dd213882f72a3eee300c4bb227ee7d416d07e3d5a373369083f.
2025-04-03 22:39:02.433 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API) in 146.1593ms
2025-04-03 22:39:02.439 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 22:39:02.444 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?Id=2 - - - 302 0 - 179.6997ms
2025-04-03 22:39:33.321 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?Id=2 - -
2025-04-03 22:39:33.327 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 22:39:33.335 +07:00 [INF] Route matched with {action = "CreatePaymentUrlVnpay", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreatePaymentUrlVnpay(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-03 22:39:33.346 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-03 22:39:33.357 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Invoice_id], [t].[Amount_due], [t].[Cashier_id], [t].[Check_in_time], [t].[Check_out_time], [t].[Customer_id], [t].[Invoice_discount], [t].[Invoice_note], [t].[Order_id], [t].[Order_type_id], [t].[Other_payment], [t].[Payment_method_id], [t].[Room_id], [t].[Shipper_id], [t].[Status], [t].[Subtotal], [t].[Total_quantity], [t].[Total_vat], [i0].[Invoice_detail_id], [i0].[Invoice_id], [i0].[Price], [i0].[Product_id], [i0].[Product_name], [i0].[Product_note], [i0].[Product_vat], [i0].[Quantity]
FROM (
    SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat]
    FROM [Invoice] AS [i]
    WHERE [i].[Invoice_id] = @__id_0
) AS [t]
LEFT JOIN [Invoice_detail] AS [i0] ON [t].[Invoice_id] = [i0].[Invoice_id]
ORDER BY [t].[Invoice_id]
2025-04-03 22:39:33.372 +07:00 [INF] Executing RedirectResult, redirecting to https://sandbox.vnpayment.vn/paymentv2/vpcpay.html?vnp_Amount=14325000&vnp_Command=pay&vnp_CreateDate=20250403223933&vnp_CurrCode=VND&vnp_IpAddr=192.168.1.12&vnp_Locale=vn&vnp_OrderInfo=Khach+le+Thanh+to%C3%A1n+h%C3%B3a+%C4%91%C6%A1n+2+143250&vnp_OrderType=other&vnp_ReturnUrl=http%3A%2F%2Flocalhost%3A5172%2FCheckout%2FPaymentCallbackVnpay&vnp_TmnCode=1MTJPPPJ&vnp_TxnRef=638793167733693806&vnp_Version=2.1.0&vnp_SecureHash=45c1d90acc805d4672e5e5e52a414b6edd3b3d1a830af58b71d6ae1ed4da269e879b93ab565b295d9cb288360feb6b0c61a075b70264f3dcb88cf26e493de9ec.
2025-04-03 22:39:33.376 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API) in 31.7265ms
2025-04-03 22:39:33.382 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 22:39:33.386 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?Id=2 - - - 302 0 - 64.4752ms
2025-04-03 22:49:34.964 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?Id=2 - -
2025-04-03 22:49:34.968 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 22:49:34.971 +07:00 [INF] Route matched with {action = "CreatePaymentUrlVnpay", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreatePaymentUrlVnpay(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-03 22:49:34.983 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-03 22:49:35.016 +07:00 [INF] Executed DbCommand (21ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Invoice_id], [t].[Amount_due], [t].[Cashier_id], [t].[Check_in_time], [t].[Check_out_time], [t].[Customer_id], [t].[Invoice_discount], [t].[Invoice_note], [t].[Order_id], [t].[Order_type_id], [t].[Other_payment], [t].[Payment_method_id], [t].[Room_id], [t].[Shipper_id], [t].[Status], [t].[Subtotal], [t].[Total_quantity], [t].[Total_vat], [i0].[Invoice_detail_id], [i0].[Invoice_id], [i0].[Price], [i0].[Product_id], [i0].[Product_name], [i0].[Product_note], [i0].[Product_vat], [i0].[Quantity]
FROM (
    SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat]
    FROM [Invoice] AS [i]
    WHERE [i].[Invoice_id] = @__id_0
) AS [t]
LEFT JOIN [Invoice_detail] AS [i0] ON [t].[Invoice_id] = [i0].[Invoice_id]
ORDER BY [t].[Invoice_id]
2025-04-03 22:49:35.023 +07:00 [INF] Executing RedirectResult, redirecting to https://sandbox.vnpayment.vn/paymentv2/vpcpay.html?vnp_Amount=14325000&vnp_Command=pay&vnp_CreateDate=20250403224935&vnp_CurrCode=VND&vnp_IpAddr=192.168.1.12&vnp_Locale=vn&vnp_OrderInfo=Khach+le+Thanh+to%C3%A1n+h%C3%B3a+%C4%91%C6%A1n+2+143250&vnp_OrderType=other&vnp_ReturnUrl=http%3A%2F%2Flocalhost%3A5172%2FCheckout%2FPaymentCallbackVnpay&vnp_TmnCode=1MTJPPPJ&vnp_TxnRef=638793173750216289&vnp_Version=2.1.0&vnp_SecureHash=af39b6bec5063b601d9b4e49d8a3471ae194d0690e5b87046606cd8137c0f5275f70ce5f9b73fcf6d653878d5e728c0f79d755f9e72f245586bedd47bc2f9d66.
2025-04-03 22:49:35.025 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API) in 43.9832ms
2025-04-03 22:49:35.027 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 22:49:35.028 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?Id=2 - - - 302 0 - 64.0343ms
2025-04-03 22:49:49.974 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?Id=2 - -
2025-04-03 22:49:49.977 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 22:49:49.982 +07:00 [INF] Route matched with {action = "CreatePaymentUrlVnpay", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreatePaymentUrlVnpay(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-03 22:49:49.993 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-03 22:49:50.039 +07:00 [INF] Executed DbCommand (38ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Invoice_id], [t].[Amount_due], [t].[Cashier_id], [t].[Check_in_time], [t].[Check_out_time], [t].[Customer_id], [t].[Invoice_discount], [t].[Invoice_note], [t].[Order_id], [t].[Order_type_id], [t].[Other_payment], [t].[Payment_method_id], [t].[Room_id], [t].[Shipper_id], [t].[Status], [t].[Subtotal], [t].[Total_quantity], [t].[Total_vat], [i0].[Invoice_detail_id], [i0].[Invoice_id], [i0].[Price], [i0].[Product_id], [i0].[Product_name], [i0].[Product_note], [i0].[Product_vat], [i0].[Quantity]
FROM (
    SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat]
    FROM [Invoice] AS [i]
    WHERE [i].[Invoice_id] = @__id_0
) AS [t]
LEFT JOIN [Invoice_detail] AS [i0] ON [t].[Invoice_id] = [i0].[Invoice_id]
ORDER BY [t].[Invoice_id]
2025-04-03 22:49:50.052 +07:00 [INF] Executing RedirectResult, redirecting to https://sandbox.vnpayment.vn/paymentv2/vpcpay.html?vnp_Amount=14325000&vnp_Command=pay&vnp_CreateDate=20250403224950&vnp_CurrCode=VND&vnp_IpAddr=192.168.1.12&vnp_Locale=vn&vnp_OrderInfo=Khach+le+Thanh+to%C3%A1n+h%C3%B3a+%C4%91%C6%A1n+2+143250&vnp_OrderType=other&vnp_ReturnUrl=http%3A%2F%2Flocalhost%3A5172%2FCheckout%2FPaymentCallbackVnpay&vnp_TmnCode=1MTJPPPJ&vnp_TxnRef=638793173900508953&vnp_Version=2.1.0&vnp_SecureHash=4a7fb29bbb00280cf8239ef26b175a6c4887f0a512035e9d994e678122ac34dfb6d58659a26318fb6d5236639e799f4c33a4bfb996b80757e3cb8cc7b17f48d5.
2025-04-03 22:49:50.057 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API) in 67.4203ms
2025-04-03 22:49:50.065 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 22:49:50.071 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?Id=2 - - - 302 0 - 97.0977ms
2025-04-03 22:49:55.178 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?Id=2 - -
2025-04-03 22:49:55.192 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 22:49:55.200 +07:00 [INF] Route matched with {action = "CreatePaymentUrlVnpay", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreatePaymentUrlVnpay(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-03 22:49:55.207 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-03 22:49:55.215 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Invoice_id], [t].[Amount_due], [t].[Cashier_id], [t].[Check_in_time], [t].[Check_out_time], [t].[Customer_id], [t].[Invoice_discount], [t].[Invoice_note], [t].[Order_id], [t].[Order_type_id], [t].[Other_payment], [t].[Payment_method_id], [t].[Room_id], [t].[Shipper_id], [t].[Status], [t].[Subtotal], [t].[Total_quantity], [t].[Total_vat], [i0].[Invoice_detail_id], [i0].[Invoice_id], [i0].[Price], [i0].[Product_id], [i0].[Product_name], [i0].[Product_note], [i0].[Product_vat], [i0].[Quantity]
FROM (
    SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat]
    FROM [Invoice] AS [i]
    WHERE [i].[Invoice_id] = @__id_0
) AS [t]
LEFT JOIN [Invoice_detail] AS [i0] ON [t].[Invoice_id] = [i0].[Invoice_id]
ORDER BY [t].[Invoice_id]
2025-04-03 22:49:55.225 +07:00 [INF] Executing RedirectResult, redirecting to https://sandbox.vnpayment.vn/paymentv2/vpcpay.html?vnp_Amount=14325000&vnp_Command=pay&vnp_CreateDate=20250403224955&vnp_CurrCode=VND&vnp_IpAddr=192.168.1.12&vnp_Locale=vn&vnp_OrderInfo=Khach+le+Thanh+to%C3%A1n+h%C3%B3a+%C4%91%C6%A1n+2+143250&vnp_OrderType=other&vnp_ReturnUrl=http%3A%2F%2Flocalhost%3A5172%2FCheckout%2FPaymentCallbackVnpay&vnp_TmnCode=1MTJPPPJ&vnp_TxnRef=638793173952222564&vnp_Version=2.1.0&vnp_SecureHash=8cba4eb7c412549e248a1d512c094b9ac7f04b296e8edd6894527700ae65b697f37c43398473feb8541cd65b7cf5d2712cd7c3f9275835b13bc36095b1f9208b.
2025-04-03 22:49:55.231 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API) in 25.4343ms
2025-04-03 22:49:55.239 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 22:49:55.245 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?Id=2 - - - 302 0 - 66.5803ms
2025-04-03 22:59:17.255 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-03 22:59:17.475 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-03 22:59:17.482 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-03 22:59:17.570 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-03 22:59:17.577 +07:00 [INF] Hosting environment: Development
2025-04-03 22:59:17.583 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-03 22:59:18.038 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-03 22:59:18.276 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 243.6650ms
2025-04-03 22:59:18.322 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-03 22:59:18.333 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 11.2513ms
2025-04-03 22:59:18.615 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-03 22:59:18.670 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 55.3416ms
2025-04-03 22:59:18.809 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-03 22:59:18.903 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 94.0801ms
2025-04-03 22:59:27.072 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?Id=1 - -
2025-04-03 22:59:27.195 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 22:59:27.235 +07:00 [INF] Route matched with {action = "CreatePaymentUrlVnpay", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreatePaymentUrlVnpay(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-03 22:59:28.735 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-03 22:59:29.583 +07:00 [INF] Executed DbCommand (69ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Invoice_id], [t].[Amount_due], [t].[Cashier_id], [t].[Check_in_time], [t].[Check_out_time], [t].[Customer_id], [t].[Invoice_discount], [t].[Invoice_note], [t].[Order_id], [t].[Order_type_id], [t].[Other_payment], [t].[Payment_method_id], [t].[Room_id], [t].[Shipper_id], [t].[Status], [t].[Subtotal], [t].[Total_quantity], [t].[Total_vat], [i0].[Invoice_detail_id], [i0].[Invoice_id], [i0].[Price], [i0].[Product_id], [i0].[Product_name], [i0].[Product_note], [i0].[Product_vat], [i0].[Quantity]
FROM (
    SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat]
    FROM [Invoice] AS [i]
    WHERE [i].[Invoice_id] = @__id_0
) AS [t]
LEFT JOIN [Invoice_detail] AS [i0] ON [t].[Invoice_id] = [i0].[Invoice_id]
ORDER BY [t].[Invoice_id]
2025-04-03 22:59:29.819 +07:00 [INF] Executing RedirectResult, redirecting to https://sandbox.vnpayment.vn/paymentv2/vpcpay.html?vnp_Amount=220000&vnp_Command=pay&vnp_CreateDate=20250403225929&vnp_CurrCode=VND&vnp_IpAddr=192.168.1.12&vnp_Locale=vn&vnp_OrderInfo=Khach+le+Thanh+to%C3%A1n+h%C3%B3a+%C4%91%C6%A1n+1+2200&vnp_OrderType=other&vnp_ReturnUrl=http%3A%2F%2Flocalhost%3A5172%2FCheckout%2FPaymentCallbackVnpay&vnp_TmnCode=1MTJPPPJ&vnp_TxnRef=638793179697991753&vnp_Version=2.1.0&vnp_SecureHash=ac045204efc2cd6a59550aa8866df17b33b813d8db2b20ad8b62eabb6f9ee719ac436e49993b60467ff1143e6e8be5139776f9aa75ada4a0dfc3d16b3338ac85.
2025-04-03 22:59:29.837 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API) in 2581.5089ms
2025-04-03 22:59:29.847 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 22:59:29.862 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?Id=1 - - - 302 0 - 2790.3813ms
2025-04-03 22:59:53.601 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?Id=1 - -
2025-04-03 22:59:53.618 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 22:59:53.625 +07:00 [INF] Route matched with {action = "CreatePaymentUrlVnpay", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreatePaymentUrlVnpay(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-03 22:59:53.645 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-03 22:59:53.695 +07:00 [INF] Executed DbCommand (30ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Invoice_id], [t].[Amount_due], [t].[Cashier_id], [t].[Check_in_time], [t].[Check_out_time], [t].[Customer_id], [t].[Invoice_discount], [t].[Invoice_note], [t].[Order_id], [t].[Order_type_id], [t].[Other_payment], [t].[Payment_method_id], [t].[Room_id], [t].[Shipper_id], [t].[Status], [t].[Subtotal], [t].[Total_quantity], [t].[Total_vat], [i0].[Invoice_detail_id], [i0].[Invoice_id], [i0].[Price], [i0].[Product_id], [i0].[Product_name], [i0].[Product_note], [i0].[Product_vat], [i0].[Quantity]
FROM (
    SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat]
    FROM [Invoice] AS [i]
    WHERE [i].[Invoice_id] = @__id_0
) AS [t]
LEFT JOIN [Invoice_detail] AS [i0] ON [t].[Invoice_id] = [i0].[Invoice_id]
ORDER BY [t].[Invoice_id]
2025-04-03 22:59:53.711 +07:00 [INF] Executing RedirectResult, redirecting to https://sandbox.vnpayment.vn/paymentv2/vpcpay.html?vnp_Amount=220000&vnp_Command=pay&vnp_CreateDate=20250403225953&vnp_CurrCode=VND&vnp_IpAddr=192.168.1.12&vnp_Locale=vn&vnp_OrderInfo=Khach+le+Thanh+to%C3%A1n+h%C3%B3a+%C4%91%C6%A1n+1+2200&vnp_OrderType=other&vnp_ReturnUrl=http%3A%2F%2Flocalhost%3A5172%2FCheckout%2FPaymentCallbackVnpay&vnp_TmnCode=1MTJPPPJ&vnp_TxnRef=638793179937102632&vnp_Version=2.1.0&vnp_SecureHash=008701dc2616bfa146a4dbf327aef2ac865f1d5b2f1828359b9d4a74f6ee25fa4503ba6fd40f087a1804f6a3257ee3c8ca92e1720902bd3a19da313284d924d2.
2025-04-03 22:59:53.718 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API) in 86.9177ms
2025-04-03 22:59:53.728 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 22:59:53.738 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?Id=1 - - - 302 0 - 136.3698ms
2025-04-03 23:17:42.767 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-03 23:17:42.988 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-03 23:17:42.993 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-03 23:17:43.085 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-03 23:17:43.091 +07:00 [INF] Hosting environment: Development
2025-04-03 23:17:43.094 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-03 23:17:43.968 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-03 23:17:44.327 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 364.7696ms
2025-04-03 23:17:44.362 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-03 23:17:44.370 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 8.0266ms
2025-04-03 23:17:44.839 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-03 23:17:44.900 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 60.5489ms
2025-04-03 23:17:44.997 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-03 23:17:45.069 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 71.8504ms
2025-04-03 23:17:53.334 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?Id=2 - -
2025-04-03 23:17:53.425 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 23:17:53.463 +07:00 [INF] Route matched with {action = "CreatePaymentUrlVnpay", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreatePaymentUrlVnpay(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-03 23:17:54.887 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-03 23:17:55.834 +07:00 [INF] Executed DbCommand (91ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Invoice_id], [t].[Amount_due], [t].[Cashier_id], [t].[Check_in_time], [t].[Check_out_time], [t].[Customer_id], [t].[Invoice_discount], [t].[Invoice_note], [t].[Order_id], [t].[Order_type_id], [t].[Other_payment], [t].[Payment_method_id], [t].[Room_id], [t].[Shipper_id], [t].[Status], [t].[Subtotal], [t].[Total_quantity], [t].[Total_vat], [i0].[Invoice_detail_id], [i0].[Invoice_id], [i0].[Price], [i0].[Product_id], [i0].[Product_name], [i0].[Product_note], [i0].[Product_vat], [i0].[Quantity]
FROM (
    SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat]
    FROM [Invoice] AS [i]
    WHERE [i].[Invoice_id] = @__id_0
) AS [t]
LEFT JOIN [Invoice_detail] AS [i0] ON [t].[Invoice_id] = [i0].[Invoice_id]
ORDER BY [t].[Invoice_id]
2025-04-03 23:17:56.047 +07:00 [INF] Executing RedirectResult, redirecting to https://sandbox.vnpayment.vn/paymentv2/vpcpay.html?vnp_Amount=14325000&vnp_Command=pay&vnp_CreateDate=20250403231756&vnp_CurrCode=VND&vnp_IpAddr=192.168.1.12&vnp_Locale=vn&vnp_OrderInfo=Khach+le+2+143250&vnp_OrderType=other&vnp_ReturnUrl=http%3A%2F%2Flocalhost%3A5172%2FCheckout%2FPaymentCallbackVnpay&vnp_TmnCode=1MTJPPPJ&vnp_TxnRef=638793190760302528&vnp_Version=2.1.0&vnp_SecureHash=8e549882ea60466d54c07fd623e4f8b8fca542e982b2548594c1a1fc929d4ad5446f5ddb39a948dbeb010ac6f3582e44412a1315ee27a8cc3f4909a951aa040e.
2025-04-03 23:17:56.062 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API) in 2576.5065ms
2025-04-03 23:17:56.072 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 23:17:56.086 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?Id=2 - - - 302 0 - 2751.7265ms
2025-04-03 23:18:03.416 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/Return - -
2025-04-03 23:18:03.430 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.PaymentCallbackVnpay (BepKhoiBackend.API)'
2025-04-03 23:18:03.437 +07:00 [INF] Route matched with {action = "PaymentCallbackVnpay", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult PaymentCallbackVnpay() on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-03 23:18:03.458 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.PaymentCallbackVnpay (BepKhoiBackend.API) in 14.5746ms
2025-04-03 23:18:03.464 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.PaymentCallbackVnpay (BepKhoiBackend.API)'
2025-04-03 23:18:03.471 +07:00 [ERR] Error: Input string was not in a correct format.
2025-04-03 23:18:03.476 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/Return - - - 500 - application/json 60.0497ms
2025-04-03 23:18:23.574 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?Id=2 - -
2025-04-03 23:18:23.587 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 23:18:23.592 +07:00 [INF] Route matched with {action = "CreatePaymentUrlVnpay", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreatePaymentUrlVnpay(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-03 23:18:23.614 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-03 23:18:23.679 +07:00 [INF] Executed DbCommand (45ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Invoice_id], [t].[Amount_due], [t].[Cashier_id], [t].[Check_in_time], [t].[Check_out_time], [t].[Customer_id], [t].[Invoice_discount], [t].[Invoice_note], [t].[Order_id], [t].[Order_type_id], [t].[Other_payment], [t].[Payment_method_id], [t].[Room_id], [t].[Shipper_id], [t].[Status], [t].[Subtotal], [t].[Total_quantity], [t].[Total_vat], [i0].[Invoice_detail_id], [i0].[Invoice_id], [i0].[Price], [i0].[Product_id], [i0].[Product_name], [i0].[Product_note], [i0].[Product_vat], [i0].[Quantity]
FROM (
    SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat]
    FROM [Invoice] AS [i]
    WHERE [i].[Invoice_id] = @__id_0
) AS [t]
LEFT JOIN [Invoice_detail] AS [i0] ON [t].[Invoice_id] = [i0].[Invoice_id]
ORDER BY [t].[Invoice_id]
2025-04-03 23:18:23.700 +07:00 [INF] Executing RedirectResult, redirecting to https://sandbox.vnpayment.vn/paymentv2/vpcpay.html?vnp_Amount=14325000&vnp_Command=pay&vnp_CreateDate=20250403231823&vnp_CurrCode=VND&vnp_IpAddr=192.168.1.12&vnp_Locale=vn&vnp_OrderInfo=Khach+le+2+143250&vnp_OrderType=other&vnp_ReturnUrl=http%3A%2F%2Flocalhost%3A5172%2FCheckout%2FPaymentCallbackVnpay&vnp_TmnCode=1MTJPPPJ&vnp_TxnRef=638793191036985892&vnp_Version=2.1.0&vnp_SecureHash=5c24ee75e3880f5e4e7b5b554aa31342e1b08f71b4da1e1a0527f494f6fea6f644419dd152485fb69dfbf872f8e8bc5b0f4a3f017322d4141c4a45ce9b61b996.
2025-04-03 23:18:23.709 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API) in 107.3482ms
2025-04-03 23:18:23.719 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 23:18:23.731 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?Id=2 - - - 302 0 - 156.3399ms
2025-04-03 23:19:15.629 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?Id=2 - -
2025-04-03 23:19:15.633 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 23:19:15.639 +07:00 [INF] Route matched with {action = "CreatePaymentUrlVnpay", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreatePaymentUrlVnpay(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-03 23:19:15.766 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-03 23:19:15.787 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Invoice_id], [t].[Amount_due], [t].[Cashier_id], [t].[Check_in_time], [t].[Check_out_time], [t].[Customer_id], [t].[Invoice_discount], [t].[Invoice_note], [t].[Order_id], [t].[Order_type_id], [t].[Other_payment], [t].[Payment_method_id], [t].[Room_id], [t].[Shipper_id], [t].[Status], [t].[Subtotal], [t].[Total_quantity], [t].[Total_vat], [i0].[Invoice_detail_id], [i0].[Invoice_id], [i0].[Price], [i0].[Product_id], [i0].[Product_name], [i0].[Product_note], [i0].[Product_vat], [i0].[Quantity]
FROM (
    SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat]
    FROM [Invoice] AS [i]
    WHERE [i].[Invoice_id] = @__id_0
) AS [t]
LEFT JOIN [Invoice_detail] AS [i0] ON [t].[Invoice_id] = [i0].[Invoice_id]
ORDER BY [t].[Invoice_id]
2025-04-03 23:19:15.800 +07:00 [INF] Executing RedirectResult, redirecting to https://sandbox.vnpayment.vn/paymentv2/vpcpay.html?vnp_Amount=14325000&vnp_Command=pay&vnp_CreateDate=20250403231915&vnp_CurrCode=VND&vnp_IpAddr=192.168.1.12&vnp_Locale=vn&vnp_OrderInfo=Khach+le+2+143250&vnp_OrderType=other&vnp_ReturnUrl=http%3A%2F%2Flocalhost%3A5172%2FCheckout%2FPaymentCallbackVnpay&vnp_TmnCode=1MTJPPPJ&vnp_TxnRef=638793191557982399&vnp_Version=2.1.0&vnp_SecureHash=635a64343ee4f68967f9de7fab51300b25632299db93f793b9fc4d551e8684bc7a43e684acfdf5c67af261e916749f29460f78ce76ab09bb60d62902b8275f3d.
2025-04-03 23:19:15.803 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API) in 151.6831ms
2025-04-03 23:19:15.805 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 23:19:15.807 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?Id=2 - - - 302 0 - 178.1979ms
2025-04-03 23:19:19.731 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/Return - -
2025-04-03 23:19:19.734 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.PaymentCallbackVnpay (BepKhoiBackend.API)'
2025-04-03 23:19:19.738 +07:00 [INF] Route matched with {action = "PaymentCallbackVnpay", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult PaymentCallbackVnpay() on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-03 23:19:19.748 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.PaymentCallbackVnpay (BepKhoiBackend.API) in 1.0207ms
2025-04-03 23:19:19.755 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.PaymentCallbackVnpay (BepKhoiBackend.API)'
2025-04-03 23:19:19.760 +07:00 [ERR] Error: Input string was not in a correct format.
2025-04-03 23:19:19.765 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/Return - - - 500 - application/json 33.5106ms
2025-04-03 23:23:58.163 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-03 23:23:58.518 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-03 23:23:58.524 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-03 23:23:58.631 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-03 23:23:58.635 +07:00 [INF] Hosting environment: Development
2025-04-03 23:23:58.639 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-03 23:23:58.831 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-03 23:23:59.120 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 296.0042ms
2025-04-03 23:23:59.154 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-03 23:23:59.154 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-03 23:23:59.166 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 11.8154ms
2025-04-03 23:23:59.230 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 75.5729ms
2025-04-03 23:23:59.667 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-03 23:23:59.753 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 85.2247ms
2025-04-03 23:24:07.396 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?Id=2 - -
2025-04-03 23:24:07.508 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 23:24:07.551 +07:00 [INF] Route matched with {action = "CreatePaymentUrlVnpay", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreatePaymentUrlVnpay(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-03 23:24:09.184 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-03 23:24:10.087 +07:00 [INF] Executed DbCommand (50ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Invoice_id], [t].[Amount_due], [t].[Cashier_id], [t].[Check_in_time], [t].[Check_out_time], [t].[Customer_id], [t].[Invoice_discount], [t].[Invoice_note], [t].[Order_id], [t].[Order_type_id], [t].[Other_payment], [t].[Payment_method_id], [t].[Room_id], [t].[Shipper_id], [t].[Status], [t].[Subtotal], [t].[Total_quantity], [t].[Total_vat], [i0].[Invoice_detail_id], [i0].[Invoice_id], [i0].[Price], [i0].[Product_id], [i0].[Product_name], [i0].[Product_note], [i0].[Product_vat], [i0].[Quantity]
FROM (
    SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat]
    FROM [Invoice] AS [i]
    WHERE [i].[Invoice_id] = @__id_0
) AS [t]
LEFT JOIN [Invoice_detail] AS [i0] ON [t].[Invoice_id] = [i0].[Invoice_id]
ORDER BY [t].[Invoice_id]
2025-04-03 23:24:10.296 +07:00 [INF] Executing RedirectResult, redirecting to https://sandbox.vnpayment.vn/paymentv2/vpcpay.html?vnp_Amount=14325000&vnp_Command=pay&vnp_CreateDate=20250403232410&vnp_CurrCode=VND&vnp_IpAddr=192.168.1.12&vnp_Locale=vn&vnp_OrderInfo=Khach+le+2+143250&vnp_OrderType=other&vnp_ReturnUrl=http%3A%2F%2Flocalhost%3A5172%2FCheckout%2FPaymentCallbackVnpay&vnp_TmnCode=1MTJPPPJ&vnp_TxnRef=638793194502796103&vnp_Version=2.1.0&vnp_SecureHash=f7a12494b1328eba3d5b2738525eac5a4ef4fa0ee1019290d1b543ec6dda86d68072b8dd9a89c50ca67886293721ed1ba7cd8ea4a4d19201818946403a7edb74.
2025-04-03 23:24:10.316 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API) in 2738.6654ms
2025-04-03 23:24:10.328 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 23:24:10.347 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?Id=2 - - - 302 0 - 2950.2389ms
2025-04-03 23:24:17.492 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?Id=2 - -
2025-04-03 23:24:17.514 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 23:24:17.522 +07:00 [INF] Route matched with {action = "CreatePaymentUrlVnpay", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreatePaymentUrlVnpay(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-03 23:24:17.556 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-03 23:24:17.579 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Invoice_id], [t].[Amount_due], [t].[Cashier_id], [t].[Check_in_time], [t].[Check_out_time], [t].[Customer_id], [t].[Invoice_discount], [t].[Invoice_note], [t].[Order_id], [t].[Order_type_id], [t].[Other_payment], [t].[Payment_method_id], [t].[Room_id], [t].[Shipper_id], [t].[Status], [t].[Subtotal], [t].[Total_quantity], [t].[Total_vat], [i0].[Invoice_detail_id], [i0].[Invoice_id], [i0].[Price], [i0].[Product_id], [i0].[Product_name], [i0].[Product_note], [i0].[Product_vat], [i0].[Quantity]
FROM (
    SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat]
    FROM [Invoice] AS [i]
    WHERE [i].[Invoice_id] = @__id_0
) AS [t]
LEFT JOIN [Invoice_detail] AS [i0] ON [t].[Invoice_id] = [i0].[Invoice_id]
ORDER BY [t].[Invoice_id]
2025-04-03 23:24:17.592 +07:00 [INF] Executing RedirectResult, redirecting to https://sandbox.vnpayment.vn/paymentv2/vpcpay.html?vnp_Amount=14325000&vnp_Command=pay&vnp_CreateDate=20250403232417&vnp_CurrCode=VND&vnp_IpAddr=192.168.1.12&vnp_Locale=vn&vnp_OrderInfo=Khach+le+2+143250&vnp_OrderType=other&vnp_ReturnUrl=http%3A%2F%2Flocalhost%3A5172%2FCheckout%2FPaymentCallbackVnpay&vnp_TmnCode=1MTJPPPJ&vnp_TxnRef=638793194575904481&vnp_Version=2.1.0&vnp_SecureHash=ded36169bc78d6b4db29e2b05b84739e3591a84f7b53e0299360fc9401bffecf9e39c9a1be197a0ab64ffcd175915c9a53c11a97c6e7345371d1817e48a21d51.
2025-04-03 23:24:17.600 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API) in 62.3419ms
2025-04-03 23:24:17.609 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 23:24:17.615 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?Id=2 - - - 302 0 - 122.5121ms
2025-04-03 23:25:14.304 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/Return - -
2025-04-03 23:25:14.313 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.PaymentCallbackVnpay (BepKhoiBackend.API)'
2025-04-03 23:25:14.322 +07:00 [INF] Route matched with {action = "PaymentCallbackVnpay", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult PaymentCallbackVnpay() on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-03 23:25:14.339 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.PaymentCallbackVnpay (BepKhoiBackend.API) in 12.9164ms
2025-04-03 23:25:14.343 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.PaymentCallbackVnpay (BepKhoiBackend.API)'
2025-04-03 23:25:14.352 +07:00 [ERR] Error: Input string was not in a correct format.
2025-04-03 23:25:14.362 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/Return - - - 500 - application/json 57.9165ms
2025-04-03 23:30:21.741 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-03 23:30:21.756 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 14.6132ms
2025-04-03 23:30:21.803 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-03 23:30:21.805 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-03 23:30:21.808 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 2.7846ms
2025-04-03 23:30:21.820 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 17.4249ms
2025-04-03 23:30:22.598 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-03 23:30:22.646 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 48.1730ms
2025-04-03 23:30:35.817 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?Id=2 - -
2025-04-03 23:30:35.821 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 23:30:35.830 +07:00 [INF] Route matched with {action = "CreatePaymentUrlVnpay", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreatePaymentUrlVnpay(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-03 23:30:35.918 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-03 23:30:35.955 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Invoice_id], [t].[Amount_due], [t].[Cashier_id], [t].[Check_in_time], [t].[Check_out_time], [t].[Customer_id], [t].[Invoice_discount], [t].[Invoice_note], [t].[Order_id], [t].[Order_type_id], [t].[Other_payment], [t].[Payment_method_id], [t].[Room_id], [t].[Shipper_id], [t].[Status], [t].[Subtotal], [t].[Total_quantity], [t].[Total_vat], [i0].[Invoice_detail_id], [i0].[Invoice_id], [i0].[Price], [i0].[Product_id], [i0].[Product_name], [i0].[Product_note], [i0].[Product_vat], [i0].[Quantity]
FROM (
    SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat]
    FROM [Invoice] AS [i]
    WHERE [i].[Invoice_id] = @__id_0
) AS [t]
LEFT JOIN [Invoice_detail] AS [i0] ON [t].[Invoice_id] = [i0].[Invoice_id]
ORDER BY [t].[Invoice_id]
2025-04-03 23:30:35.974 +07:00 [INF] Executing RedirectResult, redirecting to https://sandbox.vnpayment.vn/paymentv2/vpcpay.html?vnp_Amount=14325000&vnp_Command=pay&vnp_CreateDate=20250403233035&vnp_CurrCode=VND&vnp_IpAddr=192.168.1.12&vnp_Locale=vn&vnp_OrderInfo=Khach+le+2+143250&vnp_OrderType=other&vnp_ReturnUrl=file%3A%2F%2F%2FC%3A%2FUsers%2Fabc%2FDesktop%2FNew%2520Text%2520Document.html&vnp_TmnCode=1MTJPPPJ&vnp_TxnRef=638793198359732036&vnp_Version=2.1.0&vnp_SecureHash=59b30443b469492329ea07ae3b06f586d0f375286ca8d187ab5652e7520cf3383009305e81be5afc27543f375e033896af46693810a1ccef2462206da418902c.
2025-04-03 23:30:35.983 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API) in 149.8986ms
2025-04-03 23:30:35.994 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 23:30:36.002 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?Id=2 - - - 302 0 - 184.9096ms
2025-04-03 23:30:42.219 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?Id=2 - -
2025-04-03 23:30:42.225 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 23:30:42.233 +07:00 [INF] Route matched with {action = "CreatePaymentUrlVnpay", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreatePaymentUrlVnpay(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-03 23:30:42.240 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-03 23:30:42.250 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Invoice_id], [t].[Amount_due], [t].[Cashier_id], [t].[Check_in_time], [t].[Check_out_time], [t].[Customer_id], [t].[Invoice_discount], [t].[Invoice_note], [t].[Order_id], [t].[Order_type_id], [t].[Other_payment], [t].[Payment_method_id], [t].[Room_id], [t].[Shipper_id], [t].[Status], [t].[Subtotal], [t].[Total_quantity], [t].[Total_vat], [i0].[Invoice_detail_id], [i0].[Invoice_id], [i0].[Price], [i0].[Product_id], [i0].[Product_name], [i0].[Product_note], [i0].[Product_vat], [i0].[Quantity]
FROM (
    SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat]
    FROM [Invoice] AS [i]
    WHERE [i].[Invoice_id] = @__id_0
) AS [t]
LEFT JOIN [Invoice_detail] AS [i0] ON [t].[Invoice_id] = [i0].[Invoice_id]
ORDER BY [t].[Invoice_id]
2025-04-03 23:30:42.258 +07:00 [INF] Executing RedirectResult, redirecting to https://sandbox.vnpayment.vn/paymentv2/vpcpay.html?vnp_Amount=14325000&vnp_Command=pay&vnp_CreateDate=20250403233042&vnp_CurrCode=VND&vnp_IpAddr=192.168.1.12&vnp_Locale=vn&vnp_OrderInfo=Khach+le+2+143250&vnp_OrderType=other&vnp_ReturnUrl=file%3A%2F%2F%2FC%3A%2FUsers%2Fabc%2FDesktop%2FNew%2520Text%2520Document.html&vnp_TmnCode=1MTJPPPJ&vnp_TxnRef=638793198422567290&vnp_Version=2.1.0&vnp_SecureHash=dc47909376cc7c27d1fc2a0c63c0d99b5be9da86a7fcf040be239b6db6c55bee9b1f1502be4c6b913a2f6cc4fbe0d0d02bcbeabb3edfdad5d923b936c5b82786.
2025-04-03 23:30:42.262 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API) in 23.1297ms
2025-04-03 23:30:42.264 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 23:30:42.266 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?Id=2 - - - 302 0 - 47.5481ms
2025-04-03 23:31:36.537 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?Id=2 - -
2025-04-03 23:31:36.541 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 23:31:36.546 +07:00 [INF] Route matched with {action = "CreatePaymentUrlVnpay", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreatePaymentUrlVnpay(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-03 23:31:36.558 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-03 23:31:36.583 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Invoice_id], [t].[Amount_due], [t].[Cashier_id], [t].[Check_in_time], [t].[Check_out_time], [t].[Customer_id], [t].[Invoice_discount], [t].[Invoice_note], [t].[Order_id], [t].[Order_type_id], [t].[Other_payment], [t].[Payment_method_id], [t].[Room_id], [t].[Shipper_id], [t].[Status], [t].[Subtotal], [t].[Total_quantity], [t].[Total_vat], [i0].[Invoice_detail_id], [i0].[Invoice_id], [i0].[Price], [i0].[Product_id], [i0].[Product_name], [i0].[Product_note], [i0].[Product_vat], [i0].[Quantity]
FROM (
    SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat]
    FROM [Invoice] AS [i]
    WHERE [i].[Invoice_id] = @__id_0
) AS [t]
LEFT JOIN [Invoice_detail] AS [i0] ON [t].[Invoice_id] = [i0].[Invoice_id]
ORDER BY [t].[Invoice_id]
2025-04-03 23:31:36.597 +07:00 [INF] Executing RedirectResult, redirecting to https://sandbox.vnpayment.vn/paymentv2/vpcpay.html?vnp_Amount=14325000&vnp_Command=pay&vnp_CreateDate=20250403233136&vnp_CurrCode=VND&vnp_IpAddr=192.168.1.12&vnp_Locale=vn&vnp_OrderInfo=Khach+le+2+143250&vnp_OrderType=other&vnp_ReturnUrl=file%3A%2F%2F%2FC%3A%2FUsers%2Fabc%2FDesktop%2FNew%2520Text%2520Document.html&vnp_TmnCode=1MTJPPPJ&vnp_TxnRef=638793198965956872&vnp_Version=2.1.0&vnp_SecureHash=f34dd9249f4271fffff89d24002d51fd7e39c9682c8f2637a9dfd5b70cf0d8c00888752853d21ade8abae7c8c0a5d23404c185ccf5af09e0bd650dc99292dc6c.
2025-04-03 23:31:36.601 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API) in 45.204ms
2025-04-03 23:31:36.603 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 23:31:36.606 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?Id=2 - - - 302 0 - 68.5543ms
2025-04-03 23:31:39.771 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?Id=2 - -
2025-04-03 23:31:39.780 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 23:31:39.787 +07:00 [INF] Route matched with {action = "CreatePaymentUrlVnpay", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreatePaymentUrlVnpay(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-03 23:31:39.800 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-03 23:31:39.813 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Invoice_id], [t].[Amount_due], [t].[Cashier_id], [t].[Check_in_time], [t].[Check_out_time], [t].[Customer_id], [t].[Invoice_discount], [t].[Invoice_note], [t].[Order_id], [t].[Order_type_id], [t].[Other_payment], [t].[Payment_method_id], [t].[Room_id], [t].[Shipper_id], [t].[Status], [t].[Subtotal], [t].[Total_quantity], [t].[Total_vat], [i0].[Invoice_detail_id], [i0].[Invoice_id], [i0].[Price], [i0].[Product_id], [i0].[Product_name], [i0].[Product_note], [i0].[Product_vat], [i0].[Quantity]
FROM (
    SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat]
    FROM [Invoice] AS [i]
    WHERE [i].[Invoice_id] = @__id_0
) AS [t]
LEFT JOIN [Invoice_detail] AS [i0] ON [t].[Invoice_id] = [i0].[Invoice_id]
ORDER BY [t].[Invoice_id]
2025-04-03 23:31:39.828 +07:00 [INF] Executing RedirectResult, redirecting to https://sandbox.vnpayment.vn/paymentv2/vpcpay.html?vnp_Amount=14325000&vnp_Command=pay&vnp_CreateDate=20250403233139&vnp_CurrCode=VND&vnp_IpAddr=192.168.1.12&vnp_Locale=vn&vnp_OrderInfo=Khach+le+2+143250&vnp_OrderType=other&vnp_ReturnUrl=file%3A%2F%2F%2FC%3A%2FUsers%2Fabc%2FDesktop%2FNew%2520Text%2520Document.html&vnp_TmnCode=1MTJPPPJ&vnp_TxnRef=638793198998270654&vnp_Version=2.1.0&vnp_SecureHash=9fc5691925292cc2986f4375bd3d3cf9a9f237f3ea39aad4445634f28b665a6c6272cf62cc9b69ad0ec9a09d12c5f696c8773fca6a231e080bee52f4ca1daf8a.
2025-04-03 23:31:39.835 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API) in 36.8068ms
2025-04-03 23:31:39.839 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 23:31:39.845 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?Id=2 - - - 302 0 - 74.0367ms
2025-04-03 23:34:10.579 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-03 23:34:10.786 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-03 23:34:10.794 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-03 23:34:10.890 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-03 23:34:10.896 +07:00 [INF] Hosting environment: Development
2025-04-03 23:34:10.904 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-03 23:34:11.108 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-03 23:34:11.320 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 215.9540ms
2025-04-03 23:34:11.361 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-03 23:34:11.361 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-03 23:34:11.373 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 11.2089ms
2025-04-03 23:34:11.428 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 66.7415ms
2025-04-03 23:34:11.843 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-03 23:34:11.893 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 50.3070ms
2025-04-03 23:34:25.791 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-03 23:34:25.947 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-03 23:34:25.950 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-03 23:34:26.016 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-03 23:34:26.019 +07:00 [INF] Hosting environment: Development
2025-04-03 23:34:26.024 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-03 23:34:26.278 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-03 23:34:26.497 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 220.8424ms
2025-04-03 23:34:26.543 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-03 23:34:26.543 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-03 23:34:26.554 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 11.0981ms
2025-04-03 23:34:26.596 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 53.1493ms
2025-04-03 23:34:26.716 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-03 23:34:26.773 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 56.7261ms
2025-04-03 23:34:33.242 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/document - -
2025-04-03 23:34:33.360 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/document - - - 404 0 - 118.0637ms
2025-04-03 23:35:06.741 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-03 23:35:06.948 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-03 23:35:06.954 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-03 23:35:07.054 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-03 23:35:07.057 +07:00 [INF] Hosting environment: Development
2025-04-03 23:35:07.060 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-03 23:35:07.121 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-03 23:35:07.427 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 309.6599ms
2025-04-03 23:35:07.470 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-03 23:35:07.470 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-03 23:35:07.479 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 9.7698ms
2025-04-03 23:35:07.529 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 59.2296ms
2025-04-03 23:35:07.953 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-03 23:35:08.026 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 72.7803ms
2025-04-03 23:35:18.021 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?Id=2 - -
2025-04-03 23:35:18.090 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 23:35:18.124 +07:00 [INF] Route matched with {action = "CreatePaymentUrlVnpay", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreatePaymentUrlVnpay(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-03 23:35:18.951 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-03 23:35:19.561 +07:00 [INF] Executed DbCommand (66ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Invoice_id], [t].[Amount_due], [t].[Cashier_id], [t].[Check_in_time], [t].[Check_out_time], [t].[Customer_id], [t].[Invoice_discount], [t].[Invoice_note], [t].[Order_id], [t].[Order_type_id], [t].[Other_payment], [t].[Payment_method_id], [t].[Room_id], [t].[Shipper_id], [t].[Status], [t].[Subtotal], [t].[Total_quantity], [t].[Total_vat], [i0].[Invoice_detail_id], [i0].[Invoice_id], [i0].[Price], [i0].[Product_id], [i0].[Product_name], [i0].[Product_note], [i0].[Product_vat], [i0].[Quantity]
FROM (
    SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat]
    FROM [Invoice] AS [i]
    WHERE [i].[Invoice_id] = @__id_0
) AS [t]
LEFT JOIN [Invoice_detail] AS [i0] ON [t].[Invoice_id] = [i0].[Invoice_id]
ORDER BY [t].[Invoice_id]
2025-04-03 23:35:19.740 +07:00 [INF] Executing RedirectResult, redirecting to https://sandbox.vnpayment.vn/paymentv2/vpcpay.html?vnp_Amount=14325000&vnp_Command=pay&vnp_CreateDate=20250403233519&vnp_CurrCode=VND&vnp_IpAddr=192.168.1.12&vnp_Locale=vn&vnp_OrderInfo=Khach+le+2+143250&vnp_OrderType=other&vnp_ReturnUrl=https%3A%2F%2Fwww.facebook.com%2Freel%2F639253061931440&vnp_TmnCode=1MTJPPPJ&vnp_TxnRef=638793201197249851&vnp_Version=2.1.0&vnp_SecureHash=76d0d96ac6dfbf4f47306a457f528b3cc4dfcc034609b0c7e147f40008c9462729d2dfad09fe12cf83423391aa96a6864e8be98788f1eba2bfffdf8cb3d4f3e4.
2025-04-03 23:35:19.757 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API) in 1611.2757ms
2025-04-03 23:35:19.767 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 23:35:19.781 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?Id=2 - - - 302 0 - 1760.2432ms
2025-04-03 23:35:26.882 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?Id=2 - -
2025-04-03 23:35:26.902 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 23:35:26.911 +07:00 [INF] Route matched with {action = "CreatePaymentUrlVnpay", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreatePaymentUrlVnpay(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-03 23:35:26.939 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-03 23:35:26.960 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Invoice_id], [t].[Amount_due], [t].[Cashier_id], [t].[Check_in_time], [t].[Check_out_time], [t].[Customer_id], [t].[Invoice_discount], [t].[Invoice_note], [t].[Order_id], [t].[Order_type_id], [t].[Other_payment], [t].[Payment_method_id], [t].[Room_id], [t].[Shipper_id], [t].[Status], [t].[Subtotal], [t].[Total_quantity], [t].[Total_vat], [i0].[Invoice_detail_id], [i0].[Invoice_id], [i0].[Price], [i0].[Product_id], [i0].[Product_name], [i0].[Product_note], [i0].[Product_vat], [i0].[Quantity]
FROM (
    SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat]
    FROM [Invoice] AS [i]
    WHERE [i].[Invoice_id] = @__id_0
) AS [t]
LEFT JOIN [Invoice_detail] AS [i0] ON [t].[Invoice_id] = [i0].[Invoice_id]
ORDER BY [t].[Invoice_id]
2025-04-03 23:35:26.980 +07:00 [INF] Executing RedirectResult, redirecting to https://sandbox.vnpayment.vn/paymentv2/vpcpay.html?vnp_Amount=14325000&vnp_Command=pay&vnp_CreateDate=20250403233526&vnp_CurrCode=VND&vnp_IpAddr=192.168.1.12&vnp_Locale=vn&vnp_OrderInfo=Khach+le+2+143250&vnp_OrderType=other&vnp_ReturnUrl=https%3A%2F%2Fwww.facebook.com%2Freel%2F639253061931440&vnp_TmnCode=1MTJPPPJ&vnp_TxnRef=638793201269787956&vnp_Version=2.1.0&vnp_SecureHash=3d8021e8f7b90e3cc3f0e6b1faa46d29af7ff67749185f654c872137791c245796182a91d480c25e966d351071a071c0770b3c15ad8febccf4d858ad13d26576.
2025-04-03 23:35:26.986 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API) in 63.0525ms
2025-04-03 23:35:26.995 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 23:35:27.003 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?Id=2 - - - 302 0 - 120.9837ms
2025-04-03 23:36:31.548 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-03 23:36:32.368 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-03 23:36:32.375 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-03 23:36:32.531 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-03 23:36:32.532 +07:00 [INF] Hosting environment: Development
2025-04-03 23:36:32.535 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-03 23:36:33.446 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-03 23:36:33.944 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 504.2439ms
2025-04-03 23:36:33.990 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-03 23:36:34.003 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 12.7696ms
2025-04-03 23:36:34.385 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-03 23:36:34.503 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 118.9424ms
2025-04-03 23:36:34.570 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-03 23:36:34.644 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 74.1859ms
2025-04-03 23:36:41.101 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?Id=2 - -
2025-04-03 23:36:41.460 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 23:36:41.514 +07:00 [INF] Route matched with {action = "CreatePaymentUrlVnpay", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreatePaymentUrlVnpay(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-03 23:36:43.675 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-03 23:36:45.648 +07:00 [INF] Executed DbCommand (113ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Invoice_id], [t].[Amount_due], [t].[Cashier_id], [t].[Check_in_time], [t].[Check_out_time], [t].[Customer_id], [t].[Invoice_discount], [t].[Invoice_note], [t].[Order_id], [t].[Order_type_id], [t].[Other_payment], [t].[Payment_method_id], [t].[Room_id], [t].[Shipper_id], [t].[Status], [t].[Subtotal], [t].[Total_quantity], [t].[Total_vat], [i0].[Invoice_detail_id], [i0].[Invoice_id], [i0].[Price], [i0].[Product_id], [i0].[Product_name], [i0].[Product_note], [i0].[Product_vat], [i0].[Quantity]
FROM (
    SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat]
    FROM [Invoice] AS [i]
    WHERE [i].[Invoice_id] = @__id_0
) AS [t]
LEFT JOIN [Invoice_detail] AS [i0] ON [t].[Invoice_id] = [i0].[Invoice_id]
ORDER BY [t].[Invoice_id]
2025-04-03 23:36:46.021 +07:00 [INF] Executing RedirectResult, redirecting to https://sandbox.vnpayment.vn/paymentv2/vpcpay.html?vnp_Amount=14325000&vnp_Command=pay&vnp_CreateDate=20250403233645&vnp_CurrCode=VND&vnp_IpAddr=192.168.1.12&vnp_Locale=vn&vnp_OrderInfo=Khach+le+2+143250&vnp_OrderType=other&vnp_ReturnUrl=https%3A%2F%2Fwww.facebook.com%2Freel%2F639253061931440&vnp_TmnCode=1MTJPPPJ&vnp_TxnRef=638793202059970464&vnp_Version=2.1.0&vnp_SecureHash=12be015179bc2ebc95134eebafca5a5b91b124d616672151dc04f00c9f77db42d1ae72209e19e8bff01489a1a51e59e415b1e8d3a2d52907a1441c3928b6594a.
2025-04-03 23:36:46.037 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API) in 4500.7608ms
2025-04-03 23:36:46.050 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 23:36:46.079 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?Id=2 - - - 302 0 - 4978.4570ms
2025-04-03 23:37:01.792 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?Id=2 - -
2025-04-03 23:37:01.825 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 23:37:01.831 +07:00 [INF] Route matched with {action = "CreatePaymentUrlVnpay", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreatePaymentUrlVnpay(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-03 23:37:01.858 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-03 23:37:01.899 +07:00 [INF] Executed DbCommand (16ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Invoice_id], [t].[Amount_due], [t].[Cashier_id], [t].[Check_in_time], [t].[Check_out_time], [t].[Customer_id], [t].[Invoice_discount], [t].[Invoice_note], [t].[Order_id], [t].[Order_type_id], [t].[Other_payment], [t].[Payment_method_id], [t].[Room_id], [t].[Shipper_id], [t].[Status], [t].[Subtotal], [t].[Total_quantity], [t].[Total_vat], [i0].[Invoice_detail_id], [i0].[Invoice_id], [i0].[Price], [i0].[Product_id], [i0].[Product_name], [i0].[Product_note], [i0].[Product_vat], [i0].[Quantity]
FROM (
    SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat]
    FROM [Invoice] AS [i]
    WHERE [i].[Invoice_id] = @__id_0
) AS [t]
LEFT JOIN [Invoice_detail] AS [i0] ON [t].[Invoice_id] = [i0].[Invoice_id]
ORDER BY [t].[Invoice_id]
2025-04-03 23:37:01.910 +07:00 [INF] Executing RedirectResult, redirecting to https://sandbox.vnpayment.vn/paymentv2/vpcpay.html?vnp_Amount=14325000&vnp_Command=pay&vnp_CreateDate=20250403233701&vnp_CurrCode=VND&vnp_IpAddr=192.168.1.12&vnp_Locale=vn&vnp_OrderInfo=Khach+le+2+143250&vnp_OrderType=other&vnp_ReturnUrl=https%3A%2F%2Fwww.facebook.com%2Freel%2F639253061931440&vnp_TmnCode=1MTJPPPJ&vnp_TxnRef=638793202219079748&vnp_Version=2.1.0&vnp_SecureHash=0d8d7338ceec3af3280ff8578a31d022bcf9138769d3bcf7b9a2e6298d0db31ed217160ca7b44c4588861997b1393747c62c57df71e094047c6d7935d3a9075a.
2025-04-03 23:37:01.916 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API) in 78.8498ms
2025-04-03 23:37:01.919 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 23:37:01.924 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?Id=2 - - - 302 0 - 132.1402ms
2025-04-03 23:37:49.153 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/Return - -
2025-04-03 23:37:49.198 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.PaymentCallbackVnpay (BepKhoiBackend.API)'
2025-04-03 23:37:49.208 +07:00 [INF] Route matched with {action = "PaymentCallbackVnpay", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult PaymentCallbackVnpay() on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-03 23:44:27.819 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-03 23:44:28.375 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-03 23:44:28.381 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-03 23:44:28.506 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-03 23:44:28.525 +07:00 [INF] Hosting environment: Development
2025-04-03 23:44:28.526 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-03 23:44:28.957 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-03 23:44:29.279 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 328.7691ms
2025-04-03 23:44:29.292 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-03 23:44:29.299 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 7.0516ms
2025-04-03 23:44:29.544 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-03 23:44:29.641 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 96.5400ms
2025-04-03 23:44:29.686 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-03 23:44:29.756 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 70.0405ms
2025-04-03 23:44:35.693 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?Id=2 - -
2025-04-03 23:44:35.887 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 23:44:35.916 +07:00 [INF] Route matched with {action = "CreatePaymentUrlVnpay", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreatePaymentUrlVnpay(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-03 23:44:37.349 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-03 23:44:38.603 +07:00 [INF] Executed DbCommand (106ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Invoice_id], [t].[Amount_due], [t].[Cashier_id], [t].[Check_in_time], [t].[Check_out_time], [t].[Customer_id], [t].[Invoice_discount], [t].[Invoice_note], [t].[Order_id], [t].[Order_type_id], [t].[Other_payment], [t].[Payment_method_id], [t].[Room_id], [t].[Shipper_id], [t].[Status], [t].[Subtotal], [t].[Total_quantity], [t].[Total_vat], [i0].[Invoice_detail_id], [i0].[Invoice_id], [i0].[Price], [i0].[Product_id], [i0].[Product_name], [i0].[Product_note], [i0].[Product_vat], [i0].[Quantity]
FROM (
    SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat]
    FROM [Invoice] AS [i]
    WHERE [i].[Invoice_id] = @__id_0
) AS [t]
LEFT JOIN [Invoice_detail] AS [i0] ON [t].[Invoice_id] = [i0].[Invoice_id]
ORDER BY [t].[Invoice_id]
2025-04-03 23:44:38.825 +07:00 [INF] Executing RedirectResult, redirecting to https://sandbox.vnpayment.vn/paymentv2/vpcpay.html?vnp_Amount=14325000&vnp_Command=pay&vnp_CreateDate=20250403234438&vnp_CurrCode=VND&vnp_IpAddr=192.168.1.12&vnp_Locale=vn&vnp_OrderInfo=Khach+le+2+143250&vnp_OrderType=other&vnp_ReturnUrl=https%3A%2F%2Fwww.facebook.com%2Freel%2F639253061931440&vnp_TmnCode=1MTJPPPJ&vnp_TxnRef=638793206788130053&vnp_Version=2.1.0&vnp_SecureHash=46968798e308b9dbf242a4470049026b15e896ac04b279f9990ca4f1fdd410b79fa9259be6842c5f411bcb81c3099ce70c523b3e64f0bb189623dc1dbc26bc44.
2025-04-03 23:44:38.837 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API) in 2903.9886ms
2025-04-03 23:44:38.845 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 23:44:38.859 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?Id=2 - - - 302 0 - 3165.4465ms
2025-04-03 23:44:45.866 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?Id=2 - -
2025-04-03 23:44:45.894 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 23:44:45.899 +07:00 [INF] Route matched with {action = "CreatePaymentUrlVnpay", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreatePaymentUrlVnpay(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-03 23:44:45.924 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-03 23:44:45.977 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Invoice_id], [t].[Amount_due], [t].[Cashier_id], [t].[Check_in_time], [t].[Check_out_time], [t].[Customer_id], [t].[Invoice_discount], [t].[Invoice_note], [t].[Order_id], [t].[Order_type_id], [t].[Other_payment], [t].[Payment_method_id], [t].[Room_id], [t].[Shipper_id], [t].[Status], [t].[Subtotal], [t].[Total_quantity], [t].[Total_vat], [i0].[Invoice_detail_id], [i0].[Invoice_id], [i0].[Price], [i0].[Product_id], [i0].[Product_name], [i0].[Product_note], [i0].[Product_vat], [i0].[Quantity]
FROM (
    SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat]
    FROM [Invoice] AS [i]
    WHERE [i].[Invoice_id] = @__id_0
) AS [t]
LEFT JOIN [Invoice_detail] AS [i0] ON [t].[Invoice_id] = [i0].[Invoice_id]
ORDER BY [t].[Invoice_id]
2025-04-03 23:44:45.987 +07:00 [INF] Executing RedirectResult, redirecting to https://sandbox.vnpayment.vn/paymentv2/vpcpay.html?vnp_Amount=14325000&vnp_Command=pay&vnp_CreateDate=20250403234445&vnp_CurrCode=VND&vnp_IpAddr=192.168.1.12&vnp_Locale=vn&vnp_OrderInfo=Khach+le+2+143250&vnp_OrderType=other&vnp_ReturnUrl=https%3A%2F%2Fwww.facebook.com%2Freel%2F639253061931440&vnp_TmnCode=1MTJPPPJ&vnp_TxnRef=638793206859843176&vnp_Version=2.1.0&vnp_SecureHash=d7e8cc73a1c176420dda5a9c3c9cf736df4d0f319cc2d59e8b573b14252a80d7420eb46085469b2638a378001d1a211b0bd59e36c74beb65c6ff7156a999aea5.
2025-04-03 23:44:45.990 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API) in 84.5628ms
2025-04-03 23:44:45.996 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 23:44:46.000 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?Id=2 - - - 302 0 - 133.5422ms
2025-04-03 23:45:43.278 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/Return - -
2025-04-03 23:45:43.318 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.PaymentCallbackVnpay (BepKhoiBackend.API)'
2025-04-03 23:45:43.328 +07:00 [INF] Route matched with {action = "PaymentCallbackVnpay", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult PaymentCallbackVnpay() on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-03 23:45:43.348 +07:00 [INF] Executing OkObjectResult, writing value of type 'PaymentResponseModel'.
2025-04-03 23:45:43.357 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.PaymentCallbackVnpay (BepKhoiBackend.API) in 21.883ms
2025-04-03 23:45:43.361 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.PaymentCallbackVnpay (BepKhoiBackend.API)'
2025-04-03 23:45:43.363 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/Return - - - 200 - application/json;+charset=utf-8 85.5483ms
2025-04-03 23:45:44.660 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/Return - -
2025-04-03 23:45:44.662 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.PaymentCallbackVnpay (BepKhoiBackend.API)'
2025-04-03 23:45:44.665 +07:00 [INF] Route matched with {action = "PaymentCallbackVnpay", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult PaymentCallbackVnpay() on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-03 23:45:44.671 +07:00 [INF] Executing OkObjectResult, writing value of type 'PaymentResponseModel'.
2025-04-03 23:45:44.676 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.PaymentCallbackVnpay (BepKhoiBackend.API) in 6.1994ms
2025-04-03 23:45:44.679 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.PaymentCallbackVnpay (BepKhoiBackend.API)'
2025-04-03 23:45:44.682 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/Return - - - 200 - application/json;+charset=utf-8 21.9627ms
2025-04-03 23:45:57.989 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/Return - -
2025-04-03 23:45:57.997 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.PaymentCallbackVnpay (BepKhoiBackend.API)'
2025-04-03 23:45:57.999 +07:00 [INF] Route matched with {action = "PaymentCallbackVnpay", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult PaymentCallbackVnpay() on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-03 23:45:58.002 +07:00 [INF] Executing OkObjectResult, writing value of type 'PaymentResponseModel'.
2025-04-03 23:45:58.004 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.PaymentCallbackVnpay (BepKhoiBackend.API) in 2.6428ms
2025-04-03 23:45:58.007 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.PaymentCallbackVnpay (BepKhoiBackend.API)'
2025-04-03 23:45:58.012 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/Return - - - 200 - application/json;+charset=utf-8 23.7081ms
2025-04-03 23:54:11.436 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-03 23:54:11.660 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-03 23:54:11.663 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-03 23:54:11.720 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-03 23:54:11.723 +07:00 [INF] Hosting environment: Development
2025-04-03 23:54:11.724 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-03 23:54:12.487 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-03 23:54:12.675 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 190.9148ms
2025-04-03 23:54:12.698 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-03 23:54:12.703 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 5.7065ms
2025-04-03 23:54:12.936 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-03 23:54:12.988 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 51.8362ms
2025-04-03 23:54:13.039 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-03 23:54:13.054 +07:00 [ERR] An unhandled exception has occurred while executing the request.
Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Ambiguous HTTP method for action - BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API). Actions require an explicit HttpMethod binding for Swagger/OpenAPI 3.0
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperations(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePaths(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerDocumentWithoutFilters(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerAsync(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2025-04-03 23:54:13.069 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 500 - text/plain;+charset=utf-8 30.4415ms
2025-04-03 23:54:57.221 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-03 23:54:57.362 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-03 23:54:57.365 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-03 23:54:57.427 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-03 23:54:57.432 +07:00 [INF] Hosting environment: Development
2025-04-03 23:54:57.437 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-03 23:54:58.231 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-03 23:54:58.435 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 208.9767ms
2025-04-03 23:54:58.453 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-03 23:54:58.458 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 5.0255ms
2025-04-03 23:54:58.719 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-03 23:54:58.762 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 42.1675ms
2025-04-03 23:54:58.829 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-03 23:54:58.871 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 41.4884ms
2025-04-03 23:55:04.375 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?Id=2 - -
2025-04-03 23:55:05.026 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 23:55:05.046 +07:00 [INF] Route matched with {action = "CreatePaymentUrlVnpay", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreatePaymentUrlVnpay(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-03 23:55:06.216 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-03 23:55:07.500 +07:00 [INF] Executed DbCommand (38ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Invoice_id], [t].[Amount_due], [t].[Cashier_id], [t].[Check_in_time], [t].[Check_out_time], [t].[Customer_id], [t].[Invoice_discount], [t].[Invoice_note], [t].[Order_id], [t].[Order_type_id], [t].[Other_payment], [t].[Payment_method_id], [t].[Room_id], [t].[Shipper_id], [t].[Status], [t].[Subtotal], [t].[Total_quantity], [t].[Total_vat], [i0].[Invoice_detail_id], [i0].[Invoice_id], [i0].[Price], [i0].[Product_id], [i0].[Product_name], [i0].[Product_note], [i0].[Product_vat], [i0].[Quantity]
FROM (
    SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat]
    FROM [Invoice] AS [i]
    WHERE [i].[Invoice_id] = @__id_0
) AS [t]
LEFT JOIN [Invoice_detail] AS [i0] ON [t].[Invoice_id] = [i0].[Invoice_id]
ORDER BY [t].[Invoice_id]
2025-04-03 23:55:07.642 +07:00 [INF] Executing RedirectResult, redirecting to https://sandbox.vnpayment.vn/paymentv2/vpcpay.html?vnp_Amount=14325000&vnp_Command=pay&vnp_CreateDate=20250403235507&vnp_CurrCode=VND&vnp_IpAddr=192.168.1.12&vnp_Locale=vn&vnp_OrderInfo=Khach+le+2+143250&vnp_OrderType=other&vnp_TmnCode=1MTJPPPJ&vnp_TxnRef=638793213076309240&vnp_Version=2.1.0&vnp_SecureHash=404b61caf7e7713e4f5d87c52a3195ecaf0db700b27c0bdb92fd5874f24017c8445bd3b4cd10a7397eb4d741c0400099831eedaa560a5c77400b22164b04595f.
2025-04-03 23:55:07.654 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API) in 2590.731ms
2025-04-03 23:55:07.663 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 23:55:07.675 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?Id=2 - - - 302 0 - 3299.6191ms
2025-04-03 23:55:19.841 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?Id=2 - -
2025-04-03 23:55:19.853 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 23:55:19.858 +07:00 [INF] Route matched with {action = "CreatePaymentUrlVnpay", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreatePaymentUrlVnpay(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-03 23:55:19.876 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-03 23:55:19.893 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Invoice_id], [t].[Amount_due], [t].[Cashier_id], [t].[Check_in_time], [t].[Check_out_time], [t].[Customer_id], [t].[Invoice_discount], [t].[Invoice_note], [t].[Order_id], [t].[Order_type_id], [t].[Other_payment], [t].[Payment_method_id], [t].[Room_id], [t].[Shipper_id], [t].[Status], [t].[Subtotal], [t].[Total_quantity], [t].[Total_vat], [i0].[Invoice_detail_id], [i0].[Invoice_id], [i0].[Price], [i0].[Product_id], [i0].[Product_name], [i0].[Product_note], [i0].[Product_vat], [i0].[Quantity]
FROM (
    SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat]
    FROM [Invoice] AS [i]
    WHERE [i].[Invoice_id] = @__id_0
) AS [t]
LEFT JOIN [Invoice_detail] AS [i0] ON [t].[Invoice_id] = [i0].[Invoice_id]
ORDER BY [t].[Invoice_id]
2025-04-03 23:55:19.903 +07:00 [INF] Executing RedirectResult, redirecting to https://sandbox.vnpayment.vn/paymentv2/vpcpay.html?vnp_Amount=14325000&vnp_Command=pay&vnp_CreateDate=20250403235519&vnp_CurrCode=VND&vnp_IpAddr=192.168.1.12&vnp_Locale=vn&vnp_OrderInfo=Khach+le+2+143250&vnp_OrderType=other&vnp_TmnCode=1MTJPPPJ&vnp_TxnRef=638793213199016038&vnp_Version=2.1.0&vnp_SecureHash=3b1eb5eccd34a47ab1a7dffc7a8a3484b884f1e3baa55bcfc2162407f8d418616943f888abc352c94f46930adcde129a653b25b2c14ff01c0753b5fdcc2c0ce9.
2025-04-03 23:55:19.907 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API) in 41.8772ms
2025-04-03 23:55:19.910 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 23:55:19.916 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?Id=2 - - - 302 0 - 73.6449ms
2025-04-03 23:55:42.217 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-03 23:55:42.370 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-03 23:55:42.374 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-03 23:55:42.440 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-03 23:55:42.446 +07:00 [INF] Hosting environment: Development
2025-04-03 23:55:42.452 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-03 23:55:42.883 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-03 23:55:43.046 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 165.2014ms
2025-04-03 23:55:43.073 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-03 23:55:43.073 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-03 23:55:43.083 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 10.2131ms
2025-04-03 23:55:43.124 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 50.7023ms
2025-04-03 23:55:43.381 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-03 23:55:43.434 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 52.7883ms
2025-04-03 23:55:50.784 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?Id=2 - -
2025-04-03 23:55:50.838 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 23:55:50.860 +07:00 [INF] Route matched with {action = "CreatePaymentUrlVnpay", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreatePaymentUrlVnpay(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-03 23:55:51.654 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-03 23:55:52.119 +07:00 [INF] Executed DbCommand (28ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Invoice_id], [t].[Amount_due], [t].[Cashier_id], [t].[Check_in_time], [t].[Check_out_time], [t].[Customer_id], [t].[Invoice_discount], [t].[Invoice_note], [t].[Order_id], [t].[Order_type_id], [t].[Other_payment], [t].[Payment_method_id], [t].[Room_id], [t].[Shipper_id], [t].[Status], [t].[Subtotal], [t].[Total_quantity], [t].[Total_vat], [i0].[Invoice_detail_id], [i0].[Invoice_id], [i0].[Price], [i0].[Product_id], [i0].[Product_name], [i0].[Product_note], [i0].[Product_vat], [i0].[Quantity]
FROM (
    SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat]
    FROM [Invoice] AS [i]
    WHERE [i].[Invoice_id] = @__id_0
) AS [t]
LEFT JOIN [Invoice_detail] AS [i0] ON [t].[Invoice_id] = [i0].[Invoice_id]
ORDER BY [t].[Invoice_id]
2025-04-03 23:55:52.254 +07:00 [INF] Executing RedirectResult, redirecting to https://sandbox.vnpayment.vn/paymentv2/vpcpay.html?vnp_Amount=14325000&vnp_Command=pay&vnp_CreateDate=20250403235552&vnp_CurrCode=VND&vnp_IpAddr=192.168.1.12&vnp_Locale=vn&vnp_OrderInfo=Khach+le+2+143250&vnp_OrderType=other&vnp_TmnCode=1MTJPPPJ&vnp_TxnRef=638793213522371311&vnp_Version=2.1.0&vnp_SecureHash=029e85ecdab2805f812c3e684edea8e3171954fec31abd05a3c23f017080dd29a47eecc4460c4c9ff7a19cf87f25b05a17735a32f75b27facbf3be74c96d3748.
2025-04-03 23:55:52.263 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API) in 1385.9751ms
2025-04-03 23:55:52.264 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 23:55:52.269 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?Id=2 - - - 302 0 - 1485.5238ms
2025-04-03 23:55:58.864 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?Id=2 - -
2025-04-03 23:55:58.879 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 23:55:58.888 +07:00 [INF] Route matched with {action = "CreatePaymentUrlVnpay", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreatePaymentUrlVnpay(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-03 23:55:58.915 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-03 23:55:58.934 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Invoice_id], [t].[Amount_due], [t].[Cashier_id], [t].[Check_in_time], [t].[Check_out_time], [t].[Customer_id], [t].[Invoice_discount], [t].[Invoice_note], [t].[Order_id], [t].[Order_type_id], [t].[Other_payment], [t].[Payment_method_id], [t].[Room_id], [t].[Shipper_id], [t].[Status], [t].[Subtotal], [t].[Total_quantity], [t].[Total_vat], [i0].[Invoice_detail_id], [i0].[Invoice_id], [i0].[Price], [i0].[Product_id], [i0].[Product_name], [i0].[Product_note], [i0].[Product_vat], [i0].[Quantity]
FROM (
    SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat]
    FROM [Invoice] AS [i]
    WHERE [i].[Invoice_id] = @__id_0
) AS [t]
LEFT JOIN [Invoice_detail] AS [i0] ON [t].[Invoice_id] = [i0].[Invoice_id]
ORDER BY [t].[Invoice_id]
2025-04-03 23:55:58.951 +07:00 [INF] Executing RedirectResult, redirecting to https://sandbox.vnpayment.vn/paymentv2/vpcpay.html?vnp_Amount=14325000&vnp_Command=pay&vnp_CreateDate=20250403235558&vnp_CurrCode=VND&vnp_IpAddr=192.168.1.12&vnp_Locale=vn&vnp_OrderInfo=Khach+le+2+143250&vnp_OrderType=other&vnp_TmnCode=1MTJPPPJ&vnp_TxnRef=638793213589492170&vnp_Version=2.1.0&vnp_SecureHash=3cb10284aeb703b8cca7068fc15dd4d7e1c89e41013225edeb8768e0aae4d9e4ce8c588dd7f56c88f3ec4134bcd2b2fe2050378b2f74e785754019e5e805ce7d.
2025-04-03 23:55:58.958 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API) in 55.1976ms
2025-04-03 23:55:58.963 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 23:55:58.966 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?Id=2 - - - 302 0 - 102.3948ms
2025-04-03 23:56:54.148 +07:00 [INF] User profile is available. Using 'C:\Users\abc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-03 23:56:54.336 +07:00 [INF] Now listening on: https://localhost:7257
2025-04-03 23:56:54.338 +07:00 [INF] Now listening on: http://localhost:5287
2025-04-03 23:56:54.420 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-03 23:56:54.422 +07:00 [INF] Hosting environment: Development
2025-04-03 23:56:54.423 +07:00 [INF] Content root path: D:\Doan-41\bepkhoibackend\BepKhoiBackend\BepKhoiBackend.API\
2025-04-03 23:56:55.105 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/index.html - -
2025-04-03 23:56:55.352 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/index.html - - - 200 - text/html;charset=utf-8 250.0360ms
2025-04-03 23:56:55.370 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - -
2025-04-03 23:56:55.379 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_framework/aspnetcore-browser-refresh.js - - - 200 16521 application/javascript;+charset=utf-8 8.9797ms
2025-04-03 23:56:55.663 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/_vs/browserLink - -
2025-04-03 23:56:55.704 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 40.5839ms
2025-04-03 23:56:55.766 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - -
2025-04-03 23:56:55.810 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 43.6113ms
2025-04-03 23:57:00.716 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?Id=2 - -
2025-04-03 23:57:00.787 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 23:57:00.812 +07:00 [INF] Route matched with {action = "CreatePaymentUrlVnpay", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreatePaymentUrlVnpay(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-03 23:57:01.859 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-03 23:57:02.398 +07:00 [INF] Executed DbCommand (29ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Invoice_id], [t].[Amount_due], [t].[Cashier_id], [t].[Check_in_time], [t].[Check_out_time], [t].[Customer_id], [t].[Invoice_discount], [t].[Invoice_note], [t].[Order_id], [t].[Order_type_id], [t].[Other_payment], [t].[Payment_method_id], [t].[Room_id], [t].[Shipper_id], [t].[Status], [t].[Subtotal], [t].[Total_quantity], [t].[Total_vat], [i0].[Invoice_detail_id], [i0].[Invoice_id], [i0].[Price], [i0].[Product_id], [i0].[Product_name], [i0].[Product_note], [i0].[Product_vat], [i0].[Quantity]
FROM (
    SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat]
    FROM [Invoice] AS [i]
    WHERE [i].[Invoice_id] = @__id_0
) AS [t]
LEFT JOIN [Invoice_detail] AS [i0] ON [t].[Invoice_id] = [i0].[Invoice_id]
ORDER BY [t].[Invoice_id]
2025-04-03 23:57:02.555 +07:00 [INF] Executing RedirectResult, redirecting to https://sandbox.vnpayment.vn/paymentv2/vpcpay.html?vnp_Amount=14325000&vnp_Command=pay&vnp_CreateDate=20250403235702&vnp_CurrCode=VND&vnp_IpAddr=192.168.1.12&vnp_Locale=vn&vnp_OrderInfo=Khach+le+2+143250&vnp_OrderType=other&vnp_ReturnUrl=https%3A%2F%2Flocalhost%3A7257%2Fapi%2FInvoice%2FReturn&vnp_TmnCode=1MTJPPPJ&vnp_TxnRef=638793214225434636&vnp_Version=2.1.0&vnp_SecureHash=409e83668afdcb666b3fed3f7b7c4d5abfd8b6290b8f6fd2870da72cc62593bda09944e243e5fd098c5b8e10c072dbeddc43a771ee17570dc6e44bbeccc234eb.
2025-04-03 23:57:02.567 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API) in 1739.4601ms
2025-04-03 23:57:02.574 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 23:57:02.581 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?Id=2 - - - 302 0 - 1864.7278ms
2025-04-03 23:57:07.820 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?Id=2 - -
2025-04-03 23:57:07.833 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 23:57:07.837 +07:00 [INF] Route matched with {action = "CreatePaymentUrlVnpay", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreatePaymentUrlVnpay(Int32) on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-03 23:57:07.853 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'bepkhoiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-04-03 23:57:07.872 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Invoice_id], [t].[Amount_due], [t].[Cashier_id], [t].[Check_in_time], [t].[Check_out_time], [t].[Customer_id], [t].[Invoice_discount], [t].[Invoice_note], [t].[Order_id], [t].[Order_type_id], [t].[Other_payment], [t].[Payment_method_id], [t].[Room_id], [t].[Shipper_id], [t].[Status], [t].[Subtotal], [t].[Total_quantity], [t].[Total_vat], [i0].[Invoice_detail_id], [i0].[Invoice_id], [i0].[Price], [i0].[Product_id], [i0].[Product_name], [i0].[Product_note], [i0].[Product_vat], [i0].[Quantity]
FROM (
    SELECT TOP(1) [i].[Invoice_id], [i].[Amount_due], [i].[Cashier_id], [i].[Check_in_time], [i].[Check_out_time], [i].[Customer_id], [i].[Invoice_discount], [i].[Invoice_note], [i].[Order_id], [i].[Order_type_id], [i].[Other_payment], [i].[Payment_method_id], [i].[Room_id], [i].[Shipper_id], [i].[Status], [i].[Subtotal], [i].[Total_quantity], [i].[Total_vat]
    FROM [Invoice] AS [i]
    WHERE [i].[Invoice_id] = @__id_0
) AS [t]
LEFT JOIN [Invoice_detail] AS [i0] ON [t].[Invoice_id] = [i0].[Invoice_id]
ORDER BY [t].[Invoice_id]
2025-04-03 23:57:07.886 +07:00 [INF] Executing RedirectResult, redirecting to https://sandbox.vnpayment.vn/paymentv2/vpcpay.html?vnp_Amount=14325000&vnp_Command=pay&vnp_CreateDate=20250403235707&vnp_CurrCode=VND&vnp_IpAddr=192.168.1.12&vnp_Locale=vn&vnp_OrderInfo=Khach+le+2+143250&vnp_OrderType=other&vnp_ReturnUrl=https%3A%2F%2Flocalhost%3A7257%2Fapi%2FInvoice%2FReturn&vnp_TmnCode=1MTJPPPJ&vnp_TxnRef=638793214278841583&vnp_Version=2.1.0&vnp_SecureHash=5f25bc574a5858a4f7e80e8cf04ec4a32c6f188375c39dbd0cca878370a451ae47983b65a51c6ff19e8d4a395281b1e5ff953d8ca4969ab7a6cfbf05759a085d.
2025-04-03 23:57:07.888 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API) in 47.8466ms
2025-04-03 23:57:07.892 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.CreatePaymentUrlVnpay (BepKhoiBackend.API)'
2025-04-03 23:57:07.897 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/vnpay-url?Id=2 - - - 302 0 - 76.7385ms
2025-04-03 23:57:27.688 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/Return?vnp_Amount=14325000&vnp_BankCode=NCB&vnp_BankTranNo=VNP14889616&vnp_CardType=ATM&vnp_OrderInfo=Khach+le+2+143250&vnp_PayDate=20250403235728&vnp_ResponseCode=00&vnp_TmnCode=1MTJPPPJ&vnp_TransactionNo=14889616&vnp_TransactionStatus=00&vnp_TxnRef=638793214278841583&vnp_SecureHash=209dd0d8d9e2bc0271e5af39883b3c6fe7b312a83d7d149c07cfb632f7c9433322e4a4b87849e85978a431dae71edda005a317a7d2972f0d2b88a26b4b0bbe09 - -
2025-04-03 23:57:27.698 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.PaymentCallbackVnpay (BepKhoiBackend.API)'
2025-04-03 23:57:27.708 +07:00 [INF] Route matched with {action = "PaymentCallbackVnpay", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult PaymentCallbackVnpay() on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-03 23:57:27.735 +07:00 [INF] Executing OkObjectResult, writing value of type 'PaymentResponseModel'.
2025-04-03 23:57:27.745 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.PaymentCallbackVnpay (BepKhoiBackend.API) in 26.4546ms
2025-04-03 23:57:27.752 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.PaymentCallbackVnpay (BepKhoiBackend.API)'
2025-04-03 23:57:27.758 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/Return?vnp_Amount=14325000&vnp_BankCode=NCB&vnp_BankTranNo=VNP14889616&vnp_CardType=ATM&vnp_OrderInfo=Khach+le+2+143250&vnp_PayDate=20250403235728&vnp_ResponseCode=00&vnp_TmnCode=1MTJPPPJ&vnp_TransactionNo=14889616&vnp_TransactionStatus=00&vnp_TxnRef=638793214278841583&vnp_SecureHash=209dd0d8d9e2bc0271e5af39883b3c6fe7b312a83d7d149c07cfb632f7c9433322e4a4b87849e85978a431dae71edda005a317a7d2972f0d2b88a26b4b0bbe09 - - - 200 - application/json;+charset=utf-8 69.6076ms
2025-04-03 23:57:28.101 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/favicon.ico - -
2025-04-03 23:57:28.107 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/favicon.ico - - - 404 0 - 6.2593ms
2025-04-03 23:58:58.555 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/Return - -
2025-04-03 23:58:58.560 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.PaymentCallbackVnpay (BepKhoiBackend.API)'
2025-04-03 23:58:58.567 +07:00 [INF] Route matched with {action = "PaymentCallbackVnpay", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult PaymentCallbackVnpay() on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-03 23:58:58.572 +07:00 [INF] Executing OkObjectResult, writing value of type 'PaymentResponseModel'.
2025-04-03 23:58:58.575 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.PaymentCallbackVnpay (BepKhoiBackend.API) in 4.3019ms
2025-04-03 23:58:58.580 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.PaymentCallbackVnpay (BepKhoiBackend.API)'
2025-04-03 23:58:58.584 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/Return - - - 200 - application/json;+charset=utf-8 29.1214ms
2025-04-03 23:58:59.725 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7257/api/Invoice/Return - -
2025-04-03 23:58:59.730 +07:00 [INF] Executing endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.PaymentCallbackVnpay (BepKhoiBackend.API)'
2025-04-03 23:58:59.739 +07:00 [INF] Route matched with {action = "PaymentCallbackVnpay", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult PaymentCallbackVnpay() on controller BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController (BepKhoiBackend.API).
2025-04-03 23:58:59.743 +07:00 [INF] Executing OkObjectResult, writing value of type 'PaymentResponseModel'.
2025-04-03 23:58:59.746 +07:00 [INF] Executed action BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.PaymentCallbackVnpay (BepKhoiBackend.API) in 3.2279ms
2025-04-03 23:58:59.748 +07:00 [INF] Executed endpoint 'BepKhoiBackend.API.Controllers.InvoiceControllers.InvoiceController.PaymentCallbackVnpay (BepKhoiBackend.API)'
2025-04-03 23:58:59.749 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7257/api/Invoice/Return - - - 200 - application/json;+charset=utf-8 24.3569ms
